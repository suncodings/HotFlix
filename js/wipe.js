!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(f,n,e,t){var m={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[i](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){m.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){m.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(m.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(m.features)return m.features;var e,t,n=m.createEl().style,o="",i={};i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,i.pointerEvent||(e=navigator.userAgent,!/iP(hone|od)/.test(navigator.platform)||(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&(1<=(t=parseInt(t[1],10))&&t<8&&(i.isOldIOSPhone=!0)),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(i.isOldAndroid=!0),i.androidVersion=t),i.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var r,a,s,l=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c=0;c<4;c++){o=u[c];for(var d=0;d<3;d++)r=l[d],a=o+(o?r.charAt(0).toUpperCase()+r.slice(1):r),!i[r]&&a in n&&(i[r]=a);o&&!i.raf&&(o=o.toLowerCase(),i.raf=window[o+"RequestAnimationFrame"],i.raf&&(i.caf=window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"]))}return i.raf||(s=0,i.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),o=window.setTimeout(function(){e(t+n)},n);return s=t+n,o},i.caf=function(e){clearTimeout(e)}),i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,m.features=i}};m.detectFeatures(),m.features.oldIE&&(m.bind=function(e,t,n,o){t=t.split(" ");for(var i,r=(o?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(i=t[s])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=a;e[r]("on"+i,n["oldIE"+i])}else e[r]("on"+i,n)});var h=this,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};m.extend(g,t);function o(){return{x:0,y:0}}function i(e,t){m.extend(h,t.publicMethods),$e.push(e)}function a(e){var t=Wt();return t-1<e?e-t:e<0?t+e:e}function r(e,t){return et[e]||(et[e]=[]),et[e].push(t)}function v(e){var t=et[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(h,n)}}function c(){return(new Date).getTime()}function x(e){ze=e,h.bg.style.opacity=e*g.bgOpacity}function s(e,t,n,o,i){(!Qe||i&&i!==h.currItem)&&(o/=(i||h.currItem).fitRatio),e[se]=$+t+"px, "+n+"px"+J+" scale("+o+")"}function d(e,t){var n;!g.loop&&t&&(n=B+(qe.x*We-e)/qe.x,t=Math.round(e-yt.x),(n<0&&0<t||n>=Wt()-1&&t<0)&&(e=yt.x+t*g.mainScrollEndFriction)),yt.x=e,ot(e,K)}function l(e,t){var n=bt[e]-Ye[e];return Be[e]+Ve[e]+n-t/X*n}function w(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)}function u(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function p(e,t){return e=$t(h.currItem,je,e),t&&(_e=e),e}function y(e){return(e=e||h.currItem).initialZoomLevel}function b(e){return 0<(e=e||h.currItem).w?g.maxSpreadZoom:1}function C(e,t,n,o){return o===h.currItem.initialZoomLevel?(n[e]=h.currItem.initialPosition[e],!0):(n[e]=l(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))}function S(e){var t="";g.escKey&&27===e.keyCode?t="close":g.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,h[t]()))}function E(e){e&&(Me||Te||Pe||Ce)&&(e.preventDefault(),e.stopPropagation())}function I(){h.setScrollOffset(0,m.getScrollY())}function T(e){at[e]&&(at[e].raf&&de(at[e].raf),st--,delete at[e])}function M(e){at[e]&&T(e),at[e]||(st++,at[e]={})}function k(){for(var e in at)at.hasOwnProperty(e)&&T(e)}function D(e,t,n,o,i,r,a){var s,l=c();M(e);var u=function(){if(at[e]){if(s=c()-l,o<=s)return T(e),r(n),void(a&&a());r((n-t)*i(s/o)+t),at[e].raf=ce(u)}};u()}function A(e,t){return gt.x=Math.abs(e.x-t.x),gt.y=Math.abs(e.y-t.y),Math.sqrt(gt.x*gt.x+gt.y*gt.y)}function O(e,t){return Tt.prevent=!It(e.target,g.isClickableElement),v("preventDragEvent",e,t,Tt),Tt.prevent}function F(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t}function _(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)}function N(){var e=Ke.y-h.currItem.initialPosition.y;return 1-Math.abs(e/(je.y/2))}function P(e){for(;0<Dt.length;)Dt.pop();return le?(He=0,ft.forEach(function(e){0===He?Dt[0]=e:1===He&&(Dt[1]=e),He++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Dt[0]=F(e.touches[0],Mt),1<e.touches.length&&(Dt[1]=F(e.touches[1],kt))):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",Dt[0]=Mt),Dt}function L(e,t){var n,o,i,r=Ke[e]+t[e],a=0<t[e],s=yt.x+t.x,l=yt.x-mt.x,u=r>_e.min[e]||r<_e.max[e]?g.panEndFriction:1,r=Ke[e]+t[e]*u;return!g.allowPanToNext&&G!==h.currItem.initialZoomLevel||(Ne?"h"!==Le||"x"!==e||Te||(a?(r>_e.min[e]&&(u=g.panEndFriction,_e.min[e],n=_e.min[e]-Be[e]),(n<=0||l<0)&&1<Wt()?(i=s,l<0&&s>mt.x&&(i=mt.x)):_e.min.x!==_e.max.x&&(o=r)):(r<_e.max[e]&&(u=g.panEndFriction,_e.max[e],n=Be[e]-_e.max[e]),(n<=0||0<l)&&1<Wt()?(i=s,0<l&&s<mt.x&&(i=mt.x)):_e.min.x!==_e.max.x&&(o=r))):i=s,"x"!==e)?void(Pe||De||G>h.currItem.fitRatio&&(Ke[e]+=t[e]*u)):(void 0!==i&&(d(i,!0),De=i!==mt.x),_e.min.x!==_e.max.x&&(void 0!==o?Ke.x=o:De||(Ke.x+=t.x*u)),void 0!==i)}function R(e){var t;"mousedown"===e.type&&0<e.button||(Kt?e.preventDefault():Se&&"mousedown"===e.type||(O(e,!0)&&e.preventDefault(),v("pointerDown"),le&&((t=m.arraySearch(ft,e.pointerId,"id"))<0&&(t=ft.length),ft[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=P(e)).length,Ae=null,k(),Ee&&1!==e||(Ee=Re=!0,m.bind(window,W,h),be=Ze=Ue=Ce=De=Me=Ie=Te=!1,Le=null,v("firstTouchStart",t),w(Be,Ke),Ve.x=Ve.y=0,w(dt,t[0]),w(pt,dt),mt.x=qe.x*We,ht=[{x:dt.x,y:dt.y}],we=xe=c(),p(G,!0),St(),Et()),!Oe&&1<e&&!Pe&&!De&&(X=G,Oe=Ie=!(Te=!1),Ve.y=Ve.x=0,w(Be,Ke),w(lt,t[0]),w(ut,t[1]),_(lt,ut,Ct),bt.x=Math.abs(Ct.x)-Ke.x,bt.y=Math.abs(Ct.y)-Ke.y,Fe=A(lt,ut))))}function U(e){var t,n;e.preventDefault(),le&&-1<(t=m.arraySearch(ft,e.pointerId,"id"))&&((n=ft[t]).x=e.pageX,n.y=e.pageY),Ee&&(n=P(e),Le||Me||Oe?Ae=n:yt.x!==qe.x*We?Le="h":(e=Math.abs(n[0].x-dt.x)-Math.abs(n[0].y-dt.y),10<=Math.abs(e)&&(Le=0<e?"h":"v",Ae=n)))}function z(e){if(ge.isOldAndroid){if(Se&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Se),Se=setTimeout(function(){Se=0},600))}v("pointerUp"),O(e,!1)&&e.preventDefault(),!le||-1<(n=m.arraySearch(ft,e.pointerId,"id"))&&(r=ft.splice(n,1)[0],navigator.pointerEnabled?r.type=e.pointerType||"mouse":(r.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],r.type||(r.type=e.pointerType||"mouse")));var t=P(e),n=t.length;if("mouseup"===e.type&&(n=0),2===n)return!(Ae=null);1===n&&w(pt,t[0]),0!==n||Le||Pe||(r||("mouseup"===e.type?r={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(r={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),v("touchRelease",e,r));var o,i,r=-1;if(0===n&&(Ee=!1,m.unbind(window,W,h),St(),Oe?r=0:-1!==wt&&(r=c()-wt)),wt=1===n?c():-1,r=-1!==r&&r<150?"zoom":"swipe",Oe&&n<2&&(Oe=!1,1===n&&(r="zoomPointerUp"),v("zoomGestureEnded")),Ae=null,Me||Te||Pe||Ce)if(k(),(ye=ye||Ot()).calculateSwipeSpeed("x"),Ce)N()<g.verticalDragRange?h.close():(o=Ke.y,i=ze,D("verticalDrag",0,1,300,m.easing.cubic.out,function(e){Ke.y=(h.currItem.initialPosition.y-o)*e+o,x((1-i)*e+i),tt()}),v("onVerticalDrag",1));else{if((De||Pe)&&0===n){if(_t(r,ye))return;r="zoomPointerUp"}if(!Pe)return"swipe"!==r?void Pt():void(!De&&G>h.currItem.fitRatio&&Ft(ye))}}var Z,H,V,B,K,j,W,Y,q,G,X,$,J,Q,ee,te,ne,oe,ie,re,ae,se,le,ue,ce,de,pe,fe,me,he,ge,ve,xe,we,ye,be,Ce,Se,Ee,Ie,Te,Me,ke,De,Ae,Oe,Fe,_e,Ne,Pe,Le,Re,Ue,ze,Ze,He,Ve=o(),Be=o(),Ke=o(),je={},We=0,Ye={},qe=o(),Ge=0,Xe=!0,$e=[],Je={},Qe=!1,et={},tt=function(e){Ne&&(e&&(G>h.currItem.fitRatio?Qe||(Jt(h.currItem,!1,!0),Qe=!0):Qe&&(Jt(h.currItem),Qe=!1)),s(Ne,Ke.x,Ke.y,G))},nt=function(e){e.container&&s(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ot=function(e,t){t[se]=$+e+"px, 0px"+J},it=null,rt=function(){it&&(m.unbind(document,"mousemove",rt),m.addClass(f,"pswp--has_mouse"),g.mouseUsed=!0,v("mouseUsed")),it=setTimeout(function(){it=null},100)},at={},st=0,t={shout:v,listen:r,viewportSize:je,options:g,isMainScrollAnimating:function(){return Pe},getZoomLevel:function(){return G},getCurrentIndex:function(){return B},isDragging:function(){return Ee},isZooming:function(){return Oe},setScrollOffset:function(e,t){Ye.x=e,he=Ye.y=t,v("updateScrollOffset",Ye)},applyZoomPan:function(e,t,n,o){Ke.x=t,Ke.y=n,G=e,tt(o)},init:function(){if(!Z&&!H){var e;h.framework=m,h.template=f,h.bg=m.getChildByClass(f,"pswp__bg"),pe=f.className,Z=!0,ge=m.detectFeatures(),ce=ge.raf,de=ge.caf,se=ge.transform,me=ge.oldIE,h.scrollWrap=m.getChildByClass(f,"pswp__scroll-wrap"),h.container=m.getChildByClass(h.scrollWrap,"pswp__container"),K=h.container.style,h.itemHolders=te=[{el:h.container.children[0],wrap:0,index:-1},{el:h.container.children[1],wrap:0,index:-1},{el:h.container.children[2],wrap:0,index:-1}],te[0].el.style.display=te[2].el.style.display="none",function(){if(se){var e=ge.perspective&&!ue;return $="translate"+(e?"3d(":"("),J=ge.perspective?", 0px)":")"}se="left",m.addClass(f,"pswp--ie"),ot=function(e,t){t.left=e+"px"},nt=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,o=t*e.w,t=t*e.h;n.width=o+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},tt=function(){var e,t,n,o;Ne&&(e=Ne,n=(t=1<(o=h.currItem).fitRatio?1:o.fitRatio)*o.w,o=t*o.h,e.width=n+"px",e.height=o+"px",e.left=Ke.x+"px",e.top=Ke.y+"px")}}(),q={resize:h.updateSize,orientationchange:function(){clearTimeout(ve),ve=setTimeout(function(){je.x!==h.scrollWrap.clientWidth&&h.updateSize()},500)},scroll:I,keydown:S,click:E};var t=ge.isOldIOSPhone||ge.isOldAndroid||ge.isMobileOpera;for(ge.animationName&&ge.transform&&!t||(g.showAnimationDuration=g.hideAnimationDuration=0),e=0;e<$e.length;e++)h["init"+$e[e]]();n&&(h.ui=new n(h,m)).init(),v("firstUpdate"),B=B||g.index||0,(isNaN(B)||B<0||B>=Wt())&&(B=0),h.currItem=jt(B),(ge.isOldIOSPhone||ge.isOldAndroid)&&(Xe=!1),f.setAttribute("aria-hidden","false"),g.modal&&(Xe?f.style.position="fixed":(f.style.position="absolute",f.style.top=m.getScrollY()+"px")),void 0===he&&(v("initialLayout"),he=fe=m.getScrollY());t="pswp--open ";for(g.mainClass&&(t+=g.mainClass+" "),g.showHideOpacity&&(t+="pswp--animate_opacity "),t+=ue?"pswp--touch":"pswp--notouch",t+=ge.animationName?" pswp--css_animation":"",t+=ge.svg?" pswp--svg":"",m.addClass(f,t),h.updateSize(),j=-1,Ge=null,e=0;e<3;e++)ot((e+j)*qe.x,te[e].el.style);me||m.bind(h.scrollWrap,Y,h),r("initialZoomInEnd",function(){h.setContent(te[0],B-1),h.setContent(te[2],B+1),te[0].el.style.display=te[2].el.style.display="block",g.focus&&f.focus(),m.bind(document,"keydown",h),ge.transform&&m.bind(h.scrollWrap,"click",h),g.mouseUsed||m.bind(document,"mousemove",rt),m.bind(window,"resize scroll orientationchange",h),v("bindEvents")}),h.setContent(te[1],B),h.updateCurrItem(),v("afterInit"),Xe||(Q=setInterval(function(){st||Ee||Oe||G!==h.currItem.initialZoomLevel||h.updateSize()},1e3)),m.addClass(f,"pswp--visible")}},close:function(){Z&&(H=!(Z=!1),v("close"),m.unbind(window,"resize scroll orientationchange",h),m.unbind(window,"scroll",q.scroll),m.unbind(document,"keydown",h),m.unbind(document,"mousemove",rt),ge.transform&&m.unbind(h.scrollWrap,"click",h),Ee&&m.unbind(window,W,h),clearTimeout(ve),v("unbindEvents"),Yt(h.currItem,null,!0,h.destroy))},destroy:function(){v("destroy"),Ht&&clearTimeout(Ht),f.setAttribute("aria-hidden","true"),f.className=pe,Q&&clearInterval(Q),m.unbind(h.scrollWrap,Y,h),m.unbind(window,"scroll",h),St(),k(),et=null},panTo:function(e,t,n){n||(e>_e.min.x?e=_e.min.x:e<_e.max.x&&(e=_e.max.x),t>_e.min.y?t=_e.min.y:t<_e.max.y&&(t=_e.max.y)),Ke.x=e,Ke.y=t,tt()},handleEvent:function(e){e=e||window.event,q[e.type]&&q[e.type](e)},goTo:function(e){var t=(e=a(e))-B;Ge=t,B=e,h.currItem=jt(B),We-=t,d(qe.x*We),k(),Pe=!1,h.updateCurrItem()},next:function(){h.goTo(B+1)},prev:function(){h.goTo(B-1)},updateCurrZoomItem:function(e){var t;e&&v("beforeChange",0),Ne=te[1].el.children.length?(t=te[1].el.children[0],m.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,_e=h.currItem.bounds,X=G=h.currItem.initialZoomLevel,Ke.x=_e.center.x,Ke.y=_e.center.y,e&&v("afterChange")},invalidateCurrItems:function(){ee=!0;for(var e=0;e<3;e++)te[e].item&&(te[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==Ge){var t,n=Math.abs(Ge);if(!(e&&n<2)){h.currItem=jt(B),Qe=!1,v("beforeChange",Ge),3<=n&&(j+=Ge+(0<Ge?-3:3),n=3);for(var o=0;o<n;o++)0<Ge?(t=te.shift(),te[2]=t,ot((++j+2)*qe.x,t.el.style),h.setContent(t,B-n+o+1+1)):(t=te.pop(),te.unshift(t),ot(--j*qe.x,t.el.style),h.setContent(t,B+n-o-1-1));!Ne||1!==Math.abs(Ge)||(e=jt(ne)).initialZoomLevel!==G&&($t(e,je),Jt(e),nt(e)),Ge=0,h.updateCurrZoomItem(),ne=B,v("afterChange")}}},updateSize:function(e){if(!Xe&&g.modal){var t=m.getScrollY();if(he!==t&&(f.style.top=t+"px",he=t),!e&&Je.x===window.innerWidth&&Je.y===window.innerHeight)return;Je.x=window.innerWidth,Je.y=window.innerHeight,f.style.height=Je.y+"px"}if(je.x=h.scrollWrap.clientWidth,je.y=h.scrollWrap.clientHeight,I(),qe.x=je.x+Math.round(je.x*g.spacing),qe.y=je.y,d(qe.x*We),v("beforeResize"),void 0!==j){for(var n,o,i,r=0;r<3;r++)n=te[r],ot((r+j)*qe.x,n.el.style),i=B+r-1,g.loop&&2<Wt()&&(i=a(i)),(o=jt(i))&&(ee||o.needsUpdate||!o.bounds)?(h.cleanSlide(o),h.setContent(n,i),1===r&&(h.currItem=o,h.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===n.index&&0<=i&&h.setContent(n,i),o&&o.container&&($t(o,je),Jt(o),nt(o));ee=!1}X=G=h.currItem.initialZoomLevel,(_e=h.currItem.bounds)&&(Ke.x=_e.center.x,Ke.y=_e.center.y,tt(!0)),v("resize")},zoomTo:function(t,e,n,o,i){e&&(X=G,bt.x=Math.abs(e.x)-Ke.x,bt.y=Math.abs(e.y)-Ke.y,w(Be,Ke));var e=p(t,!1),r={};C("x",e,r,t),C("y",e,r,t);var a=G,s=Ke.x,l=Ke.y;u(r);e=function(e){1===e?(G=t,Ke.x=r.x,Ke.y=r.y):(G=(t-a)*e+a,Ke.x=(r.x-s)*e+s,Ke.y=(r.y-l)*e+l),i&&i(e),tt(1===e)};n?D("customZoomTo",0,1,n,o||m.easing.sine.inOut,e):e(1)}},lt={},ut={},ct={},dt={},pt={},ft=[],mt={},ht=[],gt={},vt=0,xt=o(),wt=0,yt=o(),bt=o(),Ct=o(),St=function(){ke&&(de(ke),ke=null)},Et=function(){Ee&&(ke=ce(Et),At())},It=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:It(e.parentNode,t))},Tt={},Mt={},kt={},Dt=[],At=function(){if(Ae){var e=Ae.length;if(0!==e)if(w(lt,Ae[0]),ct.x=lt.x-dt.x,ct.y=lt.y-dt.y,Oe&&1<e)dt.x=lt.x,dt.y=lt.y,(ct.x||ct.y||(r=Ae[1],a=ut,r.x!==a.x||r.y!==a.y))&&(w(ut,Ae[1]),Te||(Te=!0,v("zoomGestureStarted")),o=A(lt,ut),(i=Nt(o))>h.currItem.initialZoomLevel+h.currItem.initialZoomLevel/15&&(Ze=!0),n=1,e=y(),r=b(),i<e?g.pinchToClose&&!Ze&&X<=h.currItem.initialZoomLevel?(x(a=1-(e-i)/(e/1.2)),v("onPinchClose",a),Ue=!0):(1<(n=(e-i)/e)&&(n=1),i=e-n*(e/3)):r<i&&(1<(n=(i-r)/(6*e))&&(n=1),i=r+n*e),n<0&&(n=0),_(lt,ut,xt),Ve.x+=xt.x-Ct.x,Ve.y+=xt.y-Ct.y,w(Ct,xt),Ke.x=l("x",i),Ke.y=l("y",i),be=G<i,G=i,tt());else if(Le&&(Re&&(Re=!1,10<=Math.abs(ct.x)&&(ct.x-=Ae[0].x-pt.x),10<=Math.abs(ct.y)&&(ct.y-=Ae[0].y-pt.y)),dt.x=lt.x,dt.y=lt.y,0!==ct.x||0!==ct.y)){if("v"===Le&&g.closeOnVerticalDrag&&"fit"===g.scaleMode&&G===h.currItem.initialZoomLevel){Ve.y+=ct.y,Ke.y+=ct.y;var t=N();return Ce=!0,v("onVerticalDrag",t),x(t),void tt()}n=c(),o=lt.x,i=lt.y,50<n-we&&((t=2<ht.length?ht.shift():{}).x=o,t.y=i,ht.push(t),we=n),Me=!0,_e=h.currItem.bounds,L("x",ct)||(L("y",ct),u(Ke),tt())}}var n,o,i,r,a},Ot=function(){var t,n,o={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<ht.length?(t=c()-we+50,ht[ht.length-2][e]):(t=c()-xe,pt[e]),o.lastFlickOffset[e]=dt[e]-n,o.lastFlickDist[e]=Math.abs(o.lastFlickOffset[e]),20<o.lastFlickDist[e]?o.lastFlickSpeed[e]=o.lastFlickOffset[e]/t:o.lastFlickSpeed[e]=0,Math.abs(o.lastFlickSpeed[e])<.1&&(o.lastFlickSpeed[e]=0),o.slowDownRatio[e]=.95,o.slowDownRatioReverse[e]=1-o.slowDownRatio[e],o.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){o.backAnimStarted[t]||(Ke[t]>_e.min[t]?o.backAnimDestination[t]=_e.min[t]:Ke[t]<_e.max[t]&&(o.backAnimDestination[t]=_e.max[t]),void 0!==o.backAnimDestination[t]&&(o.slowDownRatio[t]=.7,o.slowDownRatioReverse[t]=1-o.slowDownRatio[t],o.speedDecelerationRatioAbs[t]<.05&&(o.lastFlickSpeed[t]=0,o.backAnimStarted[t]=!0,D("bounceZoomPan"+t,Ke[t],o.backAnimDestination[t],e||300,m.easing.sine.out,function(e){Ke[t]=e,tt()}))))},calculateAnimOffset:function(e){o.backAnimStarted[e]||(o.speedDecelerationRatio[e]=o.speedDecelerationRatio[e]*(o.slowDownRatio[e]+o.slowDownRatioReverse[e]-o.slowDownRatioReverse[e]*o.timeDiff/10),o.speedDecelerationRatioAbs[e]=Math.abs(o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]),o.distanceOffset[e]=o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]*o.timeDiff,Ke[e]+=o.distanceOffset[e])},panAnimLoop:function(){if(at.zoomPan&&(at.zoomPan.raf=ce(o.panAnimLoop),o.now=c(),o.timeDiff=o.now-o.lastNow,o.lastNow=o.now,o.calculateAnimOffset("x"),o.calculateAnimOffset("y"),tt(),o.calculateOverBoundsAnimOffset("x"),o.calculateOverBoundsAnimOffset("y"),o.speedDecelerationRatioAbs.x<.05&&o.speedDecelerationRatioAbs.y<.05))return Ke.x=Math.round(Ke.x),Ke.y=Math.round(Ke.y),tt(),void T("zoomPan")}};return o},Ft=function(e){return e.calculateSwipeSpeed("y"),_e=h.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(M("zoomPan"),e.lastNow=c(),void e.panAnimLoop())},_t=function(e,t){var n,o;Pe||(vt=B),"swipe"===e&&(o=dt.x-pt.x,e=t.lastFlickDist.x<10,30<o&&(e||20<t.lastFlickOffset.x)?r=-1:o<-30&&(e||t.lastFlickOffset.x<-20)&&(r=1)),r&&((B+=r)<0?(B=g.loop?Wt()-1:0,i=!0):B>=Wt()&&(B=g.loop?0:Wt()-1,i=!0),i&&!g.loop||(Ge+=r,We-=r,n=!0));var i=qe.x*We,r=Math.abs(i-yt.x),a=n||i>yt.x==0<t.lastFlickSpeed.x?(a=0<Math.abs(t.lastFlickSpeed.x)?r/Math.abs(t.lastFlickSpeed.x):333,a=Math.min(a,400),Math.max(a,250)):333;return vt===B&&(n=!1),Pe=!0,v("mainScrollAnimStart"),D("mainScroll",yt.x,i,a,m.easing.cubic.out,d,function(){k(),Pe=!1,vt=-1,!n&&vt===B||h.updateCurrItem(),v("mainScrollAnimComplete")}),n&&h.updateCurrItem(!0),n},Nt=function(e){return 1/Fe*e*X},Pt=function(){var e=G,t=y(),n=b();G<t?e=t:n<G&&(e=n);var o,i=ze;return Ue&&!be&&!Ze&&G<t?h.close():(Ue&&(o=function(e){x((1-i)*e+i)}),h.zoomTo(e,0,200,m.easing.cubic.out,o)),!0};i("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,o,i){oe=e+t,ie=e+n,re=e+o,ae=i?e+i:""}(le=ge.pointerEvent)&&ge.touch&&(ge.touch=!1),le?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):ge.touch?(e("touch","start","move","end","cancel"),ue=!0):e("mouse","down","move","up"),W=ie+" "+re+" "+ae,Y=oe,le&&!ue&&(ue=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),h.likelyTouchDevice=ue,q[oe]=R,q[ie]=U,q[re]=z,ae&&(q[ae]=q[re]),ge.touch&&(Y+=" mousedown",W+=" mousemove mouseup",q.mousedown=q[oe],q.mousemove=q[ie],q.mouseup=q[re]),ue||(g.allowPanToNext=!1)}}});function Lt(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}}function Rt(e,t,n,o,i,r){t.loadError||o&&(t.imageAppended=!0,Jt(t,o,t===h.currItem&&Qe),n.appendChild(o),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))}function Ut(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=m.createEl("pswp__img","img");return n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src,n}function zt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=g.errorMsg.replace("%url%",e.src),1)}function Zt(){if(Gt.length){for(var e,t=0;t<Gt.length;t++)(e=Gt[t]).holder.index===e.index&&Rt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Gt=[]}}var Ht,Vt,Bt,Kt,jt,Wt,Yt=function(a,e,s,t){var l;Ht&&clearTimeout(Ht),Bt=Kt=!0,a.initialLayout?(l=a.initialLayout,a.initialLayout=null):l=g.getThumbBoundsFn&&g.getThumbBoundsFn(B);function u(){T("initialZoom"),s?(h.template.removeAttribute("style"),h.bg.removeAttribute("style")):(x(1),e&&(e.style.display="block"),m.addClass(f,"pswp--animated-in"),v("initialZoom"+(s?"OutEnd":"InEnd"))),t&&t(),Kt=!1}var c=s?g.hideAnimationDuration:g.showAnimationDuration;if(!c||!l||void 0===l.x)return v("initialZoom"+(s?"Out":"In")),G=a.initialZoomLevel,w(Ke,a.initialPosition),tt(),f.style.opacity=s?0:1,x(1),void(c?setTimeout(function(){u()},c):u());var d,p;d=V,p=!h.currItem.src||h.currItem.loadError||g.showHideOpacity,a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden"),s||(G=l.w/a.w,Ke.x=l.x,Ke.y=l.y-fe,h[p?"template":"bg"].style.opacity=.001,tt()),M("initialZoom"),s&&!d&&m.removeClass(f,"pswp--animated-in"),p&&(s?m[(d?"remove":"add")+"Class"](f,"pswp--animate_opacity"):setTimeout(function(){m.addClass(f,"pswp--animate_opacity")},30)),Ht=setTimeout(function(){var t,n,o,i,r,e;v("initialZoom"+(s?"Out":"In")),s?(t=l.w/a.w,n=Ke.x,o=Ke.y,i=G,r=ze,e=function(e){1===e?(G=t,Ke.x=l.x,Ke.y=l.y-he):(G=(t-i)*e+i,Ke.x=(l.x-n)*e+n,Ke.y=(l.y-he-o)*e+o),tt(),p?f.style.opacity=1-e:x(r-e*r)},d?D("initialZoom",0,1,c,m.easing.cubic.out,e,u):(e(1),Ht=setTimeout(u,c+20))):(G=a.initialZoomLevel,w(Ke,a.initialPosition),tt(),x(1),p?f.style.opacity=1:x(1),Ht=setTimeout(u,c+20))},s?25:90)},qt={},Gt=[],Xt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},$t=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=Lt(),e.initialPosition=e.bounds.center,e.bounds;var o,i,r,a=!n;return a&&(e.vGap||(e.vGap={top:0,bottom:0}),v("parseVerticalMargin",e)),qt.x=t.x,qt.y=t.y-e.vGap.top-e.vGap.bottom,a&&(o=qt.x/e.w,i=qt.y/e.h,e.fitRatio=o<i?o:i,"orig"===(r=g.scaleMode)?n=1:"fit"===r&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=Lt())),n?(o=(t=e).w*n,i=e.h*n,(r=t.bounds).center.x=Math.round((qt.x-o)/2),r.center.y=Math.round((qt.y-i)/2)+t.vGap.top,r.max.x=o>qt.x?Math.round(qt.x-o):r.center.x,r.max.y=i>qt.y?Math.round(qt.y-i)+t.vGap.top:r.center.y,r.min.x=o>qt.x?0:r.center.x,r.min.y=i>qt.y?t.vGap.top:r.center.y,a&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},Jt=function(e,t,n){var o;e.src&&(t=t||e.container.lastChild,o=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=n+"px"),t.style.width=o+"px",t.style.height=n+"px")};i("Controller",{publicMethods:{lazyLoadItem:function(e){e=a(e);var t=jt(e);t&&(!t.loaded&&!t.loading||ee)&&(v("gettingData",e,t),t.src&&Ut(t))},initController:function(){m.extend(g,Xt,!0),h.items=Vt=e,jt=h.getItemAt,Wt=g.getNumItemsFn,g.loop,Wt()<3&&(g.loop=!1),r("beforeChange",function(e){for(var t=g.preload,n=null===e||0<=e,o=Math.min(t[0],Wt()),i=Math.min(t[1],Wt()),r=1;r<=(n?i:o);r++)h.lazyLoadItem(B+r);for(r=1;r<=(n?o:i);r++)h.lazyLoadItem(B-r)}),r("initialLayout",function(){h.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(B)}),r("mainScrollAnimComplete",Zt),r("initialZoomInEnd",Zt),r("destroy",function(){for(var e,t=0;t<Vt.length;t++)(e=Vt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Gt=null})},getItemAt:function(e){return 0<=e&&void 0!==Vt[e]&&Vt[e]},allowProgressiveImg:function(){return g.forceProgressiveLoading||!ue||g.mouseUsed||1200<screen.width},setContent:function(t,n){g.loop&&(n=a(n));var e=h.getItemAt(t.index);e&&(e.container=null);var o,i,r=h.getItemAt(n);r?(v("gettingData",n,r),t.index=n,i=(t.item=r).container=m.createEl("pswp__zoom-wrap"),!r.src&&r.html&&(r.html.tagName?i.appendChild(r.html):i.innerHTML=r.html),zt(r),$t(r,je),!r.src||r.loadError||r.loaded?r.src&&!r.loadError&&((o=m.createEl("pswp__img","img")).style.opacity=1,o.src=r.src,Jt(r,o),Rt(0,r,i,o)):(r.loadComplete=function(e){if(Z){if(t&&t.index===n){if(zt(e,!0))return e.loadComplete=e.img=null,$t(e,je),nt(e),void(t.index===B&&h.updateCurrZoomItem());e.imageAppended?!Kt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):ge.transform&&(Pe||Kt)?Gt.push({item:e,baseDiv:i,img:e.img,index:n,holder:t,clearPlaceholder:!0}):Rt(0,e,i,e.img,0,!0)}e.loadComplete=null,e.img=null,v("imageLoadComplete",n,e)}},m.features.transform&&(e="pswp__img pswp__img--placeholder",e+=r.msrc?"":" pswp__img--placeholder--blank",e=m.createEl(e,r.msrc?"img":""),r.msrc&&(e.src=r.msrc),Jt(r,e),i.appendChild(e),r.placeholder=e),r.loading||Ut(r),h.allowProgressiveImg()&&(!Bt&&ge.transform?Gt.push({item:r,baseDiv:i,img:r.img,index:n,holder:t}):Rt(0,r,i,r.img,0,!0))),Bt||n!==B?nt(r):(Ne=i.style,Yt(r,o||r.img)),t.el.innerHTML="",t.el.appendChild(i)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function Qt(e,t,n){var o=document.createEvent("CustomEvent"),n={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,n),e.target.dispatchEvent(o)}var en,tn,nn={};i("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",h.onTapStart),r("touchRelease",h.onTapRelease),r("destroy",function(){nn={},en=null})},onTapStart:function(e){1<e.length&&(clearTimeout(en),en=null)},onTapRelease:function(e,t){var n,o,i;!t||Me||Ie||st||(n=t,en&&(clearTimeout(en),en=null,o=n,i=nn,Math.abs(o.x-i.x)<25&&Math.abs(o.y-i.y)<25)?v("doubleTap",n):"mouse"!==t.type?"BUTTON"===e.target.tagName.toUpperCase()||m.hasClass(e.target,"pswp__single-tap")?Qt(e,t):(w(nn,n),en=setTimeout(function(){Qt(e,t),en=null},300)):Qt(e,t,"mouse"))}}}),i("DesktopZoom",{publicMethods:{initDesktopZoom:function(){me||(ue?r("mouseUsed",function(){h.setupDesktopZoom()}):h.setupDesktopZoom(!0))},setupDesktopZoom:function(e){tn={};var t="wheel mousewheel DOMMouseScroll";r("bindEvents",function(){m.bind(f,t,h.handleMouseWheel)}),r("unbindEvents",function(){tn&&m.unbind(f,t,h.handleMouseWheel)}),h.mouseZoomedIn=!1;function n(){h.mouseZoomedIn&&(m.removeClass(f,"pswp--zoomed-in"),h.mouseZoomedIn=!1),G<1?m.addClass(f,"pswp--zoom-allowed"):m.removeClass(f,"pswp--zoom-allowed"),i()}var o,i=function(){o&&(m.removeClass(f,"pswp--dragging"),o=!1)};r("resize",n),r("afterChange",n),r("pointerDown",function(){h.mouseZoomedIn&&(o=!0,m.addClass(f,"pswp--dragging"))}),r("pointerUp",i),e||n()},handleMouseWheel:function(e){if(G<=h.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||st||Ee?e.preventDefault():se&&2<Math.abs(e.deltaY)&&(V=!0,h.close())),!0;if(e.stopPropagation(),tn.x=0,"deltaX"in e)1===e.deltaMode?(tn.x=18*e.deltaX,tn.y=18*e.deltaY):(tn.x=e.deltaX,tn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(tn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?tn.y=-.16*e.wheelDeltaY:tn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;tn.y=e.detail}p(G,!0);var t=Ke.x-tn.x,n=Ke.y-tn.y;(g.modal||t<=_e.min.x&&t>=_e.max.x&&n<=_e.min.y&&n>=_e.max.y)&&e.preventDefault(),h.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:je.x/2+Ye.x,y:je.y/2+Ye.y};var t=g.getDoubleTapZoom(!0,h.currItem),n=G===t;h.mouseZoomedIn=!n,h.zoomTo(n?h.currItem.initialZoomLevel:t,e,333),m[(n?"remove":"add")+"Class"](f,"pswp--zoomed-in")}}});function on(){return vn.hash.substring(1)}function rn(){sn&&clearTimeout(sn),un&&clearTimeout(un)}function an(){var e=on(),t={};if(e.length<5)return t;var n,o=e.split("&");for(r=0;r<o.length;r++)o[r]&&((n=o[r].split("=")).length<2||(t[n[0]]=n[1]));if(g.galleryPIDs){for(var i=t.pid,r=t.pid=0;r<Vt.length;r++)if(Vt[r].pid===i){t.pid=r;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}var sn,ln,un,cn,dn,pn,fn,mn,hn,gn,vn,xn,wn={history:!0,galleryUID:1},yn=function(){var e,t;un&&clearTimeout(un),st||Ee?un=setTimeout(yn,500):(cn?clearTimeout(ln):cn=!0,t=B+1,(e=jt(B)).hasOwnProperty("pid")&&(t=e.pid),e=fn+"&gid="+g.galleryUID+"&pid="+t,mn||-1===vn.hash.indexOf(e)&&(gn=!0),t=vn.href.split("#")[0]+"#"+e,xn?"#"+e!==window.location.hash&&history[mn?"replaceState":"pushState"]("",document.title,t):mn?vn.replace(t):vn.hash=e,mn=!0,ln=setTimeout(function(){cn=!1},60))};i("History",{publicMethods:{initHistory:function(){var e,t;m.extend(g,wn,!0),g.history&&(vn=window.location,mn=hn=gn=!1,fn=on(),xn="pushState"in history,-1<fn.indexOf("gid=")&&(fn=(fn=fn.split("&gid=")[0]).split("?gid=")[0]),r("afterChange",h.updateURL),r("unbindEvents",function(){m.unbind(window,"hashchange",h.onHashChange)}),e=function(){pn=!0,hn||(gn?history.back():fn?vn.hash=fn:xn?history.pushState("",document.title,vn.pathname+vn.search):vn.hash=""),rn()},r("unbindEvents",function(){V&&e()}),r("destroy",function(){pn||e()}),r("firstUpdate",function(){B=an().pid}),-1<(t=fn.indexOf("pid="))&&("&"===(fn=fn.substring(0,t)).slice(-1)&&(fn=fn.slice(0,-1))),setTimeout(function(){Z&&m.bind(window,"hashchange",h.onHashChange)},40))},onHashChange:function(){return on()===fn?(hn=!0,void h.close()):void(cn||(dn=!0,h.goTo(an().pid),dn=!1))},updateURL:function(){rn(),dn||(mn?sn=setTimeout(yn,800):yn())}}}),m.extend(h,t)}}),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function a(e){return null!=e}function X(e){e.preventDefault()}function l(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function $(e,t,n){0<n&&(ee(e,t),setTimeout(function(){te(e,t)},n))}function J(e){return Math.max(Math.min(e,100),0)}function Q(e){return Array.isArray(e)?e:[e]}function t(e){e=(e=String(e)).split(".");return 1<e.length?e[1].length:0}function ee(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function te(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function ne(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:(n?e.documentElement:e.body).scrollLeft,y:t?window.pageYOffset:(n?e.documentElement:e.body).scrollTop}}function u(e,t){return 100/(t-e)}function c(e,t){return 100*t/(e[1]-e[0])}function s(e,t){for(var n=1;e>=t[n];)n+=1;return n}function n(e,t,n){if(n>=e.slice(-1)[0])return 100;var o=s(n,e),i=e[o-1],r=e[o],e=t[o-1],o=t[o];return e+(n=n,c(r=[i,r],r[0]<0?n+Math.abs(r[0]):n-r[0])/u(e,o))}function o(e,t,n,o){if(100===o)return o;var i=s(o,e),r=e[i-1],a=e[i];return n?(a-r)/2<o-r?a:r:t[i-1]?e[i-1]+(e=o-e[i-1],i=t[i-1],Math.round(e/i)*i):o}function i(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var o,i,r,a,s=[];for(o in e)e.hasOwnProperty(o)&&s.push([e[o],o]);for(s.length&&"object"==typeof s[0][0]?s.sort(function(e,t){return e[0][0]-t[0][0]}):s.sort(function(e,t){return e[0]-t[0]}),o=0;o<s.length;o++)!function(e,t,n){if("number"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error("noUiSlider ("+ie+"): 'range' contains invalid value.");if(!l(e="min"===e?0:"max"===e?100:parseFloat(e))||!l(t[0]))throw new Error("noUiSlider ("+ie+"): 'range' value isn't numeric.");n.xPct.push(e),n.xVal.push(t[0]),e?n.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(n.xSteps[0]=t[1]),n.xHighestCompleteStep.push(0)}(s[o][1],s[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)i=o,r=this.xNumSteps[o],a=this,!void(r&&(a.xSteps[i]=c([a.xVal[i],a.xVal[i+1]],r)/u(a.xPct[i],a.xPct[i+1]),r=(a.xVal[i+1]-a.xVal[i])/a.xNumSteps[i],r=Math.ceil(Number(r.toFixed(3))-1),r=a.xVal[i]+a.xNumSteps[i]*r,a.xHighestCompleteStep[i]=r))}function r(e){if("object"==typeof(e=e)&&"function"==typeof e.to&&"function"==typeof e.from)return 1;throw new Error("noUiSlider ("+ie+"): 'format' requires 'to' and 'from' methods.")}function d(e,t){if(!l(t))throw new Error("noUiSlider ("+ie+"): 'step' is not numeric.");e.singleStep=t}function p(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+ie+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+ie+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+ie+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new i(t,e.snap,e.singleStep)}function f(e,t){if(t=Q(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+ie+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function m(e,t){if("boolean"!=typeof(e.snap=t))throw new Error("noUiSlider ("+ie+"): 'snap' option must be a boolean.")}function h(e,t){if("boolean"!=typeof(e.animate=t))throw new Error("noUiSlider ("+ie+"): 'animate' option must be a boolean.")}function g(e,t){if("number"!=typeof(e.animationDuration=t))throw new Error("noUiSlider ("+ie+"): 'animationDuration' option must be a number.")}function v(e,t){var n,o=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)o.push(t);o.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+ie+"): 'connect' option doesn't match handle count.");o=t}e.connect=o}function x(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+ie+"): 'orientation' option is invalid.")}}function w(e,t){if(!l(t))throw new Error("noUiSlider ("+ie+"): 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider ("+ie+"): 'margin' option is only supported on linear sliders.")}function y(e,t){if(!l(t))throw new Error("noUiSlider ("+ie+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||e.handles<2)throw new Error("noUiSlider ("+ie+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function b(e,t){if(!l(t)&&!Array.isArray(t))throw new Error("noUiSlider ("+ie+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!l(t[0])&&!l(t[1]))throw new Error("noUiSlider ("+ie+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){if(Array.isArray(t)||(t=[t,t]),!(e.padding=[e.spectrum.getMargin(t[0]),e.spectrum.getMargin(t[1])])===e.padding[0]||!1===e.padding[1])throw new Error("noUiSlider ("+ie+"): 'padding' option is only supported on linear sliders.");if(e.padding[0]<0||e.padding[1]<0)throw new Error("noUiSlider ("+ie+"): 'padding' option must be a positive number(s).");if(100<=e.padding[0]+e.padding[1])throw new Error("noUiSlider ("+ie+"): 'padding' option must not exceed 100% of the range.")}}function C(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+ie+"): 'direction' option was not recognized.")}}function S(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+ie+"): 'behaviour' must be a string containing options.");var n=0<=t.indexOf("tap"),o=0<=t.indexOf("drag"),i=0<=t.indexOf("fixed"),r=0<=t.indexOf("snap"),t=0<=t.indexOf("hover");if(i){if(2!==e.handles)throw new Error("noUiSlider ("+ie+"): 'fixed' behaviour must be used with 2 handles");w(e,e.start[1]-e.start[0])}e.events={tap:n||r,drag:o,fixed:i,snap:r,hover:t}}function E(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=Q(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+ie+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+ie+"): 'tooltips' must be passed a formatter or 'false'.")})}}function I(e,t){r(e.ariaFormat=t)}function T(e,t){r(e.format=t)}function M(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider ("+ie+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function k(e,t){if("object"!=typeof t)throw new Error("noUiSlider ("+ie+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var n in e.cssClasses={},t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n]);else e.cssClasses=t}function oe(t){var n={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:A,format:A},o={step:{r:!1,t:d},start:{r:!0,t:f},connect:{r:!0,t:v},direction:{r:!0,t:C},snap:{r:!1,t:m},animate:{r:!1,t:h},animationDuration:{r:!1,t:g},range:{r:!0,t:p},orientation:{r:!1,t:x},margin:{r:!1,t:w},limit:{r:!1,t:y},padding:{r:!1,t:b},behaviour:{r:!0,t:S},ariaFormat:{r:!1,t:I},format:{r:!1,t:T},tooltips:{r:!1,t:E},cssPrefix:{r:!0,t:M},cssClasses:{r:!0,t:k}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(o).forEach(function(e){if(!a(t[e])&&void 0===i[e]){if(o[e].r)throw new Error("noUiSlider ("+ie+"): '"+e+"' is required.");return!0}o[e].t(n,(a(t[e])?t:i)[e])}),n.pips=t.pips;var e=document.createElement("div"),r=void 0!==e.style.msTransform,e=void 0!==e.style.transform;n.transformRule=e?"transform":r?"msTransform":"webkitTransform";return n.style=[["left","top"],["right","bottom"]][n.dir][n.ort],n}function D(e,d,r){function p(e,t){var n=W.createElement("div");return t&&ee(n,t),e.appendChild(n),n}function s(e,t){return!!t&&p(e,d.cssClasses.connect)}function t(e,t){return!!d.tooltips[t]&&p(e.firstChild,d.cssClasses.tooltip)}function a(t,o,i){function r(e,t){var n=t===d.cssClasses.value,o=n?s:l;return t+" "+(n?u:c)[d.ort]+" "+o[e]}var a=W.createElement("div"),s=[d.cssClasses.valueNormal,d.cssClasses.valueLarge,d.cssClasses.valueSub],l=[d.cssClasses.markerNormal,d.cssClasses.markerLarge,d.cssClasses.markerSub],u=[d.cssClasses.valueHorizontal,d.cssClasses.valueVertical],c=[d.cssClasses.markerHorizontal,d.cssClasses.markerVertical];return ee(a,d.cssClasses.pips),ee(a,0===d.ort?d.cssClasses.pipsHorizontal:d.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){!function(e,t){t[1]=t[1]&&o?o(t[0],t[1]):t[1];var n=p(a,!1);n.className=r(t[1],d.cssClasses.marker),n.style[d.style]=e+"%",t[1]&&((n=p(a,!1)).className=r(t[1],d.cssClasses.value),n.setAttribute("data-value",t[0]),n.style[d.style]=e+"%",n.innerText=i.to(t[0]))}(e,t[e])}),a}function l(){var e;_&&((e=_).parentElement.removeChild(e),_=null)}function u(e){l();var d,p,f,m,h,g,v,t=e.mode,n=e.density||1,o=e.filter||!1,i=function(e,t,n){if("range"===e||"steps"===e)return B.xVal;if("count"===e){if(t<2)throw new Error("noUiSlider ("+ie+"): 'values' (>= 2) required for mode 'count'.");var o=t-1,i=100/o;for(t=[];o--;)t[o]=o*i;t.push(100),e="positions"}return"positions"===e?t.map(function(e){return B.fromStepping(n?B.getStep(e):e)}):"values"===e?n?t.map(function(e){return B.fromStepping(B.getStep(B.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1),i=(d=n,p=t,f=i,m={},t=B.xVal[0],i=B.xVal[B.xVal.length-1],g=h=!1,v=0,(f=f.slice().sort(function(e,t){return e-t}).filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==t&&(f.unshift(t),h=!0),f[f.length-1]!==i&&(f.push(i),g=!0),f.forEach(function(e,t){var n,o,i,r,a,s,l,u,e=e,c=f[t+1];if("steps"===p&&(n=B.xNumSteps[t]),n=n||c-e,!1!==e&&void 0!==c)for(n=Math.max(n,1e-7),o=e;o<=c;o=+(o+n).toFixed(7)){for(s=(a=(r=B.toStepping(o))-v)/d,u=a/(l=Math.round(s)),i=1;i<=l;i+=1)m[(v+i*u).toFixed(5)]=["x",0];s=-1<f.indexOf(o)?1:"steps"===p?2:0,!t&&h&&(s=0),o===c&&g||(m[r.toFixed(5)]=[o,s]),v=r}}),m),e=e.format||{to:Math.round};return _=z.appendChild(a(i,o,e))}function c(){var e=D.getBoundingClientRect(),t="offset"+["Width","Height"][d.ort];return 0===d.ort?e.width||D[t]:e.height||D[t]}function f(o,i,r,a){function t(e){return!!(e=function(e,t,n){var o,i=0===e.type.indexOf("touch"),r=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(a=!0),i){i=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var s=Array.prototype.filter.call(e.touches,i);if(1<s.length)return!1;o=s[0].pageX,s=s[0].pageY}else{i=Array.prototype.find.call(e.changedTouches,i);if(!i)return!1;o=i.pageX,s=i.pageY}}return t=t||ne(W),(r||a)&&(o=e.clientX+t.x,s=e.clientY+t.y),e.pageOffset=t,e.points=[o,s],e.cursor=r||a,e}(e,a.pageOffset,a.target||i))&&!(z.hasAttribute("disabled")&&!a.doNotReject)&&(t=z,n=d.cssClasses.tap,!((t.classList?t.classList.contains(n):new RegExp("\\b"+n+"\\b").test(t.className))&&!a.doNotReject)&&!(o===R.start&&void 0!==e.buttons&&1<e.buttons)&&(!a.hover||!e.buttons)&&(U||e.preventDefault(),e.calcPoint=e.points[d.ort],void r(e,a)));var t,n}var n=[];return o.split(" ").forEach(function(e){i.addEventListener(e,t,!!U&&{passive:!0}),n.push([e,t])}),n}function m(e){var t,n,o=J(o=100*(e-(o=D,t=d.ort,n=o.getBoundingClientRect(),o=(e=o.ownerDocument).documentElement,e=ne(e),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(e.x=0),t?n.top+e.y-o.clientTop:n.left+e.x-o.clientLeft))/c());return d.dir?100-o:o}function h(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&v(e,t)}function g(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return v(e,t);e=(d.dir?-1:1)*(e.calcPoint-t.startCalcPoint);C(0<e,100*e/t.baseSize,t.locations,t.handleNumbers)}function v(e,t){t.handle&&(te(t.handle,d.cssClasses.active),--V),t.listeners.forEach(function(e){Y.removeEventListener(e[0],e[1])}),0===V&&(te(z,d.cssClasses.drag),E(),e.cursor&&(q.style.cursor="",q.removeEventListener("selectstart",X))),t.handleNumbers.forEach(function(e){w("change",e),w("set",e),w("end",e)})}function x(e,t){if(1===t.handleNumbers.length){var n=A[t.handleNumbers[0]];if(n.hasAttribute("disabled"))return!1;r=n.children[0],V+=1,ee(r,d.cssClasses.active)}e.stopPropagation();var o=[],i=f(R.move,Y,g,{target:e.target,handle:r,listeners:o,startCalcPoint:e.calcPoint,baseSize:c(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:Z.slice()}),n=f(R.end,Y,v,{target:e.target,handle:r,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers}),r=f("mouseout",Y,h,{target:e.target,handle:r,listeners:o,doNotReject:!0,handleNumbers:t.handleNumbers});o.push.apply(o,i.concat(n,r)),e.cursor&&(q.style.cursor=getComputedStyle(e.target).cursor,1<A.length&&ee(z,d.cssClasses.drag),q.addEventListener("selectstart",X,!1)),t.handleNumbers.forEach(function(e){w("start",e)})}function n(e){e.stopPropagation();var n,o,i,t=m(e.calcPoint),r=(n=t,i=!(o=100),A.forEach(function(e,t){e.hasAttribute("disabled")||((e=Math.abs(Z[t]-n))<o||100===e&&100===o)&&(i=t,o=e)}),i);if(!1===r)return!1;d.events.snap||$(z,d.cssClasses.tap,d.animationDuration),I(r,t,!0,!0),E(),w("slide",r,!0),w("update",r,!0),w("change",r,!0),w("set",r,!0),d.events.snap&&x(e,{handleNumbers:[r]})}function o(e){var e=m(e.calcPoint),e=B.getStep(e),t=B.fromStepping(e);Object.keys(j).forEach(function(e){"hover"===e.split(".")[0]&&j[e].forEach(function(e){e.call(F,t)})})}function i(e,t){j[e]=j[e]||[],j[e].push(t),"update"===e.split(".")[0]&&A.forEach(function(e,t){w("update",t)})}function w(n,o,i){Object.keys(j).forEach(function(e){var t=e.split(".")[0];n===t&&j[e].forEach(function(e){e.call(F,K.map(d.format.to),o,K.slice(),i||!1,Z.slice())})})}function y(e,t,n,o,i,r){return 1<A.length&&(o&&0<t&&(n=Math.max(n,e[t-1]+d.margin)),i&&t<A.length-1&&(n=Math.min(n,e[t+1]-d.margin))),1<A.length&&d.limit&&(o&&0<t&&(n=Math.min(n,e[t-1]+d.limit)),i&&t<A.length-1&&(n=Math.max(n,e[t+1]-d.limit))),d.padding&&(0===t&&(n=Math.max(n,d.padding[0])),t===A.length-1&&(n=Math.min(n,100-d.padding[1]))),!((n=J(n=B.getStep(n)))===e[t]&&!r)&&n}function b(e,t){var n=d.ort;return(n?t:e)+", "+(n?e:t)}function C(e,n,o,t){var i=o.slice(),r=[!e,e],a=[e,!e];t=t.slice(),e&&t.reverse(),1<t.length?t.forEach(function(e,t){t=y(i,e,i[e]+n,r[t],a[t],!1);!1===t?n=0:(n=t-i[e],i[e]=t)}):r=a=[!0];var s=!1;t.forEach(function(e,t){s=I(e,o[e]+n,r[t],a[t])||s}),s&&t.forEach(function(e){w("update",e),w("slide",e)})}function S(e,t){return d.dir?100-e-t:e}function E(){H.forEach(function(e){var t=50<Z[e]?-1:1,t=3+(A.length+t*e);A[e].style.zIndex=t})}function I(e,t,n,o){return!1!==(t=y(Z,e,t,n,o,!1))&&(t=t,Z[e=e]=t,K[e]=B.fromStepping(t),t="translate("+b(S(t,0)-G+"%","0")+")",A[e].style[d.transformRule]=t,T(e),T(e+1),!0)}function T(e){var t,n;O[e]&&(n=100,(t=0)!==e&&(t=Z[e-1]),e!==O.length-1&&(n=Z[e]),t="translate("+b(S(t,n=n-t)+"%","0")+")",n="scale("+b(n/100,"1")+")",O[e].style[d.transformRule]=t+" "+n)}function M(e,t){var n=Q(e),e=void 0===Z[0];t=void 0===t||!!t,d.animate&&!e&&$(z,d.cssClasses.tap,d.animationDuration),H.forEach(function(e){var t;I(e,(t=n[e],e=e,null===t||!1===t||void 0===t?Z[e]:("number"==typeof t&&(t=String(t)),t=d.format.from(t),!1===(t=B.toStepping(t))||isNaN(t)?Z[e]:t)),!0,!1)}),H.forEach(function(e){I(e,Z[e],!0,!0)}),E(),H.forEach(function(e){w("update",e),null!==n[e]&&t&&w("set",e)})}function k(){var e=K.map(d.format.to);return 1===e.length?e[0]:e}var D,A,O,F,_,N,P,L,R=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},U=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),z=e,Z=[],H=[],V=0,B=d.spectrum,K=[],j={},W=e.ownerDocument,Y=W.documentElement,q=W.body,G="rtl"===W.dir||1===d.ort?0:100;return ee(L=z,d.cssClasses.target),0===d.dir?ee(L,d.cssClasses.ltr):ee(L,d.cssClasses.rtl),0===d.ort?ee(L,d.cssClasses.horizontal):ee(L,d.cssClasses.vertical),D=p(L,d.cssClasses.base),function(e,t){var n=p(t,d.cssClasses.connects);A=[],(O=[]).push(s(n,e[0]));for(var o,i,r,a=0;a<d.handles;a++)A.push((i=a,r=void 0,r=p(o=t,d.cssClasses.origin),(o=p(r,d.cssClasses.handle)).setAttribute("data-handle",i),o.setAttribute("tabindex","0"),o.setAttribute("role","slider"),o.setAttribute("aria-orientation",d.ort?"vertical":"horizontal"),0===i?ee(o,d.cssClasses.handleLower):i===d.handles-1&&ee(o,d.cssClasses.handleUpper),r)),H[a]=a,O.push(s(n,e[a+1]))}(d.connect,D),(P=d.events).fixed||A.forEach(function(e,t){f(R.start,e.children[0],x,{handleNumbers:[t]})}),P.tap&&f(R.start,D,n,{}),P.hover&&f(R.move,D,o,{hover:!0}),P.drag&&O.forEach(function(e,t){var n,o,i;!1!==e&&0!==t&&t!==O.length-1&&(n=A[t-1],o=A[t],i=[e],ee(e,d.cssClasses.draggable),P.fixed&&(i.push(n.children[0]),i.push(o.children[0])),i.forEach(function(e){f(R.start,e,x,{handles:[n,o],handleNumbers:[t-1,t]})}))}),M(d.start),F={destroy:function(){for(var e in d.cssClasses)d.cssClasses.hasOwnProperty(e)&&te(z,d.cssClasses[e]);for(;z.firstChild;)z.removeChild(z.firstChild);delete z.noUiSlider},steps:function(){return Z.map(function(e,t){var n=B.getNearbySteps(e),o=K[t],i=n.thisStep.step,t=null;!1!==i&&o+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-o),t=o>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&o-n.stepBefore.highestStep,100===e?i=null:0===e&&(t=null);e=B.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(e))),null!==t&&!1!==t&&(t=Number(t.toFixed(e))),[t,i]})},on:i,off:function(e){var o=e&&e.split(".")[0],i=o&&e.substring(o.length);Object.keys(j).forEach(function(e){var t=e.split(".")[0],n=e.substring(t.length);o&&o!==t||i&&i!==n||delete j[e]})},get:k,set:M,reset:function(e){M(d.start,e)},__moveHandles:function(e,t,n){C(e,t,Z,n)},options:r,updateOptions:function(t,e){var n=k(),o=["margin","limit","padding","range","animate","snap","step","format"];o.forEach(function(e){void 0!==t[e]&&(r[e]=t[e])});var i=oe(r);o.forEach(function(e){void 0!==t[e]&&(d[e]=i[e])}),B=i.spectrum,d.margin=i.margin,d.limit=i.limit,d.padding=i.padding,d.pips&&u(d.pips),Z=[],M(t.start||n,e)},target:z,removePips:l,pips:u},d.pips&&u(d.pips),d.tooltips&&(N=A.map(t),i("update",function(e,t,n){N[t]&&(e=e[t],!0!==d.tooltips[t]&&(e=d.tooltips[t].to(n[t])),N[t].innerHTML=e)})),i("update",function(e,t,r,n,a){H.forEach(function(e){var t=A[e],n=y(Z,e,0,!0,!0,!0),o=y(Z,e,100,!0,!0,!0),i=a[e],e=d.ariaFormat.to(r[e]);t.children[0].setAttribute("aria-valuemin",n.toFixed(1)),t.children[0].setAttribute("aria-valuemax",o.toFixed(1)),t.children[0].setAttribute("aria-valuenow",i.toFixed(1)),t.children[0].setAttribute("aria-valuetext",e)})}),F}var ie="11.1.0";i.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider ("+ie+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&c(this.xVal,e)},i.prototype.toStepping=function(e){return n(this.xVal,this.xPct,e)},i.prototype.fromStepping=function(e){return function(e,t,n){if(100<=n)return e.slice(-1)[0];var o=s(n,t),i=e[o-1],r=e[o],e=t[o-1];return r=[i,r],(n-e)*u(e,t[o])*(r[1]-r[0])/100+r[0]}(this.xVal,this.xPct,e)},i.prototype.getStep=function(e){return o(this.xPct,this.xSteps,this.snap,e)},i.prototype.getNearbySteps=function(e){e=s(e,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[+e],step:this.xNumSteps[+e],highestStep:this.xHighestCompleteStep[+e]}}},i.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(t);return Math.max.apply(null,e)},i.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var A={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:ie,create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider ("+ie+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+ie+"): Slider was already initialized.");return t=D(e,oe(t),t),e.noUiSlider=t}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(o,s){function e(e){if(M)return!0;e=e||window.event,T.timeToIdle&&T.mouseUsed&&!y&&R();for(var t,n,o=(e.target||e.srcElement).getAttribute("class")||"",i=0;i<z.length;i++)(t=z[i]).onTap&&-1<o.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),M=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){M=!1},e))}function t(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)}function n(){var e=1===T.getNumItemsFn();e!==I&&(t(f,"ui--one-slide",e),I=e)}function i(){t(x,"share-modal--hidden",_)}function r(){return(_=!_)?(s.removeClass(x,"pswp__share-modal--fade-in"),setTimeout(function(){_&&i()},300)):(i(),setTimeout(function(){_||s.addClass(x,"pswp__share-modal--fade-in")},30)),_||P(),0}function a(e){var t=(e=e||window.event).target||e.srcElement;return o.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),_||r(),1))}function l(e){for(var t=0;t<T.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+T.closeElClasses[t]))return!0}function u(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(D),D=setTimeout(function(){A.setIdle(!0)},T.timeToIdleOutside))}function c(e){var t,n=e.vGap;!o.likelyTouchDevice||T.mouseUsed||screen.width>T.fitControlsWidth?(t=T.barsSize,T.captionEl&&"auto"===t.bottom?(h||((h=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),f.insertBefore(h,m),s.addClass(f,"pswp__ui--fit")),T.addCaptionHTMLFn(e,h,!0)?(e=h.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function d(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){i=e[n],r=i.className;for(var o=0;o<z.length;o++)a=z[o],-1<r.indexOf("pswp__"+a.name)&&(T[a.option]?(s.removeClass(i,"pswp__element--disabled"),a.onInit&&a.onInit(i)):s.addClass(i,"pswp__element--disabled"))}}var i,r,a;e(f.children);var t=s.getChildByClass(f,"pswp__top-bar");t&&e(t.children)}var p,f,m,h,g,v,x,w,y,b,C,S,E,I,T,M,k,D,A=this,O=!1,F=!0,_=!0,N={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return o.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return o.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},P=function(){for(var e,t,n,o,i="",r=0;r<T.shareButtons.length;r++)e=T.shareButtons[r],t=T.getImageURLForShare(e),n=T.getPageURLForShare(e),o=T.getTextForShare(e),i+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",T.parseShareButtonOut&&(i=T.parseShareButtonOut(e,i));x.children[0].innerHTML=i,x.children[0].onclick=a},L=0,R=function(){clearTimeout(D),L=0,y&&A.setIdle(!1)},U=function(e){S!==e&&(t(C,"preloader--active",!e),S=e)},z=[{name:"caption",option:"captionEl",onInit:function(e){m=e}},{name:"share-modal",option:"shareEl",onInit:function(e){x=e},onTap:function(){r()}},{name:"button--share",option:"shareEl",onInit:function(e){v=e},onTap:function(){r()}},{name:"button--zoom",option:"zoomEl",onTap:o.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){g=e}},{name:"button--close",option:"closeEl",onTap:o.close},{name:"button--arrow--left",option:"arrowEl",onTap:o.prev},{name:"button--arrow--right",option:"arrowEl",onTap:o.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){p.isFullscreen()?p.exit():p.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){C=e}}];A.init=function(){var t;s.extend(o.options,N,!0),T=o.options,f=s.getChildByClass(o.scrollWrap,"pswp__ui"),(b=o.listen)("onVerticalDrag",function(e){F&&e<.95?A.hideControls():!F&&.95<=e&&A.showControls()}),b("onPinchClose",function(e){F&&e<.9?(A.hideControls(),t=!0):t&&!F&&.9<e&&A.showControls()}),b("zoomGestureEnded",function(){(t=!1)&&!F&&A.showControls()}),b("beforeChange",A.update),b("doubleTap",function(e){var t=o.currItem.initialZoomLevel;o.getZoomLevel()!==t?o.zoomTo(t,e,333):o.zoomTo(T.getDoubleTapZoom(!1,o.currItem),e,333)}),b("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<o.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),b("bindEvents",function(){s.bind(f,"pswpTap click",e),s.bind(o.scrollWrap,"pswpTap",A.onGlobalTap),o.likelyTouchDevice||s.bind(o.scrollWrap,"mouseover",A.onMouseOver)}),b("unbindEvents",function(){_||r(),k&&clearInterval(k),s.unbind(document,"mouseout",u),s.unbind(document,"mousemove",R),s.unbind(f,"pswpTap click",e),s.unbind(o.scrollWrap,"pswpTap",A.onGlobalTap),s.unbind(o.scrollWrap,"mouseover",A.onMouseOver),p&&(s.unbind(document,p.eventK,A.updateFullscreen),p.isFullscreen()&&(T.hideAnimationDuration=0,p.exit()),p=null)}),b("destroy",function(){T.captionEl&&(h&&f.removeChild(h),s.removeClass(m,"pswp__caption--empty")),x&&(x.children[0].onclick=null),s.removeClass(f,"pswp__ui--over-close"),s.addClass(f,"pswp__ui--hidden"),A.setIdle(!1)}),T.showAnimationDuration||s.removeClass(f,"pswp__ui--hidden"),b("initialZoomIn",function(){T.showAnimationDuration&&s.removeClass(f,"pswp__ui--hidden")}),b("initialZoomOut",function(){s.addClass(f,"pswp__ui--hidden")}),b("parseVerticalMargin",c),d(),T.shareEl&&v&&x&&(_=!0),n(),T.timeToIdle&&b("mouseUsed",function(){s.bind(document,"mousemove",R),s.bind(document,"mouseout",u),k=setInterval(function(){2===++L&&A.setIdle(!0)},T.timeToIdle/2)}),T.fullscreenEl&&!s.features.isOldAndroid&&((p=p||A.getFullscreenAPI())?(s.bind(document,p.eventK,A.updateFullscreen),A.updateFullscreen(),s.addClass(o.template,"pswp--supports-fs")):s.removeClass(o.template,"pswp--supports-fs")),T.preloaderEl&&(U(!0),b("beforeChange",function(){clearTimeout(E),E=setTimeout(function(){o.currItem&&o.currItem.loading?o.allowProgressiveImg()&&(!o.currItem.img||o.currItem.img.naturalWidth)||U(!1):U(!0)},T.loadingIndicatorDelay)}),b("imageLoadComplete",function(e,t){o.currItem===t&&U(!0)}))},A.setIdle=function(e){t(f,"ui--idle",y=e)},A.update=function(){O=!(!F||!o.currItem)&&(A.updateIndexIndicator(),T.captionEl&&(T.addCaptionHTMLFn(o.currItem,m),t(m,"caption--empty",!o.currItem.title)),!0),_||r(),n()},A.updateFullscreen=function(e){e&&setTimeout(function(){o.setScrollOffset(0,s.getScrollY())},50),s[(p.isFullscreen()?"add":"remove")+"Class"](o.template,"pswp--fs")},A.updateIndexIndicator=function(){T.counterEl&&(g.innerHTML=o.getCurrentIndex()+1+T.indexIndicatorSep+T.getNumItemsFn())},A.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!M)if(e.detail&&"mouse"===e.detail.pointerType)l(t)?o.close():s.hasClass(t,"pswp__img")&&(1===o.getZoomLevel()&&o.getZoomLevel()<=o.currItem.fitRatio?T.clickToCloseNonZoomable&&o.close():o.toggleDesktopZoom(e.detail.releasePoint));else if(T.tapToToggleControls&&(F?A.hideControls():A.showControls()),T.tapToClose&&(s.hasClass(t,"pswp__img")||l(t)))return void o.close()},A.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;t(f,"ui--over-close",l(e))},A.hideControls=function(){s.addClass(f,"pswp__ui--hidden"),F=!1},A.showControls=function(){F=!0,O||A.update(),s.removeClass(f,"pswp__ui--hidden")},A.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},A.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return w=T.closeOnScroll,T.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?o.template[this.enterK]():void o.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return T.closeOnScroll=w,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.wNumb=e()}(function(){"use strict";var r=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function x(e){return e.split("").reverse().join("")}function m(e,t){return e.substring(0,t.length)===t}function a(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function w(e){return"number"==typeof e&&isFinite(e)}function n(e,t,n,o,i,r,a,s,l,u,c,d){var p,f,m,h=d,g="",v="";return r&&(d=r(d)),!!w(d)&&(!1!==e&&0===parseFloat(d.toFixed(e))&&(d=0),d<0&&(p=!0,d=Math.abs(d)),!1!==e&&(m=e,e=(e=d).toString().split("e"),d=(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+m:m)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-m:-m))).toFixed(m)),-1!==(d=d.toString()).indexOf(".")?(f=(m=d.split("."))[0],n&&(g=n+m[1])):f=d,t&&(f=x(f).match(/.{1,3}/g),f=x(f.join(x(t)))),p&&s&&(v+=s),o&&(v+=o),p&&l&&(v+=l),v+=f,v+=g,i&&(v+=i),u&&(v=u(v,h)),v)}function o(e,t,n,o,i,r,a,s,l,u,c,d){var p,f="";return c&&(d=c(d)),!(!d||"string"!=typeof d)&&(s&&m(d,s)&&(d=d.replace(s,""),p=!0),o&&m(d,o)&&(d=d.replace(o,"")),l&&m(d,l)&&(d=d.replace(l,""),p=!0),i&&(l=i,d.slice(-1*l.length)===l)&&(d=d.slice(0,-1*i.length)),t&&(d=d.split(t).join("")),n&&(d=d.replace(n,".")),p&&(f+="-"),""!==(f=(f+=d).replace(/[^0-9\.\-.]/g,""))&&(f=Number(f),a&&(f=a(f)),!!w(f)&&f))}function i(e,t,n){for(var o=[],i=0;i<r.length;i+=1)o.push(e[r[i]]);return o.push(n),t.apply("",o)}return function e(t){if(!(this instanceof e))return new e(t);"object"==typeof t&&(t=function(e){var t,n,o,i={};for(void 0===e.suffix&&(e.suffix=e.postfix),t=0;t<r.length;t+=1)if(void 0===(o=e[n=r[t]]))"negative"!==n||i.negativeBefore?"mark"===n&&"."!==i.thousand?i[n]=".":i[n]=!1:i[n]="-";else if("decimals"===n){if(!(0<=o&&o<8))throw new Error(n);i[n]=o}else if("encoder"===n||"decoder"===n||"edit"===n||"undo"===n){if("function"!=typeof o)throw new Error(n);i[n]=o}else{if("string"!=typeof o)throw new Error(n);i[n]=o}return a(i,"mark","thousand"),a(i,"prefix","negative"),a(i,"prefix","negativeBefore"),i}(t),this.to=function(e){return i(t,n,e)},this.from=function(e){return i(t,o,e)})}});
