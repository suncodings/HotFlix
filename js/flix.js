!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(D){var O,l,B,i,o,s,a,f,N,g,h,c,u,d,m,p,y,v,b,w,x,k,_,T,C,S,E,I,R,r,A,M,P,L,F,H,z,U,j,q,W,V,$,Z,K,Y,X,G,Q,J,t,ee,te,ne,ie,oe,ae,e="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,re="https:"==document.location.protocol?"https:":"http:";e||(n?require("jquery-mousewheel")(D):D.event.special.mousewheel||D("head").append(decodeURI("%3Cscript src="+re+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),l="mCustomScrollbar",B="mCS",i=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,a={},f=window.attachEvent&&!window.addEventListener?1:0,N=!1,g=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(r){var r=D.extend(!0,{},o,r),e=c.call(this);if(r.live){var t=r.liveSelector||this.selector||i,n=D(t);if("off"===r.live)return void d(t);a[t]=setTimeout(function(){n.mCustomScrollbar(r),"once"===r.live&&n.length&&d(t)},500)}else d(t);return r.setWidth=r.set_width||r.setWidth,r.setHeight=r.set_height||r.setHeight,r.axis=r.horizontalScroll?"x":m(r.axis),r.scrollInertia=0<r.scrollInertia&&r.scrollInertia<17?17:r.scrollInertia,"object"!=typeof r.mouseWheel&&1==r.mouseWheel&&(r.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),r.mouseWheel.scrollAmount=r.mouseWheelPixels||r.mouseWheel.scrollAmount,r.mouseWheel.normalizeDelta=r.advanced.normalizeMouseWheelDelta||r.mouseWheel.normalizeDelta,r.scrollButtons.scrollType=p(r.scrollButtons.scrollType),u(r),D(e).each(function(){var e,t,n,i,o,a=D(this);a.data(B)||(a.data(B,{idx:++s,opt:r,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:a.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}}),t=(e=a.data(B)).opt,n=a.data("mcs-axis"),i=a.data("mcs-scrollbar-position"),o=a.data("mcs-theme"),n&&(t.axis=n),i&&(t.scrollbarPosition=i),o&&(t.theme=o,u(t)),y.call(this),e&&t.callbacks.onCreate&&"function"==typeof t.callbacks.onCreate&&t.callbacks.onCreate.call(this),D("#mCSB_"+e.idx+"_container img:not(."+g[2]+")").addClass(g[2]),h.update.call(null,a))})},update:function(e,r){return e=e||c.call(this),D(e).each(function(){var e,t,n,i,o,a=D(this);a.data(B)&&(t=(e=a.data(B)).opt,o=D("#mCSB_"+e.idx+"_container"),n=D("#mCSB_"+e.idx),i=[D("#mCSB_"+e.idx+"_dragger_vertical"),D("#mCSB_"+e.idx+"_dragger_horizontal")],o.length&&(e.tweenRunning&&X(a),r&&e&&t.callbacks.onBeforeUpdate&&"function"==typeof t.callbacks.onBeforeUpdate&&t.callbacks.onBeforeUpdate.call(this),a.hasClass(g[3])&&a.removeClass(g[3]),a.hasClass(g[4])&&a.removeClass(g[4]),n.css("max-height","none"),n.height()!==a.height()&&n.css("max-height",a.height()),b.call(this),"y"===t.axis||t.advanced.autoExpandHorizontalScroll||o.css("width",v(o)),e.overflowed=T.call(this),I.call(this),t.autoDraggerLength&&x.call(this),k.call(this),S.call(this),o=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)],"x"!==t.axis&&(e.overflowed[0]?i[0].height()>i[0].parent().height()?C.call(this):(G(a,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(C.call(this),"y"===t.axis?E.call(this):"yx"===t.axis&&e.overflowed[1]&&G(a,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==t.axis&&(e.overflowed[1]?i[1].width()>i[1].parent().width()?C.call(this):(G(a,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(C.call(this),"x"===t.axis?E.call(this):"yx"===t.axis&&e.overflowed[0]&&G(a,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),r&&e&&(2===r&&t.callbacks.onImageLoad&&"function"==typeof t.callbacks.onImageLoad?t.callbacks.onImageLoad.call(this):3===r&&t.callbacks.onSelectorChange&&"function"==typeof t.callbacks.onSelectorChange?t.callbacks.onSelectorChange.call(this):t.callbacks.onUpdate&&"function"==typeof t.callbacks.onUpdate&&t.callbacks.onUpdate.call(this)),Y.call(this)))})},scrollTo:function(r,s){if(void 0!==r&&null!=r){var e=c.call(this);return D(e).each(function(){var e,t,n,i,o,a=D(this);a.data(B)&&(e=a.data(B),o={trigger:"external",scrollInertia:(t=e.opt).scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=D.extend(!0,{},o,s),i=Z.call(this,r),o=0<n.scrollInertia&&n.scrollInertia<17?17:n.scrollInertia,i[0]=K.call(this,i[0],"y"),i[1]=K.call(this,i[1],"x"),n.moveDragger&&(i[0]*=e.scrollRatio.y,i[1]*=e.scrollRatio.x),n.dur=ae()?0:o,setTimeout(function(){null!==i[0]&&void 0!==i[0]&&"x"!==t.axis&&e.overflowed[0]&&(n.dir="y",n.overwrite="all",G(a,i[0].toString(),n)),null!==i[1]&&void 0!==i[1]&&"y"!==t.axis&&e.overflowed[1]&&(n.dir="x",n.overwrite="none",G(a,i[1].toString(),n))},n.timeout))})}},stop:function(){var e=c.call(this);return D(e).each(function(){var e=D(this);e.data(B)&&X(e)})},disable:function(t){var e=c.call(this);return D(e).each(function(){var e=D(this);e.data(B)&&(e.data(B),Y.call(this,"remove"),E.call(this),t&&C.call(this),I.call(this,!0),e.addClass(g[3]))})},destroy:function(){var r=c.call(this);return D(r).each(function(){var e,t,n,i,o,a=D(this);a.data(B)&&(t=(e=a.data(B)).opt,n=D("#mCSB_"+e.idx),i=D("#mCSB_"+e.idx+"_container"),o=D(".mCSB_"+e.idx+"_scrollbar"),t.live&&d(t.liveSelector||D(r).selector),Y.call(this,"remove"),E.call(this),C.call(this),a.removeData(B),ee(this,"mcs"),o.remove(),i.find("img."+g[2]).removeClass(g[2]),n.replaceWith(i.contents()),a.removeClass(l+" _"+B+"_"+e.idx+" "+g[6]+" "+g[7]+" "+g[5]+" "+g[3]).addClass(g[4]))})}},c=function(){return"object"!=typeof D(this)||D(this).length<1?i:this},u=function(e){e.autoDraggerLength=!(-1<D.inArray(e.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&e.autoDraggerLength,e.autoExpandScrollbar=!(-1<D.inArray(e.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&e.autoExpandScrollbar,e.scrollButtons.enable=!(-1<D.inArray(e.theme,["minimal","minimal-dark"]))&&e.scrollButtons.enable,e.autoHideScrollbar=-1<D.inArray(e.theme,["minimal","minimal-dark"])||e.autoHideScrollbar,e.scrollbarPosition=-1<D.inArray(e.theme,["minimal","minimal-dark"])?"outside":e.scrollbarPosition},d=function(e){a[e]&&(clearTimeout(a[e]),ee(a,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},p=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},y=function(){var e=D(this),t=e.data(B),n=t.opt,i=n.autoExpandScrollbar?" "+g[1]+"_expand":"",o=["<div id='mCSB_"+t.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_vertical"+i+"'><div class='"+g[12]+"'><div id='mCSB_"+t.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+t.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+t.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_horizontal"+i+"'><div class='"+g[12]+"'><div id='mCSB_"+t.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a="yx"===n.axis?"mCSB_vertical_horizontal":"x"===n.axis?"mCSB_horizontal":"mCSB_vertical",r="yx"===n.axis?o[0]+o[1]:"x"===n.axis?o[1]:o[0],s="yx"===n.axis?"<div id='mCSB_"+t.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",i=n.autoHideScrollbar?" "+g[6]:"",o="x"!==n.axis&&"rtl"===t.langDir?" "+g[7]:"";n.setWidth&&e.css("width",n.setWidth),n.setHeight&&e.css("height",n.setHeight),n.setLeft="y"!==n.axis&&"rtl"===t.langDir?"989999px":n.setLeft,e.addClass(l+" _"+B+"_"+t.idx+i+o).wrapInner("<div id='mCSB_"+t.idx+"' class='mCustomScrollBox mCS-"+n.theme+" "+a+"'><div id='mCSB_"+t.idx+"_container' class='mCSB_container' style='position:relative; top:"+n.setTop+"; left:"+n.setLeft+";' dir='"+t.langDir+"' /></div>"),o=D("#mCSB_"+t.idx),a=D("#mCSB_"+t.idx+"_container"),"y"===n.axis||n.advanced.autoExpandHorizontalScroll||a.css("width",v(a)),"outside"===n.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),o.addClass("mCSB_outside").after(r)):(o.addClass("mCSB_inside").append(r),a.wrap(s)),w.call(this),(t=[D("#mCSB_"+t.idx+"_dragger_vertical"),D("#mCSB_"+t.idx+"_dragger_horizontal")])[0].css("min-height",t[0].height()),t[1].css("min-width",t[1].width())},v=function(e){var t=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return D(this).outerWidth(!0)}).get())];return(e=e.parent().width())<t[0]?t[0]:e<t[1]?t[1]:"100%"},b=function(){var e=D(this).data(B),t=e.opt,n=D("#mCSB_"+e.idx+"_container");t.advanced.autoExpandHorizontalScroll&&"y"!==t.axis&&(n.css({width:"auto","min-width":0,"overflow-x":"scroll"}),e=Math.ceil(n[0].scrollWidth),3===t.advanced.autoExpandHorizontalScroll||2!==t.advanced.autoExpandHorizontalScroll&&e>n.parent().width()?n.css({width:e,"min-width":"100%","overflow-x":"inherit"}):n.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(n[0].getBoundingClientRect().right+.4)-Math.floor(n[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},w=function(){var e=(n=D(this).data(B)).opt,t=D(".mCSB_"+n.idx+"_scrollbar:first"),n=ie(e.scrollButtons.tabindex)?"tabindex='"+e.scrollButtons.tabindex+"'":"",n=["<a href='#' class='"+g[13]+"' "+n+" />","<a href='#' class='"+g[14]+"' "+n+" />","<a href='#' class='"+g[15]+"' "+n+" />","<a href='#' class='"+g[16]+"' "+n+" />"],n=["x"===e.axis?n[2]:n[0],"x"===e.axis?n[3]:n[1],n[2],n[3]];e.scrollButtons.enable&&t.prepend(n[0]).append(n[1]).next(".mCSB_scrollTools").prepend(n[2]).append(n[3])},x=function(){var e=D(this).data(B),t=D("#mCSB_"+e.idx),n=D("#mCSB_"+e.idx+"_container"),i=[D("#mCSB_"+e.idx+"_dragger_vertical"),D("#mCSB_"+e.idx+"_dragger_horizontal")],e=[t.height()/n.outerHeight(!1),t.width()/n.outerWidth(!1)],t=[parseInt(i[0].css("min-height")),Math.round(e[0]*i[0].parent().height()),parseInt(i[1].css("min-width")),Math.round(e[1]*i[1].parent().width())],n=f&&t[1]<t[0]?t[0]:t[1],e=f&&t[3]<t[2]?t[2]:t[3];i[0].css({height:n,"max-height":i[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":t[0]+"px"}),i[1].css({width:e,"max-width":i[1].parent().width()-10})},k=function(){var e=D(this).data(B),t=D("#mCSB_"+e.idx),n=D("#mCSB_"+e.idx+"_container"),i=[D("#mCSB_"+e.idx+"_dragger_vertical"),D("#mCSB_"+e.idx+"_dragger_horizontal")],i=[(t=[n.outerHeight(!1)-t.height(),n.outerWidth(!1)-t.width()])[0]/(i[0].parent().height()-i[0].height()),t[1]/(i[1].parent().width()-i[1].width())];e.scrollRatio={y:i[0],x:i[1]}},_=function(e,t,n){var i=n?g[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(g[0]+" "+i),n.toggleClass(g[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(g[0]),n.removeClass(g[1])):(e.addClass(g[0]),n.addClass(g[1])))},T=function(){var e=D(this).data(B),t=D("#mCSB_"+e.idx),n=D("#mCSB_"+e.idx+"_container"),i=null==e.overflowed?n.height():n.outerHeight(!1),o=null==e.overflowed?n.width():n.outerWidth(!1);return i<(e=n[0].scrollHeight)&&(i=e),o<(n=n[0].scrollWidth)&&(o=n),[i>t.height(),o>t.width()]},C=function(){var e=D(this),t=e.data(B),n=t.opt,i=D("#mCSB_"+t.idx),o=D("#mCSB_"+t.idx+"_container"),a=[D("#mCSB_"+t.idx+"_dragger_vertical"),D("#mCSB_"+t.idx+"_dragger_horizontal")];X(e),("x"!==n.axis&&!t.overflowed[0]||"y"===n.axis&&t.overflowed[0])&&(a[0].add(o).css("top",0),G(e,"_resetY")),("y"!==n.axis&&!t.overflowed[1]||"x"===n.axis&&t.overflowed[1])&&(n=dx=0,"rtl"===t.langDir&&(n=i.width()-o.outerWidth(!1),dx=Math.abs(n/t.scrollRatio.x)),o.css("left",n),a[1].css("left",dx),G(e,"_resetX"))},S=function(){var t,n=D(this),e=n.data(B),i=e.opt;e.bindEvents||(r.call(this),i.contentTouchScroll&&A.call(this),M.call(this),i.mouseWheel.enable&&function e(){t=setTimeout(function(){D.event.special.mousewheel?(clearTimeout(t),P.call(n[0])):e()},100)}(),U.call(this),q.call(this),i.advanced.autoScrollOnFocus&&j.call(this),i.scrollButtons.enable&&W.call(this),i.keyboard.enable&&V.call(this),e.bindEvents=!0)},E=function(){var e=D(this),t=e.data(B),n=t.opt,i=B+"_"+t.idx,o=".mCSB_"+t.idx+"_scrollbar",a=D("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+o+" ."+g[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+o+">a"),o=D("#mCSB_"+t.idx+"_container");n.advanced.releaseDraggableSelectors&&a.add(D(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&a.add(D(n.advanced.extraDraggableSelectors)),t.bindEvents&&(D(document).add(D(!F()||top.document)).unbind("."+i),a.each(function(){D(this).unbind("."+i)}),clearTimeout(e[0]._focusTimeout),ee(e[0],"_focusTimeout"),clearTimeout(t.sequential.step),ee(t.sequential,"step"),clearTimeout(o[0].onCompleteTimeout),ee(o[0],"onCompleteTimeout"),t.bindEvents=!1)},I=function(e){var t=D(this),n=t.data(B),i=n.opt,o=(r=D("#mCSB_"+n.idx+"_container_wrapper")).length?r:D("#mCSB_"+n.idx+"_container"),a=[D("#mCSB_"+n.idx+"_scrollbar_vertical"),D("#mCSB_"+n.idx+"_scrollbar_horizontal")],r=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!e?(a[0].add(r[0]).add(a[0].children("a")).css("display","block"),o.removeClass(g[8]+" "+g[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&r[0].css("display","none"),o.removeClass(g[10])):(a[0].css("display","none"),o.addClass(g[10])),o.addClass(g[8]))),"y"!==i.axis&&(n.overflowed[1]&&!e?(a[1].add(r[1]).add(a[1].children("a")).css("display","block"),o.removeClass(g[9]+" "+g[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&r[1].css("display","none"),o.removeClass(g[11])):(a[1].css("display","none"),o.addClass(g[11])),o.addClass(g[9]))),n.overflowed[0]||n.overflowed[1]?t.removeClass(g[5]):t.addClass(g[5])},R=function(e){var t=e.type,n=e.target.ownerDocument!==document&&null!==frameElement?[D(frameElement).offset().top,D(frameElement).offset().left]:null,i=F()&&e.target.ownerDocument!==top.document&&null!==frameElement?[D(e.view.frameElement).offset().top,D(e.view.frameElement).offset().left]:[0,0];switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[e.originalEvent.pageY-n[0]+i[0],e.originalEvent.pageX-n[1]+i[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,1<a]:[o.pageY,o.pageX,1<a];default:return n?[e.pageY-n[0]+i[0],e.pageX-n[1]+i[1],!1]:[e.pageY,e.pageX,!1]}},r=function(){function i(e,t,n,i){var o;d[0].idleTimer=c.scrollInertia<233?250:0,n=a.attr("id")===u[1]?(o="x",(a[0].offsetLeft-t+i)*l.scrollRatio.x):(o="y",(a[0].offsetTop-e+n)*l.scrollRatio.y),G(s,n.toString(),{dir:o,drag:!0})}var a,o,r,s=D(this),l=s.data(B),c=l.opt,e=B+"_"+l.idx,u=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],d=D("#mCSB_"+l.idx+"_container"),t=D("#"+u[0]+",#"+u[1]),n=c.advanced.releaseDraggableSelectors?t.add(D(c.advanced.releaseDraggableSelectors)):t,h=c.advanced.extraDraggableSelectors?D(!F()||top.document).add(D(c.advanced.extraDraggableSelectors)):D(!F()||top.document);t.bind("contextmenu."+e,function(e){e.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){var t,n,i;e.stopImmediatePropagation(),e.preventDefault(),te(e)&&(N=!0,f&&(document.onselectstart=function(){return!1}),H.call(d,!1),X(s),i=(a=D(this)).offset(),t=R(e)[0]-i.top,n=R(e)[1]-i.left,e=a.height()+i.top,i=a.width()+i.left,t<e&&0<t&&n<i&&0<n&&(o=t,r=n),_(a,"active",c.autoExpandScrollbar))}).bind("touchmove."+e,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=a.offset(),n=R(e)[0]-t.top,t=R(e)[1]-t.left;i(o,r,n,t)}),D(document).add(h).bind("mousemove."+e+" pointermove."+e+" MSPointerMove."+e,function(e){var t,n;a&&(n=a.offset(),t=R(e)[0]-n.top,n=R(e)[1]-n.left,o===t&&r===n||i(o,r,t,n))}).add(n).bind("mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){a&&(_(a,"active",c.autoExpandScrollbar),a=null),N=!1,f&&(document.onselectstart=null),H.call(d,!0)})},A=function(){function t(e){if(!ne(e)||N||R(e)[2])return O=0;v=y=0,s=O=1,b.removeClass("mCS_touch_action");var t=T.offset();l=R(e)[0]-t.top,c=R(e)[1]-t.left,A=[R(e)[0],R(e)[1]]}function n(e){var t,n,i,o,a;!ne(e)||N||R(e)[2]||(x.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),v&&!y||!s)||(m=J(),i=k.offset(),t=R(e)[0]-i.top,n=R(e)[1]-i.left,i="mcsLinearOut",C.push(t),S.push(n),A[2]=Math.abs(R(e)[0]-A[0]),A[3]=Math.abs(R(e)[1]-A[1]),w.overflowed[0]&&(o=_[0].parent().height()-_[0].height(),o=0<l-t&&t-l>-(o*w.scrollRatio.y)&&(2*A[3]<A[2]||"yx"===x.axis)),w.overflowed[1]&&(a=_[1].parent().width()-_[1].width(),a=0<c-n&&n-c>-(a*w.scrollRatio.x)&&(2*A[2]<A[3]||"yx"===x.axis)),o||a?(L||e.preventDefault(),y=1):(v=1,b.addClass("mCS_touch_action")),L&&e.preventDefault(),f="yx"===x.axis?[l-t,c-n]:"x"===x.axis?[null,c-n]:[l-t,null],T[0].idleTimer=250,w.overflowed[0]&&r(f[0],E,i,"y","all",!0),w.overflowed[1]&&r(f[1],E,i,"x",I,!0))}function i(e){if(!ne(e)||N||R(e)[2])return O=0;O=1,e.stopImmediatePropagation(),X(b),h=J();var t=k.offset();u=R(e)[0]-t.top,d=R(e)[1]-t.left,C=[],S=[]}function o(e){var t,n,i,o;!ne(e)||N||R(e)[2]||(s=0,e.stopImmediatePropagation(),v=y=0,p=J(),i=k.offset(),t=R(e)[0]-i.top,o=R(e)[1]-i.left,30<p-m||(n="mcsEaseOut",i=(e=(g=1e3/(p-h))<2.5)?[C[C.length-2],S[S.length-2]]:[0,0],p=e?[t-i[0],o-i[1]]:[t-u,o-d],o=[Math.abs(p[0]),Math.abs(p[1])],g=e?[Math.abs(p[0]/4),Math.abs(p[1]/4)]:[g,g],e=[Math.abs(T[0].offsetTop)-p[0]*a(o[0]/g[0],g[0]),Math.abs(T[0].offsetLeft)-p[1]*a(o[1]/g[1],g[1])],f="yx"===x.axis?[e[0],e[1]]:"x"===x.axis?[null,e[1]]:[e[0],null],g=[4*o[0]+x.scrollInertia,4*o[1]+x.scrollInertia],e=parseInt(x.contentTouchScroll)||0,f[0]=e<o[0]?f[0]:0,f[1]=e<o[1]?f[1]:0,w.overflowed[0]&&r(f[0],g[0],n,"y",I,!1),w.overflowed[1]&&r(f[1],g[1],n,"x",I,!1)))}function a(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return 90<e?4<t?n[0]:n[3]:60<e?3<t?n[3]:n[2]:30<e?8<t?n[1]:6<t?n[0]:4<t?t:n[2]:8<t?t:n[3]}function r(e,t,n,i,o,a){e&&G(b,e.toString(),{dur:t,scrollEasing:n,dir:i,overwrite:o,drag:a})}var s,l,c,u,d,h,m,p,f,g,y,v,b=D(this),w=b.data(B),x=w.opt,e=B+"_"+w.idx,k=D("#mCSB_"+w.idx),T=D("#mCSB_"+w.idx+"_container"),_=[D("#mCSB_"+w.idx+"_dragger_vertical"),D("#mCSB_"+w.idx+"_dragger_horizontal")],C=[],S=[],E=0,I="yx"===x.axis?"none":"all",A=[],M=T.find("iframe"),P=["touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,"touchmove."+e+" pointermove."+e+" MSPointerMove."+e,"touchend."+e+" pointerup."+e+" MSPointerUp."+e],L=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;T.bind(P[0],function(e){t(e)}).bind(P[1],function(e){n(e)}),k.bind(P[0],function(e){i(e)}).bind(P[2],function(e){o(e)}),M.length&&M.each(function(){D(this).bind("load",function(){F(this)&&D(this.contentDocument||this.contentWindow.document).bind(P[0],function(e){t(e),i(e)}).bind(P[1],function(e){n(e)}).bind(P[2],function(e){o(e)})})})},M=function(){function i(e,t,n){l.type=n&&o?"stepped":"stepless",l.scrollAmount=10,$(a,e,t,"mcsLinearOut",n?60:null)}var o,a=D(this),r=a.data(B),s=r.opt,l=r.sequential,e=B+"_"+r.idx,c=D("#mCSB_"+r.idx+"_container"),u=c.parent();c.bind("mousedown."+e,function(){O||o||(o=1,N=!0)}).add(document).bind("mousemove."+e,function(e){var t,n;!O&&o&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)&&(n=c.offset(),t=R(e)[0]-n.top+c[0].offsetTop,n=R(e)[1]-n.left+c[0].offsetLeft,0<t&&t<u.height()&&0<n&&n<u.width()?l.step&&i("off",null,"stepped"):("x"!==s.axis&&r.overflowed[0]&&(t<0?i("on",38):t>u.height()&&i("on",40)),"y"!==s.axis&&r.overflowed[1]&&(n<0?i("on",37):n>u.width()&&i("on",39))))}).bind("mouseup."+e+" dragend."+e,function(){O||(o&&(o=0,i("off",null)),N=!1)})},P=function(){function n(e,t){var n,i,o,a,r,s,l,c;X(u),z(u,e.target)||(n="auto"!==h.mouseWheel.deltaFactor?parseInt(h.mouseWheel.deltaFactor):!(f&&e.deltaFactor<100)&&e.deltaFactor||100,i=h.scrollInertia,t="x"===h.axis||"x"===h.mouseWheel.axis?(o="x",a=[Math.round(n*d.scrollRatio.x),parseInt(h.mouseWheel.scrollAmount)],r="auto"!==h.mouseWheel.scrollAmount?a[1]:a[0]>=m.width()?.9*m.width():a[0],s=Math.abs(D("#mCSB_"+d.idx+"_container")[0].offsetLeft),l=p[1][0].offsetLeft,c=p[1].parent().width()-p[1].width(),"y"===h.mouseWheel.axis?e.deltaY||t:e.deltaX):(o="y",a=[Math.round(n*d.scrollRatio.y),parseInt(h.mouseWheel.scrollAmount)],r="auto"!==h.mouseWheel.scrollAmount?a[1]:a[0]>=m.height()?.9*m.height():a[0],s=Math.abs(D("#mCSB_"+d.idx+"_container")[0].offsetTop),l=p[0][0].offsetTop,c=p[0].parent().height()-p[0].height(),e.deltaY||t),"y"===o&&!d.overflowed[0]||"x"===o&&!d.overflowed[1]||((h.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(t=-t),h.mouseWheel.normalizeDelta&&(t=t<0?-1:1),(0<t&&0!==l||t<0&&l!==c||h.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!h.mouseWheel.normalizeDelta&&(r=e.deltaFactor,i=17),G(u,(s-t*r).toString(),{dir:o,dur:i})))}var u,d,h,e,m,p,t;D(this).data(B)&&(u=D(this),d=u.data(B),h=d.opt,e=B+"_"+d.idx,m=D("#mCSB_"+d.idx),p=[D("#mCSB_"+d.idx+"_dragger_vertical"),D("#mCSB_"+d.idx+"_dragger_horizontal")],(t=D("#mCSB_"+d.idx+"_container").find("iframe")).length&&t.each(function(){D(this).bind("load",function(){F(this)&&D(this.contentDocument||this.contentWindow.document).bind("mousewheel."+e,function(e,t){n(e,t)})})}),m.bind("mousewheel."+e,function(e,t){n(e,t)}))},L=new Object,F=function(e){var t=!1,n=!1,i=null;if(void 0===e?n="#empty":void 0!==D(e).attr("id")&&(n=D(e).attr("id")),!1!==n&&void 0!==L[n])return L[n];if(e){try{i=(e.contentDocument||e.contentWindow.document).body.innerHTML}catch(e){}t=null!==i}else{try{i=top.document.body.innerHTML}catch(e){}t=null!==i}return!1!==n&&(L[n]=t),t},H=function(e){var t=this.find("iframe");t.length&&(e=e?"auto":"none",t.css("pointer-events",e))},z=function(e,t){var n=t.nodeName.toLowerCase(),e=e.data(B).opt.mouseWheel.disableOver;return-1<D.inArray(n,e)&&!(-1<D.inArray(n,["select","textarea"])&&!D(t).is(":focus"))},U=function(){var r,s=D(this),l=s.data(B),e=B+"_"+l.idx,c=D("#mCSB_"+l.idx+"_container"),u=c.parent();D(".mCSB_"+l.idx+"_scrollbar ."+g[12]).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e,function(e){N=!0,D(e.target).hasClass("mCSB_dragger")||(r=1)}).bind("touchend."+e+" pointerup."+e+" MSPointerUp."+e,function(){N=!1}).bind("click."+e,function(e){if(r&&(r=0,D(e.target).hasClass(g[12])||D(e.target).hasClass("mCSB_draggerRail"))){X(s);var t=D(this),n=t.find(".mCSB_dragger");if(0<t.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var i="x",o=e.pageX>n.offset().left?-1:1,a=Math.abs(c[0].offsetLeft)-o*(.9*u.width())}else{if(!l.overflowed[0])return;i="y",o=e.pageY>n.offset().top?-1:1,a=Math.abs(c[0].offsetTop)-o*(.9*u.height())}G(s,a.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}})},j=function(){var o=D(this),e=o.data(B),a=e.opt,t=B+"_"+e.idx,r=D("#mCSB_"+e.idx+"_container"),s=r.parent();r.bind("focusin."+t,function(){var i=D(document.activeElement),e=r.find(".mCustomScrollBox").length;i.is(a.advanced.autoScrollOnFocus)&&(X(o),clearTimeout(o[0]._focusTimeout),o[0]._focusTimer=e?17*e:0,o[0]._focusTimeout=setTimeout(function(){var e=[oe(i)[0],oe(i)[1]],t=[0<=(n=[r[0].offsetTop,r[0].offsetLeft])[0]+e[0]&&n[0]+e[0]<s.height()-i.outerHeight(!1),0<=n[1]+e[1]&&n[0]+e[1]<s.width()-i.outerWidth(!1)],n="yx"!==a.axis||t[0]||t[1]?"all":"none";"x"===a.axis||t[0]||G(o,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0}),"y"===a.axis||t[1]||G(o,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:n,dur:0})},o[0]._focusTimer))})},q=function(){var e=D(this).data(B),t=B+"_"+e.idx,n=D("#mCSB_"+e.idx+"_container").parent();n.bind("scroll."+t,function(){0===n.scrollTop()&&0===n.scrollLeft()||D(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")})},W=function(){var i=D(this),o=i.data(B),a=o.opt,r=o.sequential,e=B+"_"+o.idx,t=".mCSB_"+o.idx+"_scrollbar";D(t+">a").bind("contextmenu."+e,function(e){e.preventDefault()}).bind("mousedown."+e+" touchstart."+e+" pointerdown."+e+" MSPointerDown."+e+" mouseup."+e+" touchend."+e+" pointerup."+e+" MSPointerUp."+e+" mouseout."+e+" pointerout."+e+" MSPointerOut."+e+" click."+e,function(e){function t(e,t){r.scrollAmount=a.scrollButtons.scrollAmount,$(i,e,t)}if(e.preventDefault(),te(e)){var n=D(this).attr("class");switch(r.type=a.scrollButtons.scrollType,e.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;N=!0,o.tweenRunning=!1,t("on",n);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;N=!1,r.dir&&t("off",n);break;case"click":if("stepped"!==r.type||o.tweenRunning)return;t("on",n)}}})},V=function(){function t(e){function t(e,t){c.type=l.keyboard.scrollType,c.scrollAmount=l.keyboard.scrollAmount,"stepped"===c.type&&s.tweenRunning||$(r,e,t)}switch(e.type){case"blur":s.tweenRunning&&c.dir&&t("off",null);break;case"keydown":case"keyup":var n,i,o=e.keyCode||e.which,a="on";if("x"!==l.axis&&(38===o||40===o)||"y"!==l.axis&&(37===o||39===o)){if((38===o||40===o)&&!s.overflowed[0]||(37===o||39===o)&&!s.overflowed[1])return;"keyup"===e.type&&(a="off"),D(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),t(a,o))}else 33===o||34===o?((s.overflowed[0]||s.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type&&(X(r),i=34===o?-1:1,i="x"===l.axis||"yx"===l.axis&&s.overflowed[1]&&!s.overflowed[0]?(n="x",Math.abs(u[0].offsetLeft)-i*(.9*d.width())):(n="y",Math.abs(u[0].offsetTop)-i*(.9*d.height())),G(r,i.toString(),{dir:n,scrollEasing:"mcsEaseInOut"}))):35!==o&&36!==o||D(document.activeElement).is(h)||((s.overflowed[0]||s.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"!==e.type)||(i="x"===l.axis||"yx"===l.axis&&s.overflowed[1]&&!s.overflowed[0]?(n="x",35===o?Math.abs(d.width()-u.outerWidth(!1)):0):(n="y",35===o?Math.abs(d.height()-u.outerHeight(!1)):0),G(r,i.toString(),{dir:n,scrollEasing:"mcsEaseInOut"}))}}var r=D(this),s=r.data(B),l=s.opt,c=s.sequential,e=B+"_"+s.idx,n=D("#mCSB_"+s.idx),u=D("#mCSB_"+s.idx+"_container"),d=u.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",i=u.find("iframe"),o=["blur."+e+" keydown."+e+" keyup."+e];i.length&&i.each(function(){D(this).bind("load",function(){F(this)&&D(this.contentDocument||this.contentWindow.document).bind(o[0],function(e){t(e)})})}),n.attr("tabindex","0").bind(o[0],function(e){t(e)})},$=function(r,e,t,s,l){function c(e){d.snapAmount&&(h.scrollAmount=d.snapAmount instanceof Array?"x"===h.dir[0]?d.snapAmount[1]:d.snapAmount[0]:d.snapAmount);var t="stepped"!==h.type,n=l||(e?t?p/1.5:f:1e3/60),i=e?t?7.5:40:2.5,o=[Math.abs(m[0].offsetTop),Math.abs(m[0].offsetLeft)],a=[10<u.scrollRatio.y?10:u.scrollRatio.y,10<u.scrollRatio.x?10:u.scrollRatio.x],a="x"===h.dir[0]?o[1]+h.dir[1]*(a[1]*i):o[0]+h.dir[1]*(a[0]*i),i="x"===h.dir[0]?o[1]+h.dir[1]*parseInt(h.scrollAmount):o[0]+h.dir[1]*parseInt(h.scrollAmount),i="auto"!==h.scrollAmount?i:a,a=s||(e?t?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),t=!!e;return e&&n<17&&(i="x"===h.dir[0]?o[1]:o[0]),G(r,i.toString(),{dir:h.dir[0],scrollEasing:a,dur:n,onComplete:t}),e?void(h.dir=!1):(clearTimeout(h.step),void(h.step=setTimeout(function(){c()},n)))}var u=r.data(B),d=u.opt,h=u.sequential,m=D("#mCSB_"+u.idx+"_container"),n="stepped"===h.type,p=d.scrollInertia<26?26:d.scrollInertia,f=d.scrollInertia<1?17:d.scrollInertia;switch(e){case"on":if(h.dir=[t===g[16]||t===g[15]||39===t||37===t?"x":"y",t===g[13]||t===g[15]||38===t||37===t?-1:1],X(r),ie(t)&&"stepped"===h.type)return;c(n);break;case"off":clearTimeout(h.step),ee(h,"step"),X(r),(n||u.tweenRunning&&h.dir)&&c(!0)}},Z=function(e){var t=D(this).data(B).opt,n=[];return"function"==typeof e&&(e=e()),e instanceof Array?n=1<e.length?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null]:(n[0]=e.y||(e.x||"x"===t.axis?null:e),n[1]=e.x||(e.y||"y"===t.axis?null:e)),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},K=function(e,t){if(null!=e&&void 0!==e){var n=D(this),i=(r=n.data(B)).opt,o=D("#mCSB_"+r.idx+"_container"),a=o.parent(),r=typeof e,s="x"===(t=t||("x"===i.axis?"x":"y"))?o.outerWidth(!1)-a.width():o.outerHeight(!1)-a.height(),l="x"===t?o[0].offsetLeft:o[0].offsetTop,c="x"===t?"left":"top";switch(r){case"function":return e();case"object":return(d=e.jquery?e:D(e)).length?"x"===t?oe(d)[1]:oe(d)[0]:void 0;case"string":case"number":if(ie(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(s*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(l-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var u=l+parseInt(e.split("+=")[1]);return 0<=u?0:Math.abs(u)}if(-1!==e.indexOf("px")&&ie(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(a.height()-o.outerHeight(!1));if("right"===e)return Math.abs(a.width()-o.outerWidth(!1));if("first"!==e&&"last"!==e)return D(e).length?"x"===t?oe(D(e))[1]:oe(D(e))[0]:(o.css(c,e),void h.update.call(null,n[0]));var d=o.find(":"+e);return"x"===t?oe(d)[1]:oe(d)[0]}}},Y=function(e){function i(e){clearTimeout(a[0].autoUpdate),h.update.call(null,t[0],e)}var t=D(this),n=t.data(B),o=n.opt,a=D("#mCSB_"+n.idx+"_container");return e?(clearTimeout(a[0].autoUpdate),void ee(a[0],"autoUpdate")):void function e(){return clearTimeout(a[0].autoUpdate),0===t.parents("html").length?void(t=null):void(a[0].autoUpdate=setTimeout(function(){return o.advanced.updateOnSelectorChange&&(n.poll.change.n=function(){!0===o.advanced.updateOnSelectorChange&&(o.advanced.updateOnSelectorChange="*");var e=0,t=a.find(o.advanced.updateOnSelectorChange);return o.advanced.updateOnSelectorChange&&0<t.length&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}(),n.poll.change.n!==n.poll.change.o)?(n.poll.change.o=n.poll.change.n,void i(3)):o.advanced.updateOnContentResize&&(n.poll.size.n=t[0].scrollHeight+t[0].scrollWidth+a[0].offsetHeight+t[0].offsetHeight+t[0].offsetWidth,n.poll.size.n!==n.poll.size.o)?(n.poll.size.o=n.poll.size.n,void i(1)):!o.advanced.updateOnImageLoad||"auto"===o.advanced.updateOnImageLoad&&"y"===o.axis||(n.poll.img.n=a.find("img").length,n.poll.img.n===n.poll.img.o)?void((o.advanced.updateOnSelectorChange||o.advanced.updateOnContentResize||o.advanced.updateOnImageLoad)&&e()):(n.poll.img.o=n.poll.img.n,void a.find("img").each(function(){!function(e){if(D(e).hasClass(g[2]))return i(),0;var t,n=new Image;n.onload=(t=n,function(){return function(){this.onload=null,D(e).addClass(g[2]),i(2)}.apply(t,arguments)}),n.src=e.src}(this)}))},o.advanced.autoUpdateTimeout))}()},X=function(e){e=e.data(B),D("#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal").each(function(){t.call(this)})},G=function(o,e,a){function t(e){return r&&s.callbacks[e]&&"function"==typeof s.callbacks[e]}function n(){var e=[d[0].offsetTop,d[0].offsetLeft],t=[f[0].offsetTop,f[0].offsetLeft],n=[d.outerHeight(!1),d.outerWidth(!1)],i=[u.height(),u.width()];o[0].mcs={content:d,top:e[0],left:e[1],draggerTop:t[0],draggerLeft:t[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-i[1])),direction:a.dir}}var i,r=o.data(B),s=r.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:s.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},c=[(a=D.extend(l,a)).dur,a.drag?0:a.dur],u=D("#mCSB_"+r.idx),d=D("#mCSB_"+r.idx+"_container"),h=d.parent(),m=s.callbacks.onTotalScrollOffset?Z.call(o,s.callbacks.onTotalScrollOffset):[0,0],p=s.callbacks.onTotalScrollBackOffset?Z.call(o,s.callbacks.onTotalScrollBackOffset):[0,0];if(r.trigger=a.trigger,0===h.scrollTop()&&0===h.scrollLeft()||(D(".mCSB_"+r.idx+"_scrollbar").css("visibility","visible"),h.scrollTop(0).scrollLeft(0)),"_resetY"!==e||r.contentReset.y||(t("onOverflowYNone")&&s.callbacks.onOverflowYNone.call(o[0]),r.contentReset.y=1),"_resetX"!==e||r.contentReset.x||(t("onOverflowXNone")&&s.callbacks.onOverflowXNone.call(o[0]),r.contentReset.x=1),"_resetY"!==e&&"_resetX"!==e){switch(!r.contentReset.y&&o[0].mcs||!r.overflowed[0]||(t("onOverflowY")&&s.callbacks.onOverflowY.call(o[0]),r.contentReset.x=null),!r.contentReset.x&&o[0].mcs||!r.overflowed[1]||(t("onOverflowX")&&s.callbacks.onOverflowX.call(o[0]),r.contentReset.x=null),s.snapAmount&&(l=e,h=s.snapAmount instanceof Array?"x"===a.dir?s.snapAmount[1]:s.snapAmount[0]:s.snapAmount,i=s.snapOffset,e=Math.round(l/h)*h-i),a.dir){case"x":var f=D("#mCSB_"+r.idx+"_dragger_horizontal"),g="left",y=d[0].offsetLeft,v=[u.width()-d.outerWidth(!1),f.parent().width()-f.width()],b=[e,0===e?0:e/r.scrollRatio.x],w=m[1],x=p[1],k=0<w?w/r.scrollRatio.x:0,T=0<x?x/r.scrollRatio.x:0;break;case"y":f=D("#mCSB_"+r.idx+"_dragger_vertical"),g="top",y=d[0].offsetTop,v=[u.height()-d.outerHeight(!1),f.parent().height()-f.height()],b=[e,0===e?0:e/r.scrollRatio.y],w=m[0],x=p[0],k=0<w?w/r.scrollRatio.y:0,T=0<x?x/r.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=v[1]?b=[v[0],v[1]]:b[0]=-b[0],o[0].mcs||(n(),t("onInit")&&s.callbacks.onInit.call(o[0])),clearTimeout(d[0].onCompleteTimeout),Q(f[0],g,Math.round(b[1]),c[1],a.scrollEasing),!r.tweenRunning&&(0===y&&0<=b[0]||y===v[0]&&b[0]<=v[0])||Q(d[0],g,Math.round(b[0]),c[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!r.tweenRunning&&(t("onScrollStart")&&(n(),s.callbacks.onScrollStart.call(o[0])),r.tweenRunning=!0,_(f),r.cbOffsets=[s.callbacks.alwaysTriggerOffsets||y>=v[0]+w,s.callbacks.alwaysTriggerOffsets||y<=-x])},onUpdate:function(){a.callbacks&&a.onUpdate&&t("whileScrolling")&&(n(),s.callbacks.whileScrolling.call(o[0]))},onComplete:function(){var e;a.callbacks&&a.onComplete&&("yx"===s.axis&&clearTimeout(d[0].onCompleteTimeout),e=d[0].idleTimer||0,d[0].onCompleteTimeout=setTimeout(function(){t("onScroll")&&(n(),s.callbacks.onScroll.call(o[0])),t("onTotalScroll")&&b[1]>=v[1]-k&&r.cbOffsets[0]&&(n(),s.callbacks.onTotalScroll.call(o[0])),t("onTotalScrollBack")&&b[1]<=T&&r.cbOffsets[1]&&(n(),s.callbacks.onTotalScrollBack.call(o[0])),r.tweenRunning=!1,d[0].idleTimer=0,_(f,"hide")},e))}})}},Q=function(e,t,n,i,r,o,a){function s(){0<i?(y.currVal=function(e,t,n,i){switch(r){case"linear":case"mcsLinear":return n*e/i+t;case"mcsLinearOut":return e/=i,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=i,-n*(--e*e*e*e-1)+t;case"easeOutStrong":return n*(1-Math.pow(2,-10*e/i))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=i)*e,a=o*e;return t+n*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*e)}}(y.time,f,v,i),g[t]=Math.round(y.currVal)+"px"):g[t]=n+"px",d.call()}e._mTween||(e._mTween={top:{},left:{}});var l,c,u=(a=a||{}).onStart||function(){},d=a.onUpdate||function(){},h=a.onComplete||function(){},m=J(),p=0,f=e.offsetTop,g=e.style,y=e._mTween[t];"left"===t&&(f=e.offsetLeft);var v=n-f;y.stop=0,"none"===o||null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null),l=1e3/60,y.time=p+l,c=window.requestAnimationFrame||function(e){return s(),setTimeout(e,.01)},y.id=c(function e(){y.stop||(p||u.call(),p=J()-m,s(),p>=y.time&&(y.time=p>y.time?p+l-(p-y.time):p+l-1,y.time<p+1&&(y.time=p+1)),y.time<i?y.id=c(e):h.call())})},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},t=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var i=t[n];e._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},ee=function(t,n){try{delete t[n]}catch(e){t[n]=null}},te=function(e){return!(e.which&&1!==e.which)},ne=function(e){return!((e=e.originalEvent.pointerType)&&"touch"!==e&&2!==e)},ie=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ae=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]},D.fn[l]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void D.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},D[l]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void D.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},D[l].defaults=o,window[l]=!0,D(window).bind("load",function(){D(i)[l](),D.extend(D.expr[":"],{mcsInView:D.expr[":"].mcsInView||function(e){var t=D(e),n=t.parents(".mCSB_container");if(n.length)return e=n.parent(),0<=(n=[n[0].offsetTop,n[0].offsetLeft])[0]+oe(t)[0]&&n[0]+oe(t)[0]<e.height()-t.outerHeight(!1)&&0<=n[1]+oe(t)[1]&&n[1]+oe(t)[1]<e.width()-t.outerWidth(!1)},mcsInSight:D.expr[":"].mcsInSight||function(e,t,n){var i=D(e),o=i.parents(".mCSB_container"),e="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(o.length)return n=[i.outerHeight(!1),i.outerWidth(!1)],i=[o[0].offsetTop+oe(i)[0],o[0].offsetLeft+oe(i)[1]],o=[o.parent()[0].offsetHeight,o.parent()[0].offsetWidth],i[0]-o[0]*(e=[n[0]<o[0]?e[0]:e[1],n[1]<o[1]?e[0]:e[1]])[0][0]<0&&0<=i[0]+n[0]-o[0]*e[0][1]&&i[1]-o[1]*e[1][0]<0&&0<=i[1]+n[1]-o[1]*e[1][1]},mcsOverflow:D.expr[":"].mcsOverflow||function(e){if(e=D(e).data(B))return e.overflowed[0]||e.overflowed[1]}})})}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(i,s){function e(e){if(I)return!0;e=e||window.event,E.timeToIdle&&E.mouseUsed&&!x&&d();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<F.length;o++)(t=F[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),I=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){I=!1},e))}function t(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)}function n(){var e=1===E.getNumItemsFn();e!==S&&(t(p,"ui--one-slide",e),S=e)}function o(){t(b,"share-modal--hidden",O)}function a(){return(O=!O)?(s.removeClass(b,"pswp__share-modal--fade-in"),setTimeout(function(){O&&o()},300)):(o(),setTimeout(function(){O||s.addClass(b,"pswp__share-modal--fade-in")},30)),O||N(),0}function r(e){var t=(e=e||window.event).target||e.srcElement;return i.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||a(),1))}function l(e){for(var t=0;t<E.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+E.closeElClasses[t]))return!0}function c(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(M),M=setTimeout(function(){P.setIdle(!0)},E.timeToIdleOutside))}function u(e){var t,n=e.vGap;!i.likelyTouchDevice||E.mouseUsed||screen.width>E.fitControlsWidth?(t=E.barsSize,E.captionEl&&"auto"===t.bottom?(g||((g=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),p.insertBefore(g,f),s.addClass(p,"pswp__ui--fit")),E.addCaptionHTMLFn(e,g,!0)?(e=g.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function d(){clearTimeout(M),R=0,x&&P.setIdle(!1)}function h(e){_!==e&&(t(T,"preloader--active",!e),_=e)}var m,p,f,g,y,v,b,w,x,k,T,_,C,S,E,I,A,M,P=this,L=!1,D=!0,O=!0,B={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return i.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return i.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},N=function(){for(var e,t,n,i,o="",a=0;a<E.shareButtons.length;a++)e=E.shareButtons[a],t=E.getImageURLForShare(e),n=E.getPageURLForShare(e),i=E.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",E.parseShareButtonOut&&(o=E.parseShareButtonOut(e,o));b.children[0].innerHTML=o,b.children[0].onclick=r},R=0,F=[{name:"caption",option:"captionEl",onInit:function(e){f=e}},{name:"share-modal",option:"shareEl",onInit:function(e){b=e},onTap:function(){a()}},{name:"button--share",option:"shareEl",onInit:function(e){v=e},onTap:function(){a()}},{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){y=e}},{name:"button--close",option:"closeEl",onTap:i.close},{name:"button--arrow--left",option:"arrowEl",onTap:i.prev},{name:"button--arrow--right",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){m.isFullscreen()?m.exit():m.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){T=e}}];P.init=function(){var t;s.extend(i.options,B,!0),E=i.options,p=s.getChildByClass(i.scrollWrap,"pswp__ui"),(k=i.listen)("onVerticalDrag",function(e){D&&e<.95?P.hideControls():!D&&.95<=e&&P.showControls()}),k("onPinchClose",function(e){D&&e<.9?(P.hideControls(),t=!0):t&&!D&&.9<e&&P.showControls()}),k("zoomGestureEnded",function(){t=!1}),k("beforeChange",P.update),k("doubleTap",function(e){var t=i.currItem.initialZoomLevel;i.getZoomLevel()!==t?i.zoomTo(t,e,333):i.zoomTo(E.getDoubleTapZoom(!1,i.currItem),e,333)}),k("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),k("bindEvents",function(){s.bind(p,"pswpTap click",e),s.bind(i.scrollWrap,"pswpTap",P.onGlobalTap),i.likelyTouchDevice||s.bind(i.scrollWrap,"mouseover",P.onMouseOver)}),k("unbindEvents",function(){O||a(),A&&clearInterval(A),s.unbind(document,"mouseout",c),s.unbind(document,"mousemove",d),s.unbind(p,"pswpTap click",e),s.unbind(i.scrollWrap,"pswpTap",P.onGlobalTap),s.unbind(i.scrollWrap,"mouseover",P.onMouseOver),m&&(s.unbind(document,m.eventK,P.updateFullscreen),m.isFullscreen()&&(E.hideAnimationDuration=0,m.exit()),m=null)}),k("destroy",function(){E.captionEl&&(g&&p.removeChild(g),s.removeClass(f,"pswp__caption--empty")),b&&(b.children[0].onclick=null),s.removeClass(p,"pswp__ui--over-close"),s.addClass(p,"pswp__ui--hidden"),P.setIdle(!1)}),E.showAnimationDuration||s.removeClass(p,"pswp__ui--hidden"),k("initialZoomIn",function(){E.showAnimationDuration&&s.removeClass(p,"pswp__ui--hidden")}),k("initialZoomOut",function(){s.addClass(p,"pswp__ui--hidden")}),k("parseVerticalMargin",u),function(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],a=o.className;for(var i=0;i<F.length;i++)r=F[i],-1<a.indexOf("pswp__"+r.name)&&(E[r.option]?(s.removeClass(o,"pswp__element--disabled"),r.onInit&&r.onInit(o)):s.addClass(o,"pswp__element--disabled"))}}var o,a,r;e(p.children);var t=s.getChildByClass(p,"pswp__top-bar");t&&e(t.children)}(),E.shareEl&&v&&b&&(O=!0),n(),E.timeToIdle&&k("mouseUsed",function(){s.bind(document,"mousemove",d),s.bind(document,"mouseout",c),A=setInterval(function(){2==++R&&P.setIdle(!0)},E.timeToIdle/2)}),E.fullscreenEl&&!s.features.isOldAndroid&&((m=m||P.getFullscreenAPI())?(s.bind(document,m.eventK,P.updateFullscreen),P.updateFullscreen(),s.addClass(i.template,"pswp--supports-fs")):s.removeClass(i.template,"pswp--supports-fs")),E.preloaderEl&&(h(!0),k("beforeChange",function(){clearTimeout(C),C=setTimeout(function(){i.currItem&&i.currItem.loading?i.allowProgressiveImg()&&(!i.currItem.img||i.currItem.img.naturalWidth)||h(!1):h(!0)},E.loadingIndicatorDelay)}),k("imageLoadComplete",function(e,t){i.currItem===t&&h(!0)}))},P.setIdle=function(e){t(p,"ui--idle",x=e)},P.update=function(){L=!(!D||!i.currItem||(P.updateIndexIndicator(),E.captionEl&&(E.addCaptionHTMLFn(i.currItem,f),t(f,"caption--empty",!i.currItem.title)),0)),O||a(),n()},P.updateFullscreen=function(e){e&&setTimeout(function(){i.setScrollOffset(0,s.getScrollY())},50),s[(m.isFullscreen()?"add":"remove")+"Class"](i.template,"pswp--fs")},P.updateIndexIndicator=function(){E.counterEl&&(y.innerHTML=i.getCurrentIndex()+1+E.indexIndicatorSep+E.getNumItemsFn())},P.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!I)if(e.detail&&"mouse"===e.detail.pointerType)l(t)?i.close():s.hasClass(t,"pswp__img")&&(1===i.getZoomLevel()&&i.getZoomLevel()<=i.currItem.fitRatio?E.clickToCloseNonZoomable&&i.close():i.toggleDesktopZoom(e.detail.releasePoint));else if(E.tapToToggleControls&&(D?P.hideControls():P.showControls()),E.tapToClose&&(s.hasClass(t,"pswp__img")||l(t)))return void i.close()},P.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement,t(p,"ui--over-close",l(e))},P.hideControls=function(){s.addClass(p,"pswp__ui--hidden"),D=!1},P.showControls=function(){D=!0,L||P.update(),s.removeClass(p,"pswp__ui--hidden")},P.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},P.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return w=E.closeOnScroll,E.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?i.template[this.enterK]():void i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return E.closeOnScroll=w,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(m,n,e,t){var p={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){return t=document.createElement(t||"div"),e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){p.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)"),e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){p.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(p.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(p.features)return p.features;var e,t,n=p.createEl().style,i="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,o.pointerEvent||(e=navigator.userAgent,!/iP(hone|od)/.test(navigator.platform)||(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(o.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(o.isOldAndroid=!0),o.androidVersion=t),o.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var a,r,s,l=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],u=0;u<4;u++){i=c[u];for(var d=0;d<3;d++)a=l[d],r=i+(i?a.charAt(0).toUpperCase()+a.slice(1):a),!o[a]&&r in n&&(o[a]=r);i&&!o.raf&&(i=i.toLowerCase(),o.raf=window[i+"RequestAnimationFrame"],o.raf&&(o.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}return o.raf||(s=0,o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=window.setTimeout(function(){e(t+n)},n);return s=t+n,i},o.caf=function(e){clearTimeout(e)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p.features=o}};p.detectFeatures(),p.features.oldIE&&(p.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var f=this,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};function i(){return{x:0,y:0}}function o(e,t){p.extend(f,t.publicMethods),Ge.push(e)}function r(e){var t=$t();return t-1<e?e-t:e<0?t+e:e}function a(e,t){return et[e]||(et[e]=[]),et[e].push(t)}function y(e){var t=et[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(f,n)}}function u(){return(new Date).getTime()}function v(e){He=e,f.bg.style.opacity=e*g.bgOpacity}function s(e,t,n,i,o){(!Je||o&&o!==f.currItem)&&(i/=(o||f.currItem).fitRatio),e[se]=G+t+"px, "+n+"px"+Q+" scale("+i+")"}function d(e,t){var n;!g.loop&&t&&(n=q+(Ke.x*$e-e)/Ke.x,t=Math.round(e-wt.x),(n<0&&0<t||n>=$t()-1&&t<0)&&(e=wt.x+t*g.mainScrollEndFriction)),wt.x=e,it(e,W)}function l(e,t){var n=xt[e]-Ze[e];return qe[e]+je[e]+n-t/X*n}function b(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)}function c(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function h(e,t){return e=Gt(f.currItem,Ve,e),t&&(De=e),e}function w(e){return(e=e||f.currItem).initialZoomLevel}function x(e){return 0<(e=e||f.currItem).w?g.maxSpreadZoom:1}function k(e,t,n,i){return i===f.currItem.initialZoomLevel?(n[e]=f.currItem.initialPosition[e],1):(n[e]=l(e,i),n[e]>t.min[e]?(n[e]=t.min[e],1):n[e]<t.max[e]&&(n[e]=t.max[e],1))}function T(e){var t="";g.escKey&&27===e.keyCode?t="close":g.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]()))}function _(e){e&&(Ee||Se||Be||ke)&&(e.preventDefault(),e.stopPropagation())}function C(){f.setScrollOffset(0,p.getScrollY())}function S(e){rt[e]&&(rt[e].raf&&de(rt[e].raf),st--,delete rt[e])}function E(e){rt[e]&&S(e),rt[e]||(st++,rt[e]={})}function I(){for(var e in rt)rt.hasOwnProperty(e)&&S(e)}function A(e,t,n,i,o,a,r){var s,l=u();E(e);var c=function(){if(rt[e]){if(s=u()-l,i<=s)return S(e),a(n),void(r&&r());a((n-t)*o(s/i)+t),rt[e].raf=ue(c)}};c()}function M(e,t){return gt.x=Math.abs(e.x-t.x),gt.y=Math.abs(e.y-t.y),Math.sqrt(gt.x*gt.x+gt.y*gt.y)}function P(e,t){return St.prevent=!Ct(e.target,g.isClickableElement),y("preventDragEvent",e,t,St),St.prevent}function L(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t}function D(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)}function O(){var e=We.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(Ve.y/2))}function B(e){for(;0<At.length;)At.pop();return le?(Ue=0,mt.forEach(function(e){0===Ue?At[0]=e:1===Ue&&(At[1]=e),Ue++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(At[0]=L(e.touches[0],Et),1<e.touches.length&&(At[1]=L(e.touches[1],It))):(Et.x=e.pageX,Et.y=e.pageY,Et.id="",At[0]=Et),At}function N(e,t){var n,i,o,a=We[e]+t[e],r=0<t[e],s=wt.x+t.x,l=wt.x-pt.x,c=a>De.min[e]||a<De.max[e]?g.panEndFriction:1,a=We[e]+t[e]*c;return!g.allowPanToNext&&Y!==f.currItem.initialZoomLevel||(Oe?"h"!==Ne||"x"!==e||Se||(r?(a>De.min[e]&&(c=g.panEndFriction,De.min[e],n=De.min[e]-qe[e]),(n<=0||l<0)&&1<$t()?(o=s,l<0&&s>pt.x&&(o=pt.x)):De.min.x!==De.max.x&&(i=a)):(a<De.max[e]&&(c=g.panEndFriction,De.max[e],n=qe[e]-De.max[e]),(n<=0||0<l)&&1<$t()?(o=s,0<l&&s<pt.x&&(o=pt.x)):De.min.x!==De.max.x&&(i=a))):o=s,"x"!==e)?void(Be||Ae||Y>f.currItem.fitRatio&&(We[e]+=t[e]*c)):(void 0!==o&&(d(o,!0),Ae=o!==pt.x),De.min.x!==De.max.x&&(void 0!==i?We.x=i:Ae||(We.x+=t.x*c)),void 0!==o)}function R(e){var t;"mousedown"===e.type&&0<e.button||(Wt?e.preventDefault():Te&&"mousedown"===e.type||(P(e,!0)&&e.preventDefault(),y("pointerDown"),le&&((t=p.arraySearch(mt,e.pointerId,"id"))<0&&(t=mt.length),mt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=B(e)).length,Me=null,I(),_e&&1!==e||(_e=Re=!0,p.bind(window,$,f),xe=ze=Fe=ke=Ae=Ee=Ce=Se=!1,Ne=null,y("firstTouchStart",t),b(qe,We),je.x=je.y=0,b(dt,t[0]),b(ht,dt),pt.x=Ke.x*$e,ft=[{x:dt.x,y:dt.y}],be=ve=u(),h(Y,!0),Tt(),_t()),!Pe&&1<e&&!Be&&!Ae&&(X=Y,Pe=Ce=!(Se=!1),je.y=je.x=0,b(qe,We),b(lt,t[0]),b(ct,t[1]),D(lt,ct,kt),xt.x=Math.abs(kt.x)-We.x,xt.y=Math.abs(kt.y)-We.y,Le=M(lt,ct))))}function F(e){var t,n;e.preventDefault(),le&&-1<(t=p.arraySearch(mt,e.pointerId,"id"))&&((n=mt[t]).x=e.pageX,n.y=e.pageY),_e&&(n=B(e),Ne||Ee||Pe?Me=n:wt.x!==Ke.x*$e?Ne="h":(e=Math.abs(n[0].x-dt.x)-Math.abs(n[0].y-dt.y),10<=Math.abs(e)&&(Ne=0<e?"h":"v",Me=n)))}function H(e){if(ge.isOldAndroid){if(Te&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Te),Te=setTimeout(function(){Te=0},600))}y("pointerUp"),P(e,!1)&&e.preventDefault(),!le||-1<(n=p.arraySearch(mt,e.pointerId,"id"))&&(a=mt.splice(n,1)[0],navigator.pointerEnabled?a.type=e.pointerType||"mouse":(a.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],a.type||(a.type=e.pointerType||"mouse")));var t=B(e),n=t.length;if("mouseup"===e.type&&(n=0),2===n)return!(Me=null);1===n&&b(ht,t[0]),0!==n||Ne||Be||(a||("mouseup"===e.type?a={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(a={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),y("touchRelease",e,a));var i,o,a=-1;if(0===n&&(_e=!1,p.unbind(window,$,f),Tt(),Pe?a=0:-1!==bt&&(a=u()-bt)),bt=1===n?u():-1,a=-1!==a&&a<150?"zoom":"swipe",Pe&&n<2&&(Pe=!1,1===n&&(a="zoomPointerUp"),y("zoomGestureEnded")),Me=null,Ee||Se||Be||ke)if(I(),(we=we||Pt()).calculateSwipeSpeed("x"),ke)O()<g.verticalDragRange?f.close():(i=We.y,o=He,A("verticalDrag",0,1,300,p.easing.cubic.out,function(e){We.y=(f.currItem.initialPosition.y-i)*e+i,v((1-o)*e+o),tt()}),y("onVerticalDrag",1));else{if((Ae||Be)&&0===n){if(Dt(a,we))return;a="zoomPointerUp"}if(!Be)return"swipe"!==a?void Bt():void(!Ae&&Y>f.currItem.fitRatio&&Lt(we))}}p.extend(g,t);var z,U,j,q,W,V,$,Z,K,Y,X,G,Q,J,ee,te,ne,ie,oe,ae,re,se,le,ce,ue,de,he,me,pe,fe,ge,ye,ve,be,we,xe,ke,Te,_e,Ce,Se,Ee,Ie,Ae,Me,Pe,Le,De,Oe,Be,Ne,Re,Fe,He,ze,Ue,je=i(),qe=i(),We=i(),Ve={},$e=0,Ze={},Ke=i(),Ye=0,Xe=!0,Ge=[],Qe={},Je=!1,et={},tt=function(e){Oe&&(e&&(Y>f.currItem.fitRatio?Je||(Qt(f.currItem,!1,!0),Je=!0):Je&&(Qt(f.currItem),Je=!1)),s(Oe,We.x,We.y,Y))},nt=function(e){e.container&&s(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},it=function(e,t){t[se]=G+e+"px, 0px"+Q},ot=null,at=function(){ot&&(p.unbind(document,"mousemove",at),p.addClass(m,"pswp--has_mouse"),g.mouseUsed=!0,y("mouseUsed")),ot=setTimeout(function(){ot=null},100)},rt={},st=0,t={shout:y,listen:a,viewportSize:Ve,options:g,isMainScrollAnimating:function(){return Be},getZoomLevel:function(){return Y},getCurrentIndex:function(){return q},isDragging:function(){return _e},isZooming:function(){return Pe},setScrollOffset:function(e,t){Ze.x=e,fe=Ze.y=t,y("updateScrollOffset",Ze)},applyZoomPan:function(e,t,n,i){We.x=t,We.y=n,Y=e,tt(i)},init:function(){if(!z&&!U){var e;f.framework=p,f.template=m,f.bg=p.getChildByClass(m,"pswp__bg"),he=m.className,z=!0,ge=p.detectFeatures(),ue=ge.raf,de=ge.caf,se=ge.transform,pe=ge.oldIE,f.scrollWrap=p.getChildByClass(m,"pswp__scroll-wrap"),f.container=p.getChildByClass(f.scrollWrap,"pswp__container"),W=f.container.style,f.itemHolders=te=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],te[0].el.style.display=te[2].el.style.display="none",function(){if(se){var e=ge.perspective&&!ce;return G="translate"+(e?"3d(":"("),Q=ge.perspective?", 0px)":")"}se="left",p.addClass(m,"pswp--ie"),it=function(e,t){t.left=e+"px"},nt=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,t=t*e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},tt=function(){var e,t,n,i;Oe&&(e=Oe,n=(t=1<(i=f.currItem).fitRatio?1:i.fitRatio)*i.w,i=t*i.h,e.width=n+"px",e.height=i+"px",e.left=We.x+"px",e.top=We.y+"px")}}(),K={resize:f.updateSize,orientationchange:function(){clearTimeout(ye),ye=setTimeout(function(){Ve.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:C,keydown:T,click:_};var t=ge.isOldIOSPhone||ge.isOldAndroid||ge.isMobileOpera;for(ge.animationName&&ge.transform&&!t||(g.showAnimationDuration=g.hideAnimationDuration=0),e=0;e<Ge.length;e++)f["init"+Ge[e]]();for(n&&(f.ui=new n(f,p)).init(),y("firstUpdate"),q=q||g.index||0,(isNaN(q)||q<0||q>=$t())&&(q=0),f.currItem=Vt(q),(ge.isOldIOSPhone||ge.isOldAndroid)&&(Xe=!1),m.setAttribute("aria-hidden","false"),g.modal&&(Xe?m.style.position="fixed":(m.style.position="absolute",m.style.top=p.getScrollY()+"px")),void 0===fe&&(y("initialLayout"),fe=me=p.getScrollY()),t="pswp--open ",g.mainClass&&(t+=g.mainClass+" "),g.showHideOpacity&&(t+="pswp--animate_opacity "),t+=ce?"pswp--touch":"pswp--notouch",t+=ge.animationName?" pswp--css_animation":"",t+=ge.svg?" pswp--svg":"",p.addClass(m,t),f.updateSize(),V=-1,Ye=null,e=0;e<3;e++)it((e+V)*Ke.x,te[e].el.style);pe||p.bind(f.scrollWrap,Z,f),a("initialZoomInEnd",function(){f.setContent(te[0],q-1),f.setContent(te[2],q+1),te[0].el.style.display=te[2].el.style.display="block",g.focus&&m.focus(),p.bind(document,"keydown",f),ge.transform&&p.bind(f.scrollWrap,"click",f),g.mouseUsed||p.bind(document,"mousemove",at),p.bind(window,"resize scroll orientationchange",f),y("bindEvents")}),f.setContent(te[1],q),f.updateCurrItem(),y("afterInit"),Xe||(J=setInterval(function(){st||_e||Pe||Y!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),p.addClass(m,"pswp--visible")}},close:function(){z&&(U=!(z=!1),y("close"),p.unbind(window,"resize scroll orientationchange",f),p.unbind(window,"scroll",K.scroll),p.unbind(document,"keydown",f),p.unbind(document,"mousemove",at),ge.transform&&p.unbind(f.scrollWrap,"click",f),_e&&p.unbind(window,$,f),clearTimeout(ye),y("unbindEvents"),Zt(f.currItem,null,!0,f.destroy))},destroy:function(){y("destroy"),Ut&&clearTimeout(Ut),m.setAttribute("aria-hidden","true"),m.className=he,J&&clearInterval(J),p.unbind(f.scrollWrap,Z,f),p.unbind(window,"scroll",f),Tt(),I(),et=null},panTo:function(e,t,n){n||(e>De.min.x?e=De.min.x:e<De.max.x&&(e=De.max.x),t>De.min.y?t=De.min.y:t<De.max.y&&(t=De.max.y)),We.x=e,We.y=t,tt()},handleEvent:function(e){e=e||window.event,K[e.type]&&K[e.type](e)},goTo:function(e){var t=(e=r(e))-q;Ye=t,q=e,f.currItem=Vt(q),$e-=t,d(Ke.x*$e),I(),Be=!1,f.updateCurrItem()},next:function(){f.goTo(q+1)},prev:function(){f.goTo(q-1)},updateCurrZoomItem:function(e){var t;e&&y("beforeChange",0),Oe=te[1].el.children.length?(t=te[1].el.children[0],p.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,De=f.currItem.bounds,X=Y=f.currItem.initialZoomLevel,We.x=De.center.x,We.y=De.center.y,e&&y("afterChange")},invalidateCurrItems:function(){ee=!0;for(var e=0;e<3;e++)te[e].item&&(te[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==Ye){var t,n=Math.abs(Ye);if(!(e&&n<2)){f.currItem=Vt(q),Je=!1,y("beforeChange",Ye),3<=n&&(V+=Ye+(0<Ye?-3:3),n=3);for(var i=0;i<n;i++)0<Ye?(t=te.shift(),te[2]=t,it((++V+2)*Ke.x,t.el.style),f.setContent(t,q-n+i+1+1)):(t=te.pop(),te.unshift(t),it(--V*Ke.x,t.el.style),f.setContent(t,q+n-i-1-1));!Oe||1!==Math.abs(Ye)||(e=Vt(ne)).initialZoomLevel!==Y&&(Gt(e,Ve),Qt(e),nt(e)),Ye=0,f.updateCurrZoomItem(),ne=q,y("afterChange")}}},updateSize:function(e){if(!Xe&&g.modal){var t=p.getScrollY();if(fe!==t&&(m.style.top=t+"px",fe=t),!e&&Qe.x===window.innerWidth&&Qe.y===window.innerHeight)return;Qe.x=window.innerWidth,Qe.y=window.innerHeight,m.style.height=Qe.y+"px"}if(Ve.x=f.scrollWrap.clientWidth,Ve.y=f.scrollWrap.clientHeight,C(),Ke.x=Ve.x+Math.round(Ve.x*g.spacing),Ke.y=Ve.y,d(Ke.x*$e),y("beforeResize"),void 0!==V){for(var n,i,o,a=0;a<3;a++)n=te[a],it((a+V)*Ke.x,n.el.style),o=q+a-1,g.loop&&2<$t()&&(o=r(o)),(i=Vt(o))&&(ee||i.needsUpdate||!i.bounds)?(f.cleanSlide(i),f.setContent(n,o),1===a&&(f.currItem=i,f.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&f.setContent(n,o),i&&i.container&&(Gt(i,Ve),Qt(i),nt(i));ee=!1}X=Y=f.currItem.initialZoomLevel,(De=f.currItem.bounds)&&(We.x=De.center.x,We.y=De.center.y,tt(!0)),y("resize")},zoomTo:function(t,e,n,i,o){e&&(X=Y,xt.x=Math.abs(e.x)-We.x,xt.y=Math.abs(e.y)-We.y,b(qe,We));var e=h(t,!1),a={};k("x",e,a,t),k("y",e,a,t);var r=Y,s=We.x,l=We.y;c(a),e=function(e){1===e?(Y=t,We.x=a.x,We.y=a.y):(Y=(t-r)*e+r,We.x=(a.x-s)*e+s,We.y=(a.y-l)*e+l),o&&o(e),tt(1===e)},n?A("customZoomTo",0,1,n,i||p.easing.sine.inOut,e):e(1)}},lt={},ct={},ut={},dt={},ht={},mt=[],pt={},ft=[],gt={},yt=0,vt=i(),bt=0,wt=i(),xt=i(),kt=i(),Tt=function(){Ie&&(de(Ie),Ie=null)},_t=function(){_e&&(Ie=ue(_t),Mt())},Ct=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:Ct(e.parentNode,t))},St={},Et={},It={},At=[],Mt=function(){if(Me){var e=Me.length;if(0!==e)if(b(lt,Me[0]),ut.x=lt.x-dt.x,ut.y=lt.y-dt.y,Pe&&1<e)dt.x=lt.x,dt.y=lt.y,(ut.x||ut.y||(a=Me[1],r=ct,a.x!==r.x||a.y!==r.y))&&(b(ct,Me[1]),Se||(Se=!0,y("zoomGestureStarted")),i=M(lt,ct),(o=Ot(i))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ze=!0),n=1,e=w(),a=x(),o<e?g.pinchToClose&&!ze&&X<=f.currItem.initialZoomLevel?(v(r=1-(e-o)/(e/1.2)),y("onPinchClose",r),Fe=!0):(1<(n=(e-o)/e)&&(n=1),o=e-n*(e/3)):a<o&&(1<(n=(o-a)/(6*e))&&(n=1),o=a+n*e),n<0&&(n=0),D(lt,ct,vt),je.x+=vt.x-kt.x,je.y+=vt.y-kt.y,b(kt,vt),We.x=l("x",o),We.y=l("y",o),xe=Y<o,Y=o,tt());else if(Ne&&(Re&&(Re=!1,10<=Math.abs(ut.x)&&(ut.x-=Me[0].x-ht.x),10<=Math.abs(ut.y)&&(ut.y-=Me[0].y-ht.y)),dt.x=lt.x,dt.y=lt.y,0!==ut.x||0!==ut.y)){if("v"===Ne&&g.closeOnVerticalDrag&&"fit"===g.scaleMode&&Y===f.currItem.initialZoomLevel){je.y+=ut.y,We.y+=ut.y;var t=O();return ke=!0,y("onVerticalDrag",t),v(t),void tt()}n=u(),i=lt.x,o=lt.y,50<n-be&&((t=2<ft.length?ft.shift():{}).x=i,t.y=o,ft.push(t),be=n),Ee=!0,De=f.currItem.bounds,N("x",ut)||(N("y",ut),c(We),tt())}}var n,i,o,a,r},Pt=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<ft.length?(t=u()-be+50,ft[ft.length-2][e]):(t=u()-ve,ht[e]),i.lastFlickOffset[e]=dt[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(We[t]>De.min[t]?i.backAnimDestination[t]=De.min[t]:We[t]<De.max[t]&&(i.backAnimDestination[t]=De.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,A("bounceZoomPan"+t,We[t],i.backAnimDestination[t],e||300,p.easing.sine.out,function(e){We[t]=e,tt()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,We[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(rt.zoomPan&&(rt.zoomPan.raf=ue(i.panAnimLoop),i.now=u(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),tt(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return We.x=Math.round(We.x),We.y=Math.round(We.y),tt(),void S("zoomPan")}};return i},Lt=function(e){return e.calculateSwipeSpeed("y"),De=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(E("zoomPan"),e.lastNow=u(),void e.panAnimLoop())},Dt=function(e,t){var n,i;Be||(yt=q),"swipe"===e&&(i=dt.x-ht.x,e=t.lastFlickDist.x<10,30<i&&(e||20<t.lastFlickOffset.x)?a=-1:i<-30&&(e||t.lastFlickOffset.x<-20)&&(a=1)),a&&((q+=a)<0?(q=g.loop?$t()-1:0,o=!0):q>=$t()&&(q=g.loop?0:$t()-1,o=!0),o&&!g.loop||(Ye+=a,$e-=a,n=!0));var o=Ke.x*$e,a=Math.abs(o-wt.x),r=n||o>wt.x==0<t.lastFlickSpeed.x?(r=0<Math.abs(t.lastFlickSpeed.x)?a/Math.abs(t.lastFlickSpeed.x):333,r=Math.min(r,400),Math.max(r,250)):333;return yt===q&&(n=!1),Be=!0,y("mainScrollAnimStart"),A("mainScroll",wt.x,o,r,p.easing.cubic.out,d,function(){I(),Be=!1,yt=-1,!n&&yt===q||f.updateCurrItem(),y("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},Ot=function(e){return 1/Le*e*X},Bt=function(){var e=Y,t=w(),n=x();Y<t?e=t:n<Y&&(e=n);var i,o=He;return Fe&&!xe&&!ze&&Y<t?f.close():(Fe&&(i=function(e){v((1-o)*e+o)}),f.zoomTo(e,0,200,p.easing.cubic.out,i)),!0};function Nt(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}}function Rt(e,t,n,i,o,a){t.loadError||i&&(t.imageAppended=!0,Qt(t,i,t===f.currItem&&Je),n.appendChild(i),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))}function Ft(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=p.createEl("pswp__img","img");return n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src,n}function Ht(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=g.errorMsg.replace("%url%",e.src),1)}function zt(){if(Yt.length){for(var e,t=0;t<Yt.length;t++)(e=Yt[t]).holder.index===e.index&&Rt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Yt=[]}}o("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,o){ie=e+t,oe=e+n,ae=e+i,re=o?e+o:""}(le=ge.pointerEvent)&&ge.touch&&(ge.touch=!1),le?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):ge.touch?(e("touch","start","move","end","cancel"),ce=!0):e("mouse","down","move","up"),$=oe+" "+ae+" "+re,Z=ie,le&&!ce&&(ce=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=ce,K[ie]=R,K[oe]=F,K[ae]=H,re&&(K[re]=K[ae]),ge.touch&&(Z+=" mousedown",$+=" mousemove mouseup",K.mousedown=K[ie],K.mousemove=K[oe],K.mouseup=K[ae]),ce||(g.allowPanToNext=!1)}}});var Ut,jt,qt,Wt,Vt,$t,Zt=function(r,e,s,t){var l;function c(){S("initialZoom"),s?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(v(1),e&&(e.style.display="block"),p.addClass(m,"pswp--animated-in"),y("initialZoom"+(s?"OutEnd":"InEnd"))),t&&t(),Wt=!1}Ut&&clearTimeout(Ut),qt=Wt=!0,r.initialLayout?(l=r.initialLayout,r.initialLayout=null):l=g.getThumbBoundsFn&&g.getThumbBoundsFn(q);var u,d,h=s?g.hideAnimationDuration:g.showAnimationDuration;if(!h||!l||void 0===l.x)return y("initialZoom"+(s?"Out":"In")),Y=r.initialZoomLevel,b(We,r.initialPosition),tt(),m.style.opacity=s?0:1,v(1),void(h?setTimeout(function(){c()},h):c());u=j,d=!f.currItem.src||f.currItem.loadError||g.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),s||(Y=l.w/r.w,We.x=l.x,We.y=l.y-me,f[d?"template":"bg"].style.opacity=.001,tt()),E("initialZoom"),s&&!u&&p.removeClass(m,"pswp--animated-in"),d&&(s?p[(u?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){p.addClass(m,"pswp--animate_opacity")},30)),Ut=setTimeout(function(){var t,n,i,o,a,e;y("initialZoom"+(s?"Out":"In")),s?(t=l.w/r.w,n=We.x,i=We.y,o=Y,a=He,e=function(e){1===e?(Y=t,We.x=l.x,We.y=l.y-fe):(Y=(t-o)*e+o,We.x=(l.x-n)*e+n,We.y=(l.y-fe-i)*e+i),tt(),d?m.style.opacity=1-e:v(a-e*a)},u?A("initialZoom",0,1,h,p.easing.cubic.out,e,c):(e(1),Ut=setTimeout(c,h+20))):(Y=r.initialZoomLevel,b(We,r.initialPosition),tt(),v(1),d?m.style.opacity=1:v(1),Ut=setTimeout(c,h+20))},s?25:90)},Kt={},Yt=[],Xt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return jt.length}},Gt=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=Nt(),e.initialPosition=e.bounds.center,e.bounds;var i,o,a,r=!n;return r&&(e.vGap||(e.vGap={top:0,bottom:0}),y("parseVerticalMargin",e)),Kt.x=t.x,Kt.y=t.y-e.vGap.top-e.vGap.bottom,r&&(i=Kt.x/e.w,o=Kt.y/e.h,e.fitRatio=i<o?i:o,"orig"===(a=g.scaleMode)?n=1:"fit"===a&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=Nt())),n?(i=(t=e).w*n,o=e.h*n,(a=t.bounds).center.x=Math.round((Kt.x-i)/2),a.center.y=Math.round((Kt.y-o)/2)+t.vGap.top,a.max.x=i>Kt.x?Math.round(Kt.x-i):a.center.x,a.max.y=o>Kt.y?Math.round(Kt.y-o)+t.vGap.top:a.center.y,a.min.x=i>Kt.x?0:a.center.x,a.min.y=o>Kt.y?t.vGap.top:a.center.y,r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},Qt=function(e,t,n){var i;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px")};function Jt(e,t,n){var i=document.createEvent("CustomEvent"),n={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,n),e.target.dispatchEvent(i)}o("Controller",{publicMethods:{lazyLoadItem:function(e){e=r(e);var t=Vt(e);t&&(!t.loaded&&!t.loading||ee)&&(y("gettingData",e,t),t.src&&Ft(t))},initController:function(){p.extend(g,Xt,!0),f.items=jt=e,Vt=f.getItemAt,$t=g.getNumItemsFn,g.loop,$t()<3&&(g.loop=!1),a("beforeChange",function(e){for(var t=g.preload,n=null===e||0<=e,i=Math.min(t[0],$t()),o=Math.min(t[1],$t()),a=1;a<=(n?o:i);a++)f.lazyLoadItem(q+a);for(a=1;a<=(n?i:o);a++)f.lazyLoadItem(q-a)}),a("initialLayout",function(){f.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(q)}),a("mainScrollAnimComplete",zt),a("initialZoomInEnd",zt),a("destroy",function(){for(var e,t=0;t<jt.length;t++)(e=jt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Yt=null})},getItemAt:function(e){return 0<=e&&void 0!==jt[e]&&jt[e]},allowProgressiveImg:function(){return g.forceProgressiveLoading||!ce||g.mouseUsed||1200<screen.width},setContent:function(t,n){g.loop&&(n=r(n));var e=f.getItemAt(t.index);e&&(e.container=null);var i,o,a=f.getItemAt(n);a?(y("gettingData",n,a),t.index=n,o=(t.item=a).container=p.createEl("pswp__zoom-wrap"),!a.src&&a.html&&(a.html.tagName?o.appendChild(a.html):o.innerHTML=a.html),Ht(a),Gt(a,Ve),!a.src||a.loadError||a.loaded?a.src&&!a.loadError&&((i=p.createEl("pswp__img","img")).style.opacity=1,i.src=a.src,Qt(a,i),Rt(0,a,o,i)):(a.loadComplete=function(e){if(z){if(t&&t.index===n){if(Ht(e,!0))return e.loadComplete=e.img=null,Gt(e,Ve),nt(e),void(t.index===q&&f.updateCurrZoomItem());e.imageAppended?!Wt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):ge.transform&&(Be||Wt)?Yt.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):Rt(0,e,o,e.img,0,!0)}e.loadComplete=null,e.img=null,y("imageLoadComplete",n,e)}},p.features.transform&&(e="pswp__img pswp__img--placeholder",e+=a.msrc?"":" pswp__img--placeholder--blank",e=p.createEl(e,a.msrc?"img":""),a.msrc&&(e.src=a.msrc),Qt(a,e),o.appendChild(e),a.placeholder=e),a.loading||Ft(a),f.allowProgressiveImg()&&(!qt&&ge.transform?Yt.push({item:a,baseDiv:o,img:a.img,index:n,holder:t}):Rt(0,a,o,a.img,0,!0))),qt||n!==q?nt(a):(Oe=o.style,Zt(a,i||a.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var en,tn,nn={};function on(){return yn.hash.substring(1)}function an(){sn&&clearTimeout(sn),cn&&clearTimeout(cn)}function rn(){var e=on(),t={};if(e.length<5)return t;for(var n,i=e.split("&"),o=0;o<i.length;o++)i[o]&&((n=i[o].split("=")).length<2||(t[n[0]]=n[1]));if(g.galleryPIDs){for(var a=t.pid,o=t.pid=0;o<jt.length;o++)if(jt[o].pid===a){t.pid=o;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}o("Tap",{publicMethods:{initTap:function(){a("firstTouchStart",f.onTapStart),a("touchRelease",f.onTapRelease),a("destroy",function(){nn={},en=null})},onTapStart:function(e){1<e.length&&(clearTimeout(en),en=null)},onTapRelease:function(e,t){var n,i,o;!t||Ee||Ce||st||(n=t,en&&(clearTimeout(en),en=null,i=n,o=nn,Math.abs(i.x-o.x)<25&&Math.abs(i.y-o.y)<25)?y("doubleTap",n):"mouse"!==t.type?"BUTTON"===e.target.tagName.toUpperCase()||p.hasClass(e.target,"pswp__single-tap")?Jt(e,t):(b(nn,n),en=setTimeout(function(){Jt(e,t),en=null},300)):Jt(e,t,"mouse"))}}}),o("DesktopZoom",{publicMethods:{initDesktopZoom:function(){pe||(ce?a("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){tn={};var t="wheel mousewheel DOMMouseScroll";function n(){f.mouseZoomedIn&&(p.removeClass(m,"pswp--zoomed-in"),f.mouseZoomedIn=!1),Y<1?p.addClass(m,"pswp--zoom-allowed"):p.removeClass(m,"pswp--zoom-allowed"),i()}a("bindEvents",function(){p.bind(m,t,f.handleMouseWheel)}),a("unbindEvents",function(){tn&&p.unbind(m,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function i(){o&&(p.removeClass(m,"pswp--dragging"),o=!1)}var o;a("resize",n),a("afterChange",n),a("pointerDown",function(){f.mouseZoomedIn&&(o=!0,p.addClass(m,"pswp--dragging"))}),a("pointerUp",i),e||n()},handleMouseWheel:function(e){if(Y<=f.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||st||_e?e.preventDefault():se&&2<Math.abs(e.deltaY)&&(j=!0,f.close())),!0;if(e.stopPropagation(),tn.x=0,"deltaX"in e)1===e.deltaMode?(tn.x=18*e.deltaX,tn.y=18*e.deltaY):(tn.x=e.deltaX,tn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(tn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?tn.y=-.16*e.wheelDeltaY:tn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;tn.y=e.detail}h(Y,!0);var t=We.x-tn.x,n=We.y-tn.y;(g.modal||t<=De.min.x&&t>=De.max.x&&n<=De.min.y&&n>=De.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:Ve.x/2+Ze.x,y:Ve.y/2+Ze.y};var t=g.getDoubleTapZoom(!0,f.currItem),n=Y===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),p[(n?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});var sn,ln,cn,un,dn,hn,mn,pn,fn,gn,yn,vn,bn={history:!0,galleryUID:1},wn=function(){var e,t;cn&&clearTimeout(cn),st||_e?cn=setTimeout(wn,500):(un?clearTimeout(ln):un=!0,t=q+1,(e=Vt(q)).hasOwnProperty("pid")&&(t=e.pid),e=mn+"&gid="+g.galleryUID+"&pid="+t,pn||-1===yn.hash.indexOf(e)&&(gn=!0),t=yn.href.split("#")[0]+"#"+e,vn?"#"+e!==window.location.hash&&history[pn?"replaceState":"pushState"]("",document.title,t):pn?yn.replace(t):yn.hash=e,pn=!0,ln=setTimeout(function(){un=!1},60))};o("History",{publicMethods:{initHistory:function(){var e,t;p.extend(g,bn,!0),g.history&&(yn=window.location,pn=fn=gn=!1,mn=on(),vn="pushState"in history,-1<mn.indexOf("gid=")&&(mn=(mn=mn.split("&gid=")[0]).split("?gid=")[0]),a("afterChange",f.updateURL),a("unbindEvents",function(){p.unbind(window,"hashchange",f.onHashChange)}),e=function(){hn=!0,fn||(gn?history.back():mn?yn.hash=mn:vn?history.pushState("",document.title,yn.pathname+yn.search):yn.hash=""),an()},a("unbindEvents",function(){j&&e()}),a("destroy",function(){hn||e()}),a("firstUpdate",function(){q=rn().pid}),-1<(t=mn.indexOf("pid="))&&"&"===(mn=mn.substring(0,t)).slice(-1)&&(mn=mn.slice(0,-1)),setTimeout(function(){z&&p.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return on()===mn?(fn=!0,void f.close()):void(un||(dn=!0,f.goTo(rn().pid),dn=!1))},updateURL:function(){an(),dn||(pn?sn=setTimeout(wn,800):wn())}}}),p.extend(f,t)}}),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.wNumb=e()}(function(){"use strict";var a=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function v(e){return e.split("").reverse().join("")}function p(e,t){return e.substring(0,t.length)===t}function r(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function b(e){return"number"==typeof e&&isFinite(e)}function n(e,t,n,i,o,a,r,s,l,c,u,d){var h,m,p,f=d,g="",y="";return a&&(d=a(d)),!!b(d)&&(!1!==e&&0===parseFloat(d.toFixed(e))&&(d=0),d<0&&(h=!0,d=Math.abs(d)),!1!==e&&(p=e,e=(e=d).toString().split("e"),d=(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+p:p)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]-p:-p))).toFixed(p)),-1!==(d=d.toString()).indexOf(".")?(m=(p=d.split("."))[0],n&&(g=n+p[1])):m=d,t&&(m=v(m).match(/.{1,3}/g),m=v(m.join(v(t)))),h&&s&&(y+=s),i&&(y+=i),h&&l&&(y+=l),y+=m,y+=g,o&&(y+=o),c&&(y=c(y,f)),y)}function i(e,t,n,i,o,a,r,s,l,c,u,d){var h,m="";return u&&(d=u(d)),!(!d||"string"!=typeof d)&&(s&&p(d,s)&&(d=d.replace(s,""),h=!0),i&&p(d,i)&&(d=d.replace(i,"")),l&&p(d,l)&&(d=d.replace(l,""),h=!0),o&&(l=o,d.slice(-1*l.length)===l)&&(d=d.slice(0,-1*o.length)),t&&(d=d.split(t).join("")),n&&(d=d.replace(n,".")),h&&(m+="-"),""!==(m=(m+=d).replace(/[^0-9\.\-.]/g,""))&&(m=Number(m),r&&(m=r(m)),!!b(m)&&m))}function o(e,t,n){for(var i=[],o=0;o<a.length;o+=1)i.push(e[a[o]]);return i.push(n),t.apply("",i)}return function e(t){if(!(this instanceof e))return new e(t);"object"==typeof t&&(t=function(e){var t,n,i,o={};for(void 0===e.suffix&&(e.suffix=e.postfix),t=0;t<a.length;t+=1)if(void 0===(i=e[n=a[t]]))"negative"!==n||o.negativeBefore?"mark"===n&&"."!==o.thousand?o[n]=".":o[n]=!1:o[n]="-";else if("decimals"===n){if(!(0<=i&&i<8))throw new Error(n);o[n]=i}else if("encoder"===n||"decoder"===n||"edit"===n||"undo"===n){if("function"!=typeof i)throw new Error(n);o[n]=i}else{if("string"!=typeof i)throw new Error(n);o[n]=i}return r(o,"mark","thousand"),r(o,"prefix","negative"),r(o,"prefix","negativeBefore"),o}(t),this.to=function(e){return o(t,n,e)},this.from=function(e){return o(t,i,e)})}}),$(document).ready(function(){"use strict";$(".header__btn").on("click",function(){$(this).toggleClass("header__btn--active"),$(".header__nav").toggleClass("header__nav--active"),$(".body").toggleClass("body--active")}),$(".header__search-btn, .header__search-close").on("click",function(){$(".header__search").toggleClass("header__search--active")}),$(".home__bg").owlCarousel({animateOut:"fadeOut",animateIn:"fadeIn",mouseDrag:!1,touchDrag:!1,items:1,dots:!1,loop:!0,autoplay:!1,smartSpeed:700,margin:0}),$(".home__bg .item").each(function(){$(this).attr("data-bg")&&$(this).css({background:"url("+$(this).data("bg")+")","background-position":"center center","background-repeat":"no-repeat","background-size":"cover"})}),$(".home__carousel--bg").owlCarousel({mouseDrag:!1,touchDrag:!0,dots:!1,loop:!0,autoplay:!1,smartSpeed:700,margin:20,responsive:{0:{items:2},576:{items:2},768:{items:3,margin:30},992:{items:4,margin:30},1200:{items:5,margin:30}}}),$(".home__carousel--default").owlCarousel({mouseDrag:!1,touchDrag:!0,dots:!1,loop:!0,autoplay:!1,smartSpeed:700,margin:20,responsive:{0:{items:2},576:{items:2},768:{items:3,margin:30},992:{items:4,margin:30},1200:{items:5,margin:30,slideBy:5,smartSpeed:400}}}),$(".home__nav--next").on("click",function(){$(".home__carousel--default, .home__carousel--bg, .home__bg").trigger("next.owl.carousel")}),$(".home__nav--prev").on("click",function(){$(".home__carousel--default, .home__carousel--bg, .home__bg").trigger("prev.owl.carousel")}),$(window).on("resize",function(){var e=$(".home__bg").height();$(".home__bg .item").css("height",e+"px")}),$(window).trigger("resize"),$(".content__mobile-tabs-menu li").each(function(){$(this).attr("data-value",$(this).text().toLowerCase())}),$(".content__mobile-tabs-menu li").on("click",function(){var e=$(this).text(),t=$(this).closest(".content__mobile-tabs").attr("id");$("#"+t).find(".content__mobile-tabs-btn input").val(e)}),$(".section--bg, .details__bg").each(function(){$(this).attr("data-bg")&&$(this).css({background:"url("+$(this).data("bg")+")","background-position":"center center","background-repeat":"no-repeat","background-size":"cover"})}),$(".section__carousel").owlCarousel({mouseDrag:!1,touchDrag:!0,dots:!1,loop:!0,autoplay:!1,smartSpeed:700,margin:20,autoHeight:!0,responsive:{0:{items:2},576:{items:3},768:{items:4,margin:30},992:{items:4,margin:30},1200:{items:6,margin:30,slideBy:6,smartSpeed:400}}}),$(".section__nav--prev").on("click",function(){var e=$(this).attr("data-nav");$(e).trigger("prev.owl.carousel")}),$(".section__nav--next").on("click",function(){var e=$(this).attr("data-nav");$(e).trigger("next.owl.carousel")}),$(".footer__back").on("click",function(){$("body,html").animate({scrollTop:0},700)}),$(".filter__item-menu li").each(function(){$(this).attr("data-value",$(this).text().toLowerCase())}),$(".filter__item-menu li").on("click",function(){var e=$(this).text(),t=$(this).closest(".filter__item").attr("id");$("#"+t).find(".filter__item-btn input").val(e)}),$(".scrollbar-dropdown").mCustomScrollbar({axis:"y",scrollbarPosition:"outside",theme:"custom-bar"}),$(".card__description").mCustomScrollbar({axis:"y",scrollbarPosition:"outside",theme:"custom-bar3"}),$(".dashbox__table-wrap").mCustomScrollbar({axis:"x",scrollbarPosition:"outside",theme:"custom-bar2",advanced:{autoExpandHorizontalScroll:2}}),$(".card__trailer").magnificPopup({disableOn:500,fixedContentPos:!0,type:"iframe",preloader:!1,removalDelay:300,mainClass:"mfp-fade",callbacks:{open:function(){var e,t;1200<$(window).width()&&$(".header").css("margin-left","-"+(e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=$("<div>").css({width:"100%"}).appendTo(e).outerWidth(),e.remove(),(100-t)/2)+"px")},close:function(){1200<$(window).width()&&$(".header").css("margin-left",0)}}}),function(e){for(var s=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var e=e.target||e.srcElement,t=s(e,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(t){for(var n,e=t.parentNode,i=t.parentNode.childNodes,o=i.length,a=0,r=0;r<o;r++)if(1===i[r].nodeType){if(i[r]===t){n=a;break}a++}return 0<=n&&l(n,e),!1}},l=function(e,s,t,n){var i=document.querySelectorAll(".pswp")[0],o=function(){for(var e,t,n,i=s.childNodes,o=i.length,a=[],r=0;r<o;r++)1===(e=i[r]).nodeType&&(n=(t=e.children[0]).getAttribute("data-size").split("x"),n={src:t.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},1<e.children.length&&(n.title=e.children[1].innerHTML),0<t.children.length&&(n.msrc=t.children[0].getAttribute("src")),n.el=e,a.push(n));return a}(),a={galleryUID:s.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=o[e].el.getElementsByTagName("img")[0],e=window.pageYOffset||document.documentElement.scrollTop;return{x:(t=t.getBoundingClientRect()).left,y:t.top+e,w:t.width}}};if(n)if(a.galleryPIDs){for(var r=0;r<o.length;r++)if(o[r].pid==e){a.index=r;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);isNaN(a.index)||(t&&(a.showAnimationDuration=0),new PhotoSwipe(i,PhotoSwipeUI_Default,o,a).init())},n=document.querySelectorAll(".gallery"),i=0,o=n.length;i<o;i++)n[i].setAttribute("data-pswp-uid",i+1),n[i].onclick=t;(e=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n,i=e.split("&"),o=0;o<i.length;o++)i[o]&&((n=i[o].split("=")).length<2||(t[n[0]]=n[1]));return t.gid&&(t.gid=parseInt(t.gid,10)),t}()).pid&&e.gid&&l(e.pid,n[e.gid-1],!0,!0)}(),$(window).on("load",($("#player").length&&new Plyr("#player"),!1)),$(window).on("load",function(){if(!$("#filter__years").length)return!1;var e=document.getElementById("filter__years");noUiSlider.create(e,{range:{min:2e3,max:2021},step:1,connect:!0,start:[2007,2019],format:wNumb({decimals:0})});var n=[document.getElementById("filter__years-start"),document.getElementById("filter__years-end")];return e.noUiSlider.on("update",function(e,t){n[t].innerHTML=e[t]}),!1}()),$(window).on("load",function(){if(!$("#filter__imbd").length)return!1;var e=document.getElementById("filter__imbd");noUiSlider.create(e,{range:{min:0,max:10},step:.1,connect:!0,start:[3.1,8.6],format:wNumb({decimals:1})});var n=[document.getElementById("filter__imbd-start"),document.getElementById("filter__imbd-end")];return e.noUiSlider.on("update",function(e,t){n[t].innerHTML=e[t]}),$(".filter__item-menu--range").on("click.bs.dropdown",function(e){e.stopPropagation(),e.preventDefault()}),!1}()),$(window).on("load",function(){if(!$("#slider__rating").length)return!1;var e=document.getElementById("slider__rating");noUiSlider.create(e,{range:{min:0,max:10},connect:[!0,!1],step:.1,start:8.6,format:wNumb({decimals:1})});var n=document.getElementById("form__slider-value");return e.noUiSlider.on("update",function(e,t){n.innerHTML=e[t]}),!1}())}),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e=e||self).Plyr=t()}(this,function(){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function t(e){return null!=e?e.constructor:null}function n(e,t){return Boolean(e&&t&&e instanceof t)}function r(e){return null==e}function l(e){return t(e)===Object}function c(e){return t(e)===String}function u(e){return Array.isArray(e)}function h(e){return n(e,NodeList)}var m={addCSS:!0,thumbWidth:15,watch:!0},p={nullOrUndefined:r,object:l,number:function(e){return t(e)===Number&&!Number.isNaN(e)},string:c,boolean:function(e){return t(e)===Boolean},function:function(e){return t(e)===Function},array:u,nodeList:h,element:function(e){return n(e,Element)},event:function(e){return n(e,Event)},empty:function(e){return r(e)||(c(e)||u(e)||h(e))&&!e.length||l(e)&&!Object.keys(e).length}};function f(e){return null!=e?e.constructor:null}function g(e,t){return Boolean(e&&t&&e instanceof t)}function y(e){return null==e}function v(e){return f(e)===Object}function b(e){return f(e)===String}function w(e){return Array.isArray(e)}function x(e){return g(e,NodeList)}function k(e){return y(e)||(b(e)||w(e)||x(e))&&!e.length||v(e)&&!Object.keys(e).length}var T,_,C=(e(I,[{key:"init",value:function(){I.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){I.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[n](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!I.enabled||!p.event(e))return null;var t=e.target,n=e.changedTouches[0],i=parseFloat(t.getAttribute("min"))||0,o=parseFloat(t.getAttribute("max"))||100,a=parseFloat(t.getAttribute("step"))||1,e=o-i,t=100/(o=t.getBoundingClientRect()).width*(this.config.thumbWidth/2)/100;return(o=100/o.width*(n.clientX-o.left))<0?o=0:100<o&&(o=100),o<50?o-=(100-2*o)*t:50<o&&(o+=2*(o-50)*t),i+(o=o/100*e,(e=a)<1?(a=(a="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0,parseFloat(o.toFixed(a))):Math.round(o/e)*e)}},{key:"set",value:function(e){var t;I.enabled&&p.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),t=e.target,e="touchend"===e.type?"change":"input",t&&e&&(e=new Event(e),t.dispatchEvent(e)))}}],[{key:"setup",value:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=null;if(p.empty(n)||p.string(n)?e=Array.from(document.querySelectorAll(p.string(n)?n:'input[type="range"]')):p.element(n)?e=[n]:p.nodeList(n)?e=Array.from(n):p.array(n)&&(e=n.filter(p.element)),p.empty(e))return null;var i=Object.assign({},m,t);return p.string(n)&&i.watch&&new MutationObserver(function(e){Array.from(e).forEach(function(e){Array.from(e.addedNodes).forEach(function(e){var t;p.element(e)&&function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t=n)&&new I(e,i)})})}).observe(document.body,{childList:!0,subtree:!0}),e.map(function(e){return new I(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),I),S={nullOrUndefined:y,object:v,number:function(e){return f(e)===Number&&!Number.isNaN(e)},string:b,boolean:function(e){return f(e)===Boolean},function:function(e){return f(e)===Function},array:w,weakMap:function(e){return g(e,WeakMap)},nodeList:x,element:function(e){return g(e,Element)},textNode:function(e){return f(e)===Text},event:function(e){return g(e,Event)},keyboardEvent:function(e){return g(e,KeyboardEvent)},cue:function(e){return g(e,window.TextTrackCue)||g(e,window.VTTCue)},track:function(e){return g(e,TextTrack)||!y(e)&&b(e.kind)},promise:function(e){return g(e,Promise)},url:function(e){if(g(e,window.URL))return!0;if(!b(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!k(new URL(t).hostname)}catch(e){return!1}},empty:k},E=(T=document.createElement("span"),_={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},rt=Object.keys(_).find(function(e){return void 0!==T.style[e]}),!!S.string(rt)&&_[rt]);function I(e,t){s(this,I),p.element(e)?this.element=e:p.string(e)&&(this.element=document.querySelector(e)),p.element(this.element)&&p.empty(this.element.rangeTouch)&&(this.config=Object.assign({},m,t),this.init())}function A(e,t){setTimeout(function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}var M={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},P=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function L(t,e,n){var i,o=this,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];t&&"addEventListener"in t&&!S.empty(e)&&S.function(n)&&(e=e.split(" "),i=P?{passive:r,capture:s}:s,e.forEach(function(e){o&&o.eventListeners&&a&&o.eventListeners.push({element:t,type:e,callback:n,options:i}),t[a?"addEventListener":"removeEventListener"](e,n,i)}))}function D(e){L.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!0,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function O(e){L.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!1,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function B(o){var a=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=2<arguments.length?arguments[2]:void 0,l=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],c=4<arguments.length&&void 0!==arguments[4]&&arguments[4];L.call(this,o,r,function e(){O(o,r,e,l,c);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s.apply(a,n)},!0,l,c)}function N(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};S.element(e)&&!S.empty(t)&&(i=new CustomEvent(t,{bubbles:n,detail:Object.assign({},i,{plyr:this})}),e.dispatchEvent(i))}function R(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function F(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length)return t;var o=n.shift();return S.object(o)?(Object.keys(o).forEach(function(e){S.object(o[e])?(Object.keys(t).includes(e)||Object.assign(t,a({},e,{})),F(t[e],o[e])):Object.assign(t,a({},e,o[e]))}),F.apply(void 0,[t].concat(n))):t}function H(e,o){e=e.length?e:[e],Array.from(e).reverse().forEach(function(e,t){var n=0<t?o.cloneNode(!0):o,i=e.parentNode,t=e.nextSibling;n.appendChild(e),t?i.insertBefore(n,t):i.appendChild(n)})}function z(n,e){S.element(n)&&!S.empty(e)&&Object.entries(e).filter(function(e){return e=d(e,2)[1],!S.nullOrUndefined(e)}).forEach(function(e){var e=(t=d(e,2))[0],t=t[1];return n.setAttribute(e,t)})}function U(e,t,n){return e=document.createElement(e),S.object(t)&&z(e,t),S.string(n)&&(e.innerText=n),e}function j(e,t,n,i){S.element(t)&&t.appendChild(U(e,n,i))}function q(e){S.nodeList(e)||S.array(e)?Array.from(e).forEach(q):S.element(e)&&S.element(e.parentNode)&&e.parentNode.removeChild(e)}function W(e){if(S.element(e))for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),--t}function V(e,t){return S.element(t)&&S.element(t.parentNode)&&S.element(e)?(t.parentNode.replaceChild(e,t),e):null}function $(e,t){if(!S.string(e)||S.empty(e))return{};var a={},r=F({},t);return e.split(",").forEach(function(e){var t=e.trim(),n=t.replace(".",""),i=d(e=t.replace(/[[\]]/g,"").split("="),1)[0],o=1<e.length?e[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":S.string(r.class)?a.class="".concat(r.class," ").concat(n):a.class=n;break;case"#":a.id=t.replace("#","");break;case"[":a[i]=o}}),F(r,a)}function Z(e,t){S.element(e)&&(S.boolean(t)||(t=!e.hidden),e.hidden=t)}function K(e,t,n){if(S.nodeList(e))return Array.from(e).map(function(e){return K(e,t,n)});if(S.element(e)){var i=void 0!==n?n?"add":"remove":"toggle";return e.classList[i](t),e.classList.contains(t)}return!1}function Y(e,t){return S.element(e)&&e.classList.contains(t)}function X(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function G(e){return this.elements.container.querySelectorAll(e)}function Q(e){return this.elements.container.querySelector(e)}function J(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];S.element(e)&&(e.focus({preventScroll:!0}),t&&K(e,this.config.classNames.tabFocus))}var ee={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},te={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){return n=M.isIPhone&&n&&te.playsinline,{api:t=te[e]||"html5"!==t,ui:t&&te.rangeInput&&("video"!==e||!M.isIPhone||n)}},pip:!(M.isIPhone||!S.function(U("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||U("video").disablePictureInPicture)),airplay:S.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(S.empty(e))return!1;var t=d(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(ee).includes(n)&&(n+='; codecs="'.concat(ee[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:((rt=document.createElement("input")).type="range")===rt.type,touch:"ontouchstart"in document.documentElement,transitions:!1!==E,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches};function ne(e){return(S.array(e)||S.string(e)&&e.includes(":"))&&(S.array(e)?e:e.split(":")).map(Number).every(S.number)}function ie(e){if(!S.array(e)||!e.every(S.number))return null;var t=d(e,2),n=t[0];return[n/(t=function e(t,n){return 0===n?t:e(n,t%n)}(n,e=t[1])),e/t]}function oe(e){var t=function(e){return ne(e)?e.split(":").map(Number):null};return null===(e=t(e))&&(e=t(this.config.ratio)),null===e&&!S.empty(this.embed)&&S.array(this.embed.ratio)&&(e=this.embed.ratio),null===e&&this.isHTML5&&(e=ie([(t=this.media).videoWidth,t.videoHeight])),e}function ae(e){if(!this.isVideo)return{};var t=oe.call(this,e),n=d(S.array(t)?t:[0,0],2),e=100/n[0]*n[1];return this.elements.wrapper.style.paddingBottom="".concat(e,"%"),this.isVimeo&&this.supported.ui?(n=(240-e)/4.8,this.media.style.transform="translateY(-".concat(n,"%)")):this.isHTML5&&this.elements.wrapper.classList.toggle(this.config.classNames.videoFixedRatio,null!==t),{padding:e,ratio:t}}var re={getSources:function(){var t=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){return e=e.getAttribute("type"),!!S.empty(e)||te.mime.call(t,e)}):[]},getQualityOptions:function(){return re.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},extend:function(){var r;this.isHTML5&&(r=this,S.empty(this.config.ratio)||ae.call(r),Object.defineProperty(r.media,"quality",{get:function(){var e=re.getSources.call(r).find(function(e){return e.getAttribute("src")===r.source});return e&&Number(e.getAttribute("size"))},set:function(t){var e,n,i,o,a=re.getSources.call(r).find(function(e){return Number(e.getAttribute("size"))===t});a&&(o=r.media,e=o.currentTime,n=o.paused,i=o.preload,o=o.readyState,r.media.src=a.getAttribute("src"),"none"===i&&!o||(r.once("loadedmetadata",function(){r.currentTime=e,n||r.play()}),r.media.load()),N.call(r,r.media,"qualitychange",!1,{quality:t}))}}))},cancelRequests:function(){this.isHTML5&&(q(re.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function se(n){return S.array(n)?n.filter(function(e,t){return n.indexOf(e)===t}):n}function le(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return S.empty(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return n[t].toString()})}function ce(e,t,n){return e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:"",n=2<arguments.length&&void 0!==n?n:"",e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),n.toString())}function ue(e){return(0<arguments.length&&void 0!==e?e:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function de(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function he(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{};if(S.empty(e)||S.empty(t))return"";var n=R(t.i18n,e);return S.empty(n)?Object.keys(me).includes(e)?me[e]:"":(t={"{seektime}":t.seekTime,"{title}":t.title},Object.entries(t).forEach(function(e){var e=(t=d(e,2))[0],t=t[1];n=ce(n,e,t)}),n)}var me={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},pe=(e(fe,[{key:"get",value:function(e){if(!fe.supported||!this.enabled)return null;var t=window.localStorage.getItem(this.key);return S.empty(t)?null:(t=JSON.parse(t),S.string(e)&&e.length?t[e]:t)}},{key:"set",value:function(e){var t;fe.supported&&this.enabled&&S.object(e)&&(t=this.get(),S.empty(t)&&(t={}),F(t,e),window.localStorage.setItem(this.key,JSON.stringify(t)))}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),fe);function fe(e){s(this,fe),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}function ge(e,t){var o=1<arguments.length&&void 0!==t?t:"text";return new Promise(function(t,n){try{var i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",function(){if("text"===o)try{t(JSON.parse(i.responseText))}catch(e){t(i.responseText)}else t(i.response)}),i.addEventListener("error",function(){throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=o,i.send()}catch(e){n(e)}})}function ye(e,t){var n,i,o,a,r,s;S.string(e)&&(n=S.string(t),i=function(){return null!==document.getElementById(t)},o=function(e,t){e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)},n&&i()||(a=pe.supported,(r=document.createElement("div")).setAttribute("hidden",""),n&&r.setAttribute("id",t),a&&null!==(s=window.localStorage.getItem("".concat("cache","-").concat(t)))&&(s=JSON.parse(s),o(r,s.content)),ge(e).then(function(e){S.empty(e)||(a&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),o(r,e))}).catch(function(){})))}var ve=function(e){return Math.trunc(e/60/60%60,10)},be=function(e){return Math.trunc(e/60%60,10)},we=function(e){return Math.trunc(e%60,10)};function xe(e,t,n){var i=0<arguments.length&&void 0!==e?e:0,o=1<arguments.length&&void 0!==t&&t,a=2<arguments.length&&void 0!==n&&n;return S.number(i)?(e=ve(i),t=be(i),n=we(i),e=o||0<e?"".concat(e,":"):"","".concat(a&&0<i?"-":"").concat(e).concat(r(t),":").concat(r(n))):xe(null,o,a);function r(e){return"0".concat(e).slice(-2)}}var ke={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||M.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=Q.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:G.call(this,this.config.selectors.buttons.play),pause:Q.call(this,this.config.selectors.buttons.pause),restart:Q.call(this,this.config.selectors.buttons.restart),rewind:Q.call(this,this.config.selectors.buttons.rewind),fastForward:Q.call(this,this.config.selectors.buttons.fastForward),mute:Q.call(this,this.config.selectors.buttons.mute),pip:Q.call(this,this.config.selectors.buttons.pip),airplay:Q.call(this,this.config.selectors.buttons.airplay),settings:Q.call(this,this.config.selectors.buttons.settings),captions:Q.call(this,this.config.selectors.buttons.captions),fullscreen:Q.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Q.call(this,this.config.selectors.progress),this.elements.inputs={seek:Q.call(this,this.config.selectors.inputs.seek),volume:Q.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Q.call(this,this.config.selectors.display.buffer),currentTime:Q.call(this,this.config.selectors.display.currentTime),duration:Q.call(this,this.config.selectors.display.duration)},S.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n=ke.getIconUrl.call(this),i="".concat(n.cors?"":n.url,"#").concat(this.config.iconPrefix);return z(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),F(t,{role:"presentation",focusable:"false"})),t=document.createElementNS("http://www.w3.org/2000/svg","use"),e="".concat(i,"-").concat(e),"href"in t&&t.setAttributeNS("http://www.w3.org/1999/xlink","href",e),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),n.appendChild(t),n},createLabel:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=he(e,this.config);return U("span",Object.assign({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),e)},createBadge:function(e){if(S.empty(e))return null;var t=U("span",{class:this.config.classNames.menu.value});return t.appendChild(U("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=F({},t),o=function(e){return(e=function(e){return e=ce(e=(0<arguments.length&&void 0!==e?e:"").toString(),"-"," "),e=ce(e,"_"," "),ce(e=ue(e)," ","")}(e=(0<arguments.length&&void 0!==e?e:"").toString())).charAt(0).toLowerCase()+e.slice(1)}(e),a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(i).includes(e)&&(a[e]=i[e],delete i[e])}),"button"!==a.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(function(e){return e===n.config.classNames.control})||F(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),o="play",a.label="play",a.icon="play";break;default:S.empty(a.label)&&(a.label=o),S.empty(a.icon)&&(a.icon=e)}return t=U(a.element),a.toggle?(t.appendChild(ke.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),t.appendChild(ke.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),t.appendChild(ke.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),t.appendChild(ke.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(t.appendChild(ke.createIcon.call(this,a.icon)),t.appendChild(ke.createLabel.call(this,a.label))),F(i,$(this.config.selectors.buttons[o],i)),z(t,i),"play"===o?(S.array(this.elements.buttons[o])||(this.elements.buttons[o]=[]),this.elements.buttons[o].push(t)):this.elements.buttons[o]=t,t},createRange:function(e,t){return t=U("input",F($(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":he(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t)),this.elements.inputs[e]=t,ke.updateRangeFill.call(this,t),C.setup(t),t},createProgress:function(e,t){var n=U("progress",F($(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));return"volume"!==e&&(n.appendChild(U("span",null,"0")),t=(t={played:"played",buffer:"buffered"}[e])?he(t,this.config):"",n.innerText="% ".concat(t.toLowerCase())),this.elements.display[e]=n},createTime:function(e,t){return t=U("div",F(t=$(this.config.selectors.display[e],t),{class:"".concat(t.class||""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":he(e,this.config)}),"00:00"),this.elements.display[e]=t},bindMenuItemShortcuts:function(i,o){var a=this;D(i,"keydown keyup",function(e){var t,n;[32,38,39,40].includes(e.which)&&(e.preventDefault(),e.stopPropagation(),"keydown"!==e.type)&&(!(n=X(i,'[role="menuitemradio"]'))&&[32,39].includes(e.which)?ke.showMenuPanel.call(a,o,!0):32!==e.which&&(40===e.which||n&&39===e.which?(t=i.nextElementSibling,S.element(t)||(t=i.parentNode.firstElementChild)):(t=i.previousElementSibling,S.element(t)||(t=i.parentNode.lastElementChild)),J.call(a,t,!0)))},!1),D(i,"keyup",function(e){13===e.which&&ke.focusFirstMenuItem.call(a,null,!0)})},createMenuItem:function(e){var t=this,n=e.value,i=e.list,o=e.type,a=e.title,r=e.badge,s=void 0===r?null:r,e=void 0!==(r=e.checked)&&r,l=U("button",F(r=$(this.config.selectors.inputs[o]),{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(r.class||"").trim(),"aria-checked":e,value:n}));(e=U("span")).innerHTML=a,S.element(s)&&e.appendChild(s),l.appendChild(e),Object.defineProperty(l,"checked",{enumerable:!0,get:function(){return"true"===l.getAttribute("aria-checked")},set:function(e){e&&Array.from(l.parentNode.children).filter(function(e){return X(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),l.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(l,"click keyup",function(e){if(!S.keyboardEvent(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),l.checked=!0,o){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}ke.showMenuPanel.call(t,"home",S.keyboardEvent(e))}},o,!1),ke.bindMenuItemShortcuts.call(this,l,o),i.appendChild(l)},formatTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return S.number(e)?xe(e,0<ve(this.duration),t):e},updateTimeDisplay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];S.element(e)&&S.number(t)&&(e.innerText=ke.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(S.element(this.elements.inputs.volume)&&ke.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),S.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;S.element(e)&&(e.value=t,ke.updateRangeFill.call(this,e))},updateProgress:function(e){var t,n,i;if(this.supported.ui&&S.event(e)&&e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,n=this.duration,i=0===t||0===n||Number.isNaN(t)||Number.isNaN(n)?0:(t/n*100).toFixed(2),"timeupdate"===e.type&&ke.setRange.call(this,this.elements.inputs.seek,i);break;case"playing":case"progress":t=this.elements.display.buffer,n=100*this.buffered,n=S.number(n)?n:0,t=S.element(t)?t:this.elements.display.buffer,S.element(t)&&(t.value=n,t=t.getElementsByTagName("span")[0],S.element(t)&&(t.childNodes[0].nodeValue=n))}},updateRangeFill:function(e){var t,n,i=S.event(e)?e.target:e;S.element(i)&&"range"===i.getAttribute("type")&&(X(i,this.config.selectors.inputs.seek)?(i.setAttribute("aria-valuenow",this.currentTime),t=ke.formatTime(this.currentTime),n=ke.formatTime(this.duration),e=he("seekLabel",this.config),i.setAttribute("aria-valuetext",e.replace("{currentTime}",t).replace("{duration}",n))):X(i,this.config.selectors.inputs.volume)?(n=100*i.value,i.setAttribute("aria-valuenow",n),i.setAttribute("aria-valuetext","".concat(n.toFixed(1),"%"))):i.setAttribute("aria-valuenow",i.value),M.isWebkit&&i.style.setProperty("--value","".concat(i.value/i.max*100,"%")))},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&S.element(this.elements.inputs.seek)&&S.element(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return K(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var o=0,a=this.elements.progress.getBoundingClientRect();if(S.event(e))o=100/a.width*(e.pageX-a.left);else{if(!Y(this.elements.display.seekTooltip,n))return;o=parseFloat(this.elements.display.seekTooltip.style.left,10)}o<0?o=0:100<o&&(o=100),ke.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*o),this.elements.display.seekTooltip.style.left="".concat(o,"%"),S.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!S.element(this.elements.display.duration)&&this.config.invertTime;ke.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||ke.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return Z(this.elements.display.currentTime,!0),void Z(this.elements.progress,!0);S.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=S.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&ke.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&ke.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),ke.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){Z(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],o=null,t=t;if("captions"===e)o=this.currentTrack;else{if(o=S.empty(n)?this[e]:n,S.empty(o)&&(o=this.config[e].default),!S.empty(this.options[e])&&!this.options[e].includes(o))return void this.debug.warn("Unsupported value of '".concat(o,"' for ").concat(e));if(!this.config[e].options.includes(o))return void this.debug.warn("Disabled value of '".concat(o,"' for ").concat(e))}S.element(t)||(t=i&&i.querySelector('[role="menu"]')),S.element(t)&&(this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=ke.getLabel.call(this,e,o),o=t&&t.querySelector('[value="'.concat(o,'"]')),S.element(o)&&(o.checked=!0))},getLabel:function(e,t){switch(e){case"speed":return 1===t?he("normal",this.config):"".concat(t,"&times;");case"quality":if(S.number(t)){var n=he("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return ue(t);case"captions":return Se.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t,i=this;S.element(this.elements.settings.panels.quality)&&(t=this.elements.settings.panels.quality.querySelector('[role="menu"]'),S.array(e)&&(this.options.quality=se(e).filter(function(e){return i.config.quality.options.includes(e)})),e=!S.empty(this.options.quality)&&1<this.options.quality.length,ke.toggleMenuButton.call(this,"quality",e),W(t),ke.checkMenu.call(this),e&&(this.options.quality.sort(function(e,t){var n=i.config.quality.options;return n.indexOf(e)>n.indexOf(t)?1:-1}).forEach(function(e){ke.createMenuItem.call(i,{value:e,list:t,type:"quality",title:ke.getLabel.call(i,"quality",e),badge:(e=he("qualityBadge.".concat(e=e),i.config)).length?ke.createBadge.call(i,e):null})}),ke.updateSetting.call(this,"quality",t)))},setCaptionsMenu:function(){var n,e,t,i=this;S.element(this.elements.settings.panels.captions)&&(n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=Se.getTracks.call(this),e=Boolean(t.length),ke.toggleMenuButton.call(this,"captions",e),W(n),ke.checkMenu.call(this),e&&((t=t.map(function(e,t){return{value:t,checked:i.captions.toggled&&i.currentTrack===t,title:Se.getLabel.call(i,e),badge:e.language&&ke.createBadge.call(i,e.language.toUpperCase()),list:n,type:"language"}})).unshift({value:-1,checked:!this.captions.toggled,title:he("disabled",this.config),list:n,type:"language"}),t.forEach(ke.createMenuItem.bind(this)),ke.updateSetting.call(this,"captions",n)))},setSpeedMenu:function(e){var t,n=this;S.element(this.elements.settings.panels.speed)&&(t=this.elements.settings.panels.speed.querySelector('[role="menu"]'),S.array(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(e){return n.config.speed.options.includes(e)}),e=!S.empty(this.options.speed)&&1<this.options.speed.length,ke.toggleMenuButton.call(this,"speed",e),W(t),ke.checkMenu.call(this),e&&(this.options.speed.forEach(function(e){ke.createMenuItem.call(n,{value:e,list:t,type:"speed",title:ke.getLabel.call(n,"speed",e)})}),ke.updateSetting.call(this,"speed",t)))},checkMenu:function(){var e=this.elements.settings.buttons,e=!S.empty(e)&&Object.values(e).some(function(e){return!e.hidden});Z(this.elements.settings.menu,!e)},focusFirstMenuItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.elements.settings.popup.hidden||(S.element(e)||(e=Object.values(this.elements.settings.panels).find(function(e){return!e.hidden})),e=e.querySelector('[role^="menuitem"]'),J.call(this,e,t))},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(S.element(t)&&S.element(n)){var i=t.hidden,o=i;if(S.boolean(e))o=e;else if(S.keyboardEvent(e)&&27===e.which)o=!1;else if(S.event(e)){var a=S.function(e.composedPath)?e.composedPath()[0]:e.target;if((a=t.contains(a))||!a&&e.target!==n&&o)return}n.setAttribute("aria-expanded",o),Z(t,!o),K(this.elements.container,this.config.classNames.menu.open,o),o&&S.keyboardEvent(e)?ke.focusFirstMenuItem.call(this,null,!0):o||i||J.call(this,n,S.keyboardEvent(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,e=t.scrollHeight;return q(t),{width:n,height:e}},showMenuPanel:function(){var n,e,i=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));S.element(a)&&(n=a.parentNode,e=Array.from(n.children).find(function(e){return!e.hidden}),te.transitions&&!te.reducedMotion&&(n.style.width="".concat(e.scrollWidth,"px"),n.style.height="".concat(e.scrollHeight,"px"),t=ke.getMenuSize.call(this,a),D.call(this,n,E,function e(t){t.target===n&&["width","height"].includes(t.propertyName)&&(n.style.width="",n.style.height="",O.call(i,n,E,e))}),n.style.width="".concat(t.width,"px"),n.style.height="".concat(t.height,"px")),Z(e,!0),Z(a,!1),ke.focusFirstMenuItem.call(this,a,o))},setDownloadUrl:function(){var e=this.elements.buttons.download;S.element(e)&&e.setAttribute("href",this.download)},create:function(c){var u=this,d=ke.bindMenuItemShortcuts,h=ke.createButton,m=ke.createProgress,p=ke.createRange,f=ke.createTime,e=ke.setQualityMenu,t=ke.setSpeedMenu,g=ke.showMenuPanel;this.elements.controls=null,this.config.controls.includes("play-large")&&this.elements.container.appendChild(h.call(this,"play-large"));var y=U("div",$(this.config.selectors.controls.wrapper));this.elements.controls=y;var v={class:"plyr__controls__item"};return se(this.config.controls).forEach(function(e){var t,n,i,o,a,r,s,l;"restart"===e&&y.appendChild(h.call(u,"restart",v)),"rewind"===e&&y.appendChild(h.call(u,"rewind",v)),"play"===e&&y.appendChild(h.call(u,"play",v)),"fast-forward"===e&&y.appendChild(h.call(u,"fast-forward",v)),"progress"===e&&(i=U("div",{class:"".concat(v.class," plyr__progress__container")}),(t=U("div",$(u.config.selectors.progress))).appendChild(p.call(u,"seek",{id:"plyr-seek-".concat(c.id)})),t.appendChild(m.call(u,"buffer")),u.config.tooltips.seek&&(n=U("span",{class:u.config.classNames.tooltip},"00:00"),t.appendChild(n),u.elements.display.seekTooltip=n),u.elements.progress=t,i.appendChild(u.elements.progress),y.appendChild(i)),"current-time"===e&&y.appendChild(f.call(u,"currentTime",v)),"duration"===e&&y.appendChild(f.call(u,"duration",v)),"mute"!==e&&"volume"!==e||(i=u.elements.volume,S.element(i)&&y.contains(i)||(i=U("div",F({},v,{class:"".concat(v.class," plyr__volume").trim()})),u.elements.volume=i,y.appendChild(i)),"mute"===e&&i.appendChild(h.call(u,"mute")),"volume"===e&&(a={max:1,step:.05,value:u.config.volume},i.appendChild(p.call(u,"volume",F(a,{id:"plyr-volume-".concat(c.id)}))))),"captions"===e&&y.appendChild(h.call(u,"captions",v)),"settings"!==e||S.empty(u.config.settings)||((l=U("div",F({},v,{class:"".concat(v.class," plyr__menu").trim(),hidden:""}))).appendChild(h.call(u,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(c.id),"aria-expanded":!1})),s=U("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(c.id),hidden:""}),o=U("div"),a=U("div",{id:"plyr-settings-".concat(c.id,"-home")}),r=U("div",{role:"menu"}),a.appendChild(r),o.appendChild(a),u.elements.settings.panels.home=a,u.config.settings.forEach(function(e){var t=U("button",F($(u.config.selectors.buttons.settings),{type:"button",class:"".concat(u.config.classNames.control," ").concat(u.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));d.call(u,t,e),D(t,"click",function(){g.call(u,e,!1)});var n=U("span",null,he(e,u.config)),i=U("span",{class:u.config.classNames.menu.value});i.innerHTML=c[e],n.appendChild(i),t.appendChild(n),r.appendChild(t),i=U("div",{id:"plyr-settings-".concat(c.id,"-").concat(e),hidden:""}),(n=U("button",{type:"button",class:"".concat(u.config.classNames.control," ").concat(u.config.classNames.control,"--back")})).appendChild(U("span",{"aria-hidden":!0},he(e,u.config))),n.appendChild(U("span",{class:u.config.classNames.hidden},he("menuBack",u.config))),D(i,"keydown",function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),g.call(u,"home",!0))},!1),D(n,"click",function(){g.call(u,"home",!1)}),i.appendChild(n),i.appendChild(U("div",{role:"menu"})),o.appendChild(i),u.elements.settings.buttons[e]=t,u.elements.settings.panels[e]=i}),s.appendChild(o),l.appendChild(s),y.appendChild(l),u.elements.settings.popup=s,u.elements.settings.menu=l),"pip"===e&&te.pip&&y.appendChild(h.call(u,"pip",v)),"airplay"===e&&te.airplay&&y.appendChild(h.call(u,"airplay",v)),"download"===e&&(s=F({},v,{element:"a",href:u.download,target:"_blank"}),l=u.config.urls.download,!S.url(l)&&u.isEmbed&&F(s,{icon:"logo-".concat(u.provider),label:u.provider}),y.appendChild(h.call(u,"download",s))),"fullscreen"===e&&y.appendChild(h.call(u,"fullscreen",v))}),this.isHTML5&&e.call(this,re.getQualityOptions.call(this)),t.call(this),y},inject:function(){var n=this;!this.config.loadSprite||(r=ke.getIconUrl.call(this)).cors&&ye(r.url,"sprite-plyr"),this.id=Math.floor(1e4*Math.random());var e=null;this.elements.controls=null;var t={id:this.id,seektime:this.config.seekTime,title:this.config.title},i=!0;S.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),S.element(this.config.controls)||S.string(this.config.controls)?e=this.config.controls:(e=ke.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Se.getLabel.call(this)}),i=!1);var o,a,r=function(e){var n=e;return Object.entries(t).forEach(function(e){var e=(t=d(e,2))[0],t=t[1];n=ce(n,"{".concat(e,"}"),t)}),n};i&&(S.string(this.config.controls)?e=r(e):S.element(e)&&(e.innerHTML=r(e.innerHTML))),S.string(this.config.selectors.controls.container)&&(a=document.querySelector(this.config.selectors.controls.container)),S.element(a)||(a=this.elements.container),a[S.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),S.element(this.elements.controls)||ke.findElements.call(this),S.empty(this.elements.buttons)||(o=function(e){var t=n.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return Y(e,t)},set:function(){K(e,t,0<arguments.length&&void 0!==arguments[0]&&arguments[0])}})},Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){S.array(e)||S.nodeList(e)?Array.from(e).filter(Boolean).forEach(o):o(e)})),M.isEdge&&A(a),this.config.tooltips.controls&&(a=(e=this.config).classNames,e=e.selectors,a="".concat(e.controls.wrapper," ").concat(e.labels," .").concat(a.hidden),a=G.call(this,a),Array.from(a).forEach(function(e){K(e,n.config.classNames.hidden,!1),K(e,n.config.classNames.tooltip,!0)}))}};function Te(e,t){var n=e;1<arguments.length&&void 0!==t&&!t||((t=document.createElement("a")).href=n,n=t.href);try{return new URL(n)}catch(e){return null}}function _e(e){var n=new URLSearchParams;return S.object(e)&&Object.entries(e).forEach(function(e){var e=(t=d(e,2))[0],t=t[1];n.set(e,t)}),n}function Ce(){}var Se={setup:function(){var e,t,n;this.supported.ui&&(!this.isVideo||this.isYouTube||this.isHTML5&&!te.textTracks?S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ke.setCaptionsMenu.call(this):(S.element(this.elements.captions)||(this.elements.captions=U("div",$(this.config.selectors.captions)),t=this.elements.captions,n=this.elements.wrapper,S.element(t)&&S.element(n)&&n.parentNode.insertBefore(t,n.nextSibling)),M.isIE&&window.URL&&(e=this.media.querySelectorAll("track"),Array.from(e).forEach(function(t){var e=t.getAttribute("src"),n=Te(e);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&ge(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){q(t)})})),t=se((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),"auto"===(n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase())&&(n=d(t,1)[0]),e=this.storage.get("captions"),S.boolean(e)||(e=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:e,language:n,languages:t}),this.isHTML5&&(t=this.config.captions.update?"addtrack removetrack":"removetrack",D.call(this,this.media.textTracks,t,Se.update.bind(this))),setTimeout(Se.update.bind(this),0)))},update:function(){var t=this,e=Se.getTracks.call(this,!0),n=(r=this.captions).active,i=r.language,o=r.meta,a=r.currentTrackNode,r=Boolean(e.find(function(e){return e.language===i}));this.isHTML5&&this.isVideo&&e.filter(function(e){return!o.get(e)}).forEach(function(e){t.debug.log("Track added",e),o.set(e,{default:"showing"===e.mode}),e.mode="hidden",D.call(t,e,"cuechange",function(){return Se.updateCues.call(t)})}),(r&&this.language!==i||!e.includes(a))&&(Se.setLanguage.call(this,i),Se.toggle.call(this,n&&r)),K(this.elements.container,this.config.classNames.captions.enabled,!S.empty(e)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&ke.setCaptionsMenu.call(this)},toggle:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var n=this.captions.toggled,i=this.config.classNames.captions.active;if((e=S.nullOrUndefined(e)?!n:e)!==n){if(t||(this.captions.active=e,this.storage.set({captions:e})),!this.language&&e&&!t)return n=Se.getTracks.call(this),t=Se.findTrack.call(this,[this.captions.language].concat(o(this.captions.languages)),!0),this.captions.language=t.language,void Se.set.call(this,n.indexOf(t));this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=e),K(this.elements.container,i,e),this.captions.toggled=e,ke.updateSetting.call(this,"captions"),N.call(this,this.media,e?"captionsenabled":"captionsdisabled")}}},set:function(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=Se.getTracks.call(this);-1!==e?S.number(e)?e in i?(this.captions.currentTrack!==e&&(i=((t=i[this.captions.currentTrack=e])||{}).language,this.captions.currentTrackNode=t,ke.updateSetting.call(this,"captions"),n||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),N.call(this,this.media,"languagechange")),Se.toggle.call(this,!0,n),this.isHTML5&&this.isVideo&&Se.updateCues.call(this)):this.debug.warn("Track not found",e):this.debug.warn("Invalid caption argument",e):Se.toggle.call(this,!1,n)},setLanguage:function(e){var t,n,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];S.string(e)?(n=e.toLowerCase(),this.captions.language=n,t=Se.getTracks.call(this),n=Se.findTrack.call(this,[n]),Se.set.call(this,t.indexOf(n),i)):this.debug.warn("Invalid language argument",e)},getTracks:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(e){return!t.isHTML5||n||t.captions.meta.has(e)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e){function n(e){return Number((t.captions.meta.get(e)||{}).default)}var i,t=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=Se.getTracks.call(this),r=Array.from(a).sort(function(e,t){return n(t)-n(e)});return e.every(function(t){return!(i=r.find(function(e){return e.language===t}))}),i||(o?r[0]:void 0)},getCurrentTrack:function(){return Se.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!S.track(t)&&te.textTracks&&this.captions.toggled&&(t=Se.getCurrentTrack.call(this)),S.track(t)?S.empty(t.label)?S.empty(t.language)?he("enabled",this.config):e.language.toUpperCase():t.label:he("disabled",this.config)},updateCues:function(e){var t,n;this.supported.ui&&(S.element(this.elements.captions)?S.nullOrUndefined(e)||Array.isArray(e)?((n=e)||(t=Se.getCurrentTrack.call(this),n=Array.from((t||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(de)),(t=n.map(function(e){return e.trim()}).join("\n"))!==this.elements.captions.innerHTML&&(W(this.elements.captions),(n=U("span",$(this.config.selectors.caption))).innerHTML=t,this.elements.captions.appendChild(n),N.call(this,this.media,"cuechange"))):this.debug.warn("updateCues: Invalid input",e):this.debug.warn("No captions element to render to"))}},Ee={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.6/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Ie="picture-in-picture",Ae={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Me={audio:"audio",video:"video"},Pe=(e(Le,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Ce}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ce}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Ce}}]),Le);function Le(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];s(this,Le),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}function De(){var e;this.enabled&&(e=this.player.elements.buttons.fullscreen,S.element(e)&&(e.pressed=this.active),N.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),M.isIos||function(){var n,i,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];S.element(e)&&(e=G.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=e[0],i=e[e.length-1],L.call(this,this.elements.container,"keydown",function(e){var t;"Tab"===e.key&&9===e.keyCode&&((t=document.activeElement)!==i||e.shiftKey?t===n&&e.shiftKey&&(i.focus(),e.preventDefault()):(n.focus(),e.preventDefault()))},t,!1))}.call(this.player,this.target,this.active))}function Oe(){var e,t,n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];i?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=i?"hidden":"",K(this.target,this.player.config.classNames.fullscreen.fallback,i),M.isIos&&(e=document.head.querySelector('meta[name="viewport"]'),t="viewport-fit=cover",e||(e=document.createElement("meta")).setAttribute("name","viewport"),n=S.string(e.content)&&e.content.includes(t),i?(this.cleanupViewport=!n,n||(e.content+=",".concat(t))):this.cleanupViewport&&(e.content=e.content.split(",").filter(function(e){return e.trim()!==t}).join(","))),De.call(this)}var Be=(e(Ne,[{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":Ne.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),K(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(M.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!Ne.native||this.forceFallback?Oe.call(this,!0):this.prefix?S.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen())}},{key:"exit",value:function(){var e;this.enabled&&(M.isIos&&this.player.config.fullscreen.iosNative?(this.target.webkitExitFullscreen(),this.player.play()):!Ne.native||this.forceFallback?Oe.call(this,!1):this.prefix?S.empty(this.prefix)||(e="moz"===this.prefix?"Cancel":"Exit",document["".concat(this.prefix).concat(e).concat(this.property)]()):(document.cancelFullScreen||document.exitFullscreen).call(document))}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return Ne.native&&!this.forceFallback}},{key:"enabled",get:function(){return(Ne.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!Ne.native||this.forceFallback?Y(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return M.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(S.function(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!S.function(document["".concat(e,"ExitFullscreen")])&&!S.function(document["".concat(e,"CancelFullScreen")])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),Ne);function Ne(e){var t=this;s(this,Ne),this.player=e,this.prefix=Ne.prefix,this.property=Ne.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,D.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){De.call(t)}),D.call(this.player,this.player.elements.container,"dblclick",function(e){S.element(t.player.elements.controls)&&t.player.elements.controls.contains(e.target)||t.toggle()}),this.update()}function Re(o,e){var a=1<arguments.length&&void 0!==e?e:1;return new Promise(function(e,t){function n(){delete i.onload,delete i.onerror,(i.naturalWidth>=a?e:t)(i)}var i=new Image;Object.assign(i,{onload:n,onerror:n,src:o})})}var Fe={addStyleHook:function(){K(this.elements.container,this.config.selectors.container.replace(".",""),!0),K(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Fe.toggleNativeControls.call(this,!0);S.element(this.elements.controls)||(ke.inject.call(this),this.listeners.controls()),Fe.toggleNativeControls.call(this),this.isHTML5&&Se.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,ke.updateVolume.call(this),ke.timeUpdate.call(this),Fe.checkPlaying.call(this),K(this.elements.container,this.config.classNames.pip.supported,te.pip&&this.isHTML5&&this.isVideo),K(this.elements.container,this.config.classNames.airplay.supported,te.airplay&&this.isHTML5),K(this.elements.container,this.config.classNames.isIos,M.isIos),K(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){N.call(e,e.media,"ready")},0),Fe.setTitle.call(this),this.poster&&Fe.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&ke.durationUpdate.call(this)},setTitle:function(){var e,t,n,i=he("play",this.config);S.string(this.config.title)&&!S.empty(this.config.title)&&(i+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",i)}),this.isEmbed&&(e=Q.call(this,"iframe"),S.element(e)&&(t=S.empty(this.config.title)?"video":this.config.title,n=he("frameTitle",this.config),e.setAttribute("title",n.replace("{title}",t))))},togglePoster:function(e){K(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(t){var n=this;return 1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("poster",t),function(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):D.call(t,t.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return Re(t)}).catch(function(e){throw t===n.poster&&Fe.togglePoster.call(n,!1),e}).then(function(){if(t!==n.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(n.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),Fe.togglePoster.call(n,!0),t})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;K(this.elements.container,this.config.classNames.playing,this.playing),K(this.elements.container,this.config.classNames.paused,this.paused),K(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){Object.assign(e,{pressed:t.playing})}),S.event(e)&&"timeupdate"===e.type||Fe.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){K(t.elements.container,t.config.classNames.loading,t.loading),Fe.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t,n=this.elements.controls;n&&this.config.hideControls&&(t=this.touch&&this.lastSeekTime+2e3>Date.now(),this.toggleControls(Boolean(e||this.loading||this.paused||n.pressed||n.hover||t)))}},He=(e(ze,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode||e.which,o="keydown"===e.type,a=o&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&S.number(i))if(o){var r=document.activeElement;if(S.element(r)){if(o=t.config.selectors.editable,r!==n.inputs.seek&&X(r,o))return;if(32===e.which&&X(r,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:a||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:a||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:a||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){ke.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,K(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t,n=this.player,i=n.elements;clearTimeout(this.focusTimer),"keydown"===e.type&&9!==e.which||("keydown"===e.type&&(this.lastKeyDown=e.timeStamp),t=e.timeStamp-this.lastKeyDown<=20,"focus"===e.type&&!t||(t=n.config.classNames.tabFocus,K(G.call(n,".".concat(t)),t,!1),this.focusTimer=setTimeout(function(){var e=document.activeElement;i.container.contains(e)&&K(document.activeElement,n.config.classNames.tabFocus,!0)},10)))}},{key:"global",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&L.call(t,window,"keydown keyup",this.handleKey,e,!1),L.call(t,document.body,"click",this.toggleMenu,e),B.call(t,document.body,"touchstart",this.firstTouch),L.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var s=this.player,e=s.config,l=s.elements,n=s.timers;function c(e){if(!e)return ae.call(s);var e=(t=l.container.getBoundingClientRect()).width,t=t.height;return ae.call(s,"".concat(e,":").concat(t))}function u(){clearTimeout(n.resized),n.resized=setTimeout(c,50)}!e.keyboard.global&&e.keyboard.focused&&D.call(s,l.container,"keydown keyup",this.handleKey,!1),D.call(s,l.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var t=l.controls;t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1),t=0,["touchstart","touchmove","mousemove"].includes(e.type)&&(Fe.toggleControls.call(s,!0),t=s.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(function(){return Fe.toggleControls.call(s,!1)},t)}),D.call(s,l.container,"enterfullscreen exitfullscreen",function(e){var t,n,i,o=s.fullscreen,a=o.target,r=o.usingNative;a!==l.container||!s.isEmbed&&S.empty(s.config.ratio)||((i=c(t="enterfullscreen"===e.type)).padding,n=i.ratio,o=t,s.isVimeo&&(a=s.elements.wrapper.firstChild,e=d(n,2)[1],n=(i=d(oe.call(s),2))[0],i=i[1],a.style.maxWidth=o?"".concat(e/i*n,"px"):null,a.style.margin=o?"0 auto":null),r||(t?D:O).call(s,window,"resize",u))})}},{key:"media",value:function(){var t=this,n=this.player,i=n.elements;if(D.call(n,n.media,"timeupdate seeking seeked",function(e){return ke.timeUpdate.call(n,e)}),D.call(n,n.media,"durationchange loadeddata loadedmetadata",function(e){return ke.durationUpdate.call(n,e)}),D.call(n,n.media,"canplay loadeddata",function(){Z(i.volume,!n.hasAudio),Z(i.buttons.mute,!n.hasAudio)}),D.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&n.restart()}),D.call(n,n.media,"progress playing seeking seeked",function(e){return ke.updateProgress.call(n,e)}),D.call(n,n.media,"volumechange",function(e){return ke.updateVolume.call(n,e)}),D.call(n,n.media,"playing play pause ended emptied timeupdate",function(e){return Fe.checkPlaying.call(n,e)}),D.call(n,n.media,"waiting canplay seeked playing",function(e){return Fe.checkLoading.call(n,e)}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var o=Q.call(n,".".concat(n.config.classNames.video));if(!S.element(o))return;D.call(n,i.container,"click",function(e){([i.container,o].includes(e.target)||o.contains(e.target))&&(n.touch&&n.config.hideControls||(n.ended?(t.proxy(e,n.restart,"restart"),t.proxy(e,n.play,"play")):t.proxy(e,n.togglePlay,"play")))})}n.supported.ui&&n.config.disableContextMenu&&D.call(n,i.wrapper,"contextmenu",function(e){e.preventDefault()},!1),D.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),D.call(n,n.media,"ratechange",function(){ke.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),D.call(n,n.media,"qualitychange",function(e){ke.updateSetting.call(n,"quality",null,e.detail.quality)}),D.call(n,n.media,"ready qualitychange",function(){ke.setDownloadUrl.call(n)});var e=n.config.events.concat(["keyup","keydown"]).join(" ");D.call(n,n.media,e,function(e){var t=void 0===(t=e.detail)?{}:t;"error"===e.type&&(t=n.media.error),N.call(n,i.container,e.type,!0,t)})}},{key:"proxy",value:function(e,t,n){var i=this.player,o=i.config.listeners[n],n=!0;S.function(o)&&(n=o.call(i,e)),n&&S.function(t)&&t.call(i,e)}},{key:"bind",value:function(e,t,n,i){var o=this,a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=this.player,s=r.config.listeners[i],s=S.function(s);D.call(r,e,t,function(e){return o.proxy(e,n,i)},a&&!s)}},{key:"controls",value:function(){var e,i=this,o=this.player,a=o.elements,t=M.isIE?"change":"input";a.buttons.play&&Array.from(a.buttons.play).forEach(function(e){i.bind(e,"click",o.togglePlay,"play")}),this.bind(a.buttons.restart,"click",o.restart,"restart"),this.bind(a.buttons.rewind,"click",o.rewind,"rewind"),this.bind(a.buttons.fastForward,"click",o.forward,"fastForward"),this.bind(a.buttons.mute,"click",function(){o.muted=!o.muted},"mute"),this.bind(a.buttons.captions,"click",function(){return o.toggleCaptions()}),this.bind(a.buttons.download,"click",function(){N.call(o,o.media,"download")},"download"),this.bind(a.buttons.fullscreen,"click",function(){o.fullscreen.toggle()},"fullscreen"),this.bind(a.buttons.pip,"click",function(){o.pip="toggle"},"pip"),this.bind(a.buttons.airplay,"click",o.airplay,"airplay"),this.bind(a.buttons.settings,"click",function(e){e.stopPropagation(),ke.toggleMenu.call(o,e)}),this.bind(a.buttons.settings,"keyup",function(e){var t=e.which;[13,32].includes(t)&&(13!==t?(e.preventDefault(),e.stopPropagation(),ke.toggleMenu.call(o,e)):ke.focusFirstMenuItem.call(o,null,!0))},null,!1),this.bind(a.settings.menu,"keydown",function(e){27===e.which&&ke.toggleMenu.call(o,e)}),this.bind(a.inputs.seek,"mousedown mousemove",function(e){var t=100/(t=a.progress.getBoundingClientRect()).width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",t)}),this.bind(a.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var t=e.currentTarget,n=e.keyCode||e.which;S.keyboardEvent(e)&&39!==n&&37!==n||(o.lastSeekTime=Date.now(),n=t.hasAttribute("play-on-seeked"),e=["mouseup","touchend","keyup"].includes(e.type),n&&e?(t.removeAttribute("play-on-seeked"),o.play()):!e&&o.playing&&(t.setAttribute("play-on-seeked",""),o.pause()))}),M.isIos&&(e=G.call(o,'input[type="range"]'),Array.from(e).forEach(function(e){return i.bind(e,t,function(e){return A(e.target)})})),this.bind(a.inputs.seek,t,function(e){var t=e.currentTarget,e=t.getAttribute("seek-value");S.empty(e)&&(e=t.value),t.removeAttribute("seek-value"),o.currentTime=e/t.max*o.duration},"seek"),this.bind(a.progress,"mouseenter mouseleave mousemove",function(e){return ke.updateSeekTooltip.call(o,e)}),this.bind(a.progress,"mousemove touchmove",function(e){var t=o.previewThumbnails;t&&t.loaded&&t.startMove(e)}),this.bind(a.progress,"mouseleave click",function(){var e=o.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(a.progress,"mousedown touchstart",function(e){var t=o.previewThumbnails;t&&t.loaded&&t.startScrubbing(e)}),this.bind(a.progress,"mouseup touchend",function(e){var t=o.previewThumbnails;t&&t.loaded&&t.endScrubbing(e)}),M.isWebkit&&Array.from(G.call(o,'input[type="range"]')).forEach(function(e){i.bind(e,"input",function(e){return ke.updateRangeFill.call(o,e.target)})}),o.config.toggleInvert&&!S.element(a.display.duration)&&this.bind(a.display.currentTime,"click",function(){0!==o.currentTime&&(o.config.invertTime=!o.config.invertTime,ke.timeUpdate.call(o))}),this.bind(a.inputs.volume,t,function(e){o.volume=e.target.value},"volume"),this.bind(a.controls,"mouseenter mouseleave",function(e){a.controls.hover=!o.touch&&"mouseenter"===e.type}),this.bind(a.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){a.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(a.controls,"focusin",function(){var e=o.config,t=o.timers;K(a.controls,e.classNames.noTransition,!0),Fe.toggleControls.call(o,!0),setTimeout(function(){K(a.controls,e.classNames.noTransition,!1)},0);var n=i.touch?3e3:4e3;clearTimeout(t.controls),t.controls=setTimeout(function(){return Fe.toggleControls.call(o,!1)},n)}),this.bind(a.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,n=(i=d([e.deltaX,-e.deltaY].map(function(e){return t?-e:e}),2))[0],i=i[1],n=Math.sign(Math.abs(n)>Math.abs(i)?n:i);o.increaseVolume(n/50),i=o.media.volume,(1===n&&i<1||-1===n&&0<i)&&e.preventDefault()},"volume",!1)}}]),ze);function ze(e){s(this,ze),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}var Ue,je,qe,We,Ve=((rt={exports:{}}).exports=(Ue=function(){},je={},qe={},We={},Ke.ready=function(e,s){return function(e){e=e.push?e:[e];for(var t,n,i=[],o=e.length,a=o,r=function(e,t){t.length&&i.push(e),--a||Ze(s,i)};o--;)t=e[o],(n=qe[t])?r(t,n):(We[t]=We[t]||[]).push(r)}(e),Ke},Ke.done=function(e){$e(e,[])},Ke.reset=function(){je={},qe={},We={}},Ke.isDefined=function(e){return e in je},Ke),rt.exports);function $e(e,t){if(e){var n=We[e];if(qe[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function Ze(e,t){e.call&&(e={success:e}),t.length?(e.error||Ue)(t):(e.success||Ue)(e)}function Ke(e,t,n){var c,u;if(t&&t.trim&&(c=t),u=(c?n:t)||{},c){if(c in je)throw"LoadJS";je[c]=!0}function i(s,l){!function(e,t){for(var i=(e=e.push?e:[e]).length,n=i,o=[],a=function(e,t,n){if("e"==t&&o.push(e),"b"==t){if(!n)return;o.push(e)}--i||(Ze(u,e=o),s&&Ze({success:s,error:l},e),$e(c,e))},r=0;r<n;r++)!function n(i,o,a,r){var s,l,e=document,t=a.async,c=(a.numRetries||0)+1,u=a.before||Ue,d=i.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(i)?((l=e.createElement("link")).rel="stylesheet",l.href=d,(s="hideFocus"in l)&&l.relList&&(s=0,l.rel="preload",l.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(i)?(l=e.createElement("img")).src=d:((l=e.createElement("script")).src=i,l.async=void 0===t||t),!(l.onload=l.onerror=l.onbeforeload=function(e){var t=e.type[0];if(s)try{l.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((r+=1)<c)return n(i,o,a,r)}else if("preload"==l.rel&&"style"==l.as)return l.rel="stylesheet";o(i,t,e.defaultPrevented)})!==u(i,l)&&e.head.appendChild(l)}(e[r],a,t)}(e,u)}if(u.returnPromise)return new Promise(i);i()}function Ye(n){return new Promise(function(e,t){Ve(n,{success:e,error:t})})}function Xe(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,N.call(this,this.media,e?"play":"pause"))}var Ge={setup:function(){var t=this;K(this.elements.wrapper,this.config.classNames.embed,!0),ae.call(this),S.object(window.Vimeo)?Ge.ready.call(this):Ye(this.config.urls.vimeo.sdk).then(function(){Ge.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var n=this,r=this,e=r.config.vimeo,t=_e(F({},{loop:r.config.loop.active,autoplay:r.autoplay,muted:r.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},e)),i=r.media.getAttribute("src");S.empty(i)&&(i=r.media.getAttribute(r.config.attributes.embed.id)),e=i,i=S.empty(e)?null:!S.number(Number(e))&&e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e,e=U("iframe"),t=le(r.config.urls.vimeo.iframe,i,t),e.setAttribute("src",t),e.setAttribute("allowfullscreen",""),e.setAttribute("allowtransparency",""),e.setAttribute("allow","autoplay"),(t=U("div",{poster:r.poster,class:r.config.classNames.embedContainer})).appendChild(e),r.media=V(t,r.media),ge(le(r.config.urls.vimeo.api,i),"json").then(function(e){S.empty(e)||((e=new URL(e[0].thumbnail_large)).pathname="".concat(e.pathname.split("_")[0],".jpg"),Fe.setPoster.call(r,e.href).catch(function(){}))}),r.embed=new window.Vimeo.Player(e,{autopause:r.config.autopause,muted:r.muted}),r.media.paused=!0,r.media.currentTime=0,r.supported.ui&&r.embed.disableTextTrack(),r.media.play=function(){return Xe.call(r,!0),r.embed.play()},r.media.pause=function(){return Xe.call(r,!1),r.embed.pause()},r.media.stop=function(){r.pause(),r.currentTime=0};var o=r.media.currentTime;Object.defineProperty(r.media,"currentTime",{get:function(){return o},set:function(e){var t=r.embed,n=r.media,i=r.paused,o=r.volume,a=i&&!t.hasPlayed;n.seeking=!0,N.call(r,n,"seeking"),Promise.resolve(a&&t.setVolume(0)).then(function(){return t.setCurrentTime(e)}).then(function(){return a&&t.pause()}).then(function(){return a&&t.setVolume(o)}).catch(function(){})}});var a=r.config.speed.selected;Object.defineProperty(r.media,"playbackRate",{get:function(){return a},set:function(e){r.embed.setPlaybackRate(e).then(function(){a=e,N.call(r,r.media,"ratechange")}).catch(function(e){"Error"===e.name&&ke.setSpeedMenu.call(r,[])})}});var s=r.config.volume;Object.defineProperty(r.media,"volume",{get:function(){return s},set:function(e){r.embed.setVolume(e).then(function(){s=e,N.call(r,r.media,"volumechange")})}});var l=r.config.muted;Object.defineProperty(r.media,"muted",{get:function(){return l},set:function(e){var t=!!S.boolean(e)&&e;r.embed.setVolume(t?0:r.config.volume).then(function(){l=t,N.call(r,r.media,"volumechange")})}});var c,u=r.config.loop;Object.defineProperty(r.media,"loop",{get:function(){return u},set:function(e){var t=S.boolean(e)?e:r.config.loop.active;r.embed.setLoop(t).then(function(){u=t})}}),r.embed.getVideoUrl().then(function(e){c=e,ke.setDownloadUrl.call(r)}).catch(function(e){n.debug.warn(e)}),Object.defineProperty(r.media,"currentSrc",{get:function(){return c}}),Object.defineProperty(r.media,"ended",{get:function(){return r.currentTime===r.duration}}),Promise.all([r.embed.getVideoWidth(),r.embed.getVideoHeight()]).then(function(e){var e=(t=d(e,2))[0],t=t[1];r.embed.ratio=[e,t],ae.call(n)}),r.embed.setAutopause(r.config.autopause).then(function(e){r.config.autopause=e}),r.embed.getVideoTitle().then(function(e){r.config.title=e,Fe.setTitle.call(n)}),r.embed.getCurrentTime().then(function(e){o=e,N.call(r,r.media,"timeupdate")}),r.embed.getDuration().then(function(e){r.media.duration=e,N.call(r,r.media,"durationchange")}),r.embed.getTextTracks().then(function(e){r.media.textTracks=e,Se.setup.call(r)}),r.embed.on("cuechange",function(e){e=(void 0===(e=e.cues)?[]:e).map(function(e){return t=e.text,n=document.createDocumentFragment(),e=document.createElement("div"),n.appendChild(e),e.innerHTML=t,n.firstChild.innerText;var t,n}),Se.updateCues.call(r,e)}),r.embed.on("loaded",function(){r.embed.getPaused().then(function(e){Xe.call(r,!e),e||N.call(r,r.media,"playing")}),S.element(r.embed.element)&&r.supported.ui&&r.embed.element.setAttribute("tabindex",-1)}),r.embed.on("play",function(){Xe.call(r,!0),N.call(r,r.media,"playing")}),r.embed.on("pause",function(){Xe.call(r,!1)}),r.embed.on("timeupdate",function(e){r.media.seeking=!1,o=e.seconds,N.call(r,r.media,"timeupdate")}),r.embed.on("progress",function(e){r.media.buffered=e.percent,N.call(r,r.media,"progress"),1===parseInt(e.percent,10)&&N.call(r,r.media,"canplaythrough"),r.embed.getDuration().then(function(e){e!==r.media.duration&&(r.media.duration=e,N.call(r,r.media,"durationchange"))})}),r.embed.on("seeked",function(){r.media.seeking=!1,N.call(r,r.media,"seeked")}),r.embed.on("ended",function(){r.media.paused=!0,N.call(r,r.media,"ended")}),r.embed.on("error",function(e){r.media.error=e,N.call(r,r.media,"error")}),setTimeout(function(){return Fe.build.call(r)},0)}};function Qe(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,N.call(this,this.media,e?"play":"pause"))}var Je={setup:function(){var e,t=this;K(this.elements.wrapper,this.config.classNames.embed,!0),S.object(window.YT)&&S.function(window.YT.Player)?Je.ready.call(this):(e=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){S.function(e)&&e(),Je.ready.call(t)},Ye(this.config.urls.youtube.sdk).catch(function(e){t.debug.warn("YouTube API failed to load",e)}))},getTitle:function(e){var i=this;ge(le(this.config.urls.youtube.api,e)).then(function(e){var t,n;S.object(e)&&(t=e.title,n=e.height,e=e.width,i.config.title=t,Fe.setTitle.call(i),i.embed.ratio=[e,n]),ae.call(i)}).catch(function(){ae.call(i)})},ready:function(){var o,e,t,a=this,n=a.media&&a.media.getAttribute("id");!S.empty(n)&&n.startsWith("youtube-")||(t=a.media.getAttribute("src"),S.empty(t)&&(t=a.media.getAttribute(this.config.attributes.embed.id)),n=t,o=S.empty(n)?null:n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:n,t=a.provider,t=U("div",{id:n="".concat(t,"-").concat(Math.floor(1e4*Math.random())),poster:a.poster}),a.media=V(t,a.media),Re((e=function(e){return"https://i.ytimg.com/vi/".concat(o,"/").concat(e,"default.jpg")})("maxres"),121).catch(function(){return Re(e("sd"),121)}).catch(function(){return Re(e("hq"))}).then(function(e){return Fe.setPoster.call(a,e.src)}).then(function(e){e.includes("maxres")||(a.elements.poster.style.backgroundSize="cover")}).catch(function(){}),t=a.config.youtube,a.embed=new window.YT.Player(n,{videoId:o,host:t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:F({},{autoplay:a.config.autoplay?1:0,hl:a.config.hl,controls:a.supported.ui?0:1,disablekb:1,playsinline:a.config.fullscreen.iosNative?0:1,cc_load_policy:a.captions.active?1:0,cc_lang_pref:a.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError:function(e){var t;a.media.error||(e={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t=e.data]||"An unknown error occured",a.media.error={code:t,message:e},N.call(a,a.media,"error"))},onPlaybackRateChange:function(e){e=e.target,a.media.playbackRate=e.getPlaybackRate(),N.call(a,a.media,"ratechange")},onReady:function(e){var t,n,i;S.function(a.media.play)||(t=e.target,Je.getTitle.call(a,o),a.media.play=function(){Qe.call(a,!0),t.playVideo()},a.media.pause=function(){Qe.call(a,!1),t.pauseVideo()},a.media.stop=function(){t.stopVideo()},a.media.duration=t.getDuration(),a.media.paused=!0,a.media.currentTime=0,Object.defineProperty(a.media,"currentTime",{get:function(){return Number(t.getCurrentTime())},set:function(e){a.paused&&!a.embed.hasPlayed&&a.embed.mute(),a.media.seeking=!0,N.call(a,a.media,"seeking"),t.seekTo(e)}}),Object.defineProperty(a.media,"playbackRate",{get:function(){return t.getPlaybackRate()},set:function(e){t.setPlaybackRate(e)}}),n=a.config.volume,Object.defineProperty(a.media,"volume",{get:function(){return n},set:function(e){n=e,t.setVolume(100*n),N.call(a,a.media,"volumechange")}}),i=a.config.muted,Object.defineProperty(a.media,"muted",{get:function(){return i},set:function(e){e=S.boolean(e)?e:i,t[(i=e)?"mute":"unMute"](),N.call(a,a.media,"volumechange")}}),Object.defineProperty(a.media,"currentSrc",{get:function(){return t.getVideoUrl()}}),Object.defineProperty(a.media,"ended",{get:function(){return a.currentTime===a.duration}}),a.options.speed=t.getAvailablePlaybackRates(),a.supported.ui&&a.media.setAttribute("tabindex",-1),N.call(a,a.media,"timeupdate"),N.call(a,a.media,"durationchange"),clearInterval(a.timers.buffering),a.timers.buffering=setInterval(function(){a.media.buffered=t.getVideoLoadedFraction(),(null===a.media.lastBuffered||a.media.lastBuffered<a.media.buffered)&&N.call(a,a.media,"progress"),a.media.lastBuffered=a.media.buffered,1===a.media.buffered&&(clearInterval(a.timers.buffering),N.call(a,a.media,"canplaythrough"))},200),setTimeout(function(){return Fe.build.call(a)},50))},onStateChange:function(e){var t=e.target;switch(clearInterval(a.timers.playing),a.media.seeking&&[1,2].includes(e.data)&&(a.media.seeking=!1,N.call(a,a.media,"seeked")),e.data){case-1:N.call(a,a.media,"timeupdate"),a.media.buffered=t.getVideoLoadedFraction(),N.call(a,a.media,"progress");break;case 0:Qe.call(a,!1),a.media.loop?(t.stopVideo(),t.playVideo()):N.call(a,a.media,"ended");break;case 1:a.config.autoplay||!a.media.paused||a.embed.hasPlayed?(Qe.call(a,!0),N.call(a,a.media,"playing"),a.timers.playing=setInterval(function(){N.call(a,a.media,"timeupdate")},50),a.media.duration!==t.getDuration()&&(a.media.duration=t.getDuration(),N.call(a,a.media,"durationchange"))):a.media.pause();break;case 2:a.muted||a.embed.unMute(),Qe.call(a,!1)}N.call(a,a.elements.container,"statechange",!1,{code:e.data})}}}))}},et={setup:function(){this.media?(K(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),K(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&K(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=U("div",{class:this.config.classNames.video}),H(this.media,this.elements.wrapper),this.elements.poster=U("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?re.extend.call(this):this.isYouTube?Je.setup.call(this):this.isVimeo&&Ge.setup.call(this)):this.debug.warn("No media element found!")}},tt=(e(at,[{key:"load",value:function(){var e=this;this.enabled&&(S.object(window.google)&&S.object(window.google.ima)?this.ready():Ye(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.enabled||(this.manager&&this.manager.destroy(),this.elements.displayContainer&&this.elements.displayContainer.destroy(),this.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=U("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.tagUrl,n.linearAdSlotWidth=e.offsetWidth,n.linearAdSlotHeight=e.offsetHeight,n.nonLinearAdSlotWidth=e.offsetWidth,n.nonLinearAdSlotHeight=e.offsetHeight,n.forceNonLinearFullSlot=!1,n.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(n)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(){var t=this;if(!(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=xe(Math.max(t.manager.getRemainingTime(),0)),e="".concat(he("advertisement",t.player.config)," - ").concat(e);t.elements.container.setAttribute("data-badge-text",e)},100)}},{key:"onAdsManagerLoaded",value:function(e){var t,n=this;this.enabled&&((t=new google.ima.AdsRenderingSettings).restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return n.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){n.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return n.onAdEvent(e)})}),this.trigger("loaded"))}},{key:"addCuePoints",value:function(){var i=this;S.empty(this.cuePoints)||this.cuePoints.forEach(function(e){var t,n;0!==e&&-1!==e&&e<i.player.duration&&(t=i.player.elements.progress,S.element(t)&&(n=100/i.player.duration*e,(e=U("span",{class:i.player.config.classNames.cues})).style.left="".concat(n.toString(),"%"),t.appendChild(e)))})}},{key:"onAdEvent",value:function(e){var t=this.player.elements.container,n=e.getAd(),i=e.getAdData(),o=e.type;switch(N.call(this.player,this.player.media,"ads".concat(o.replace(/_/g,"").toLowerCase())),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:i.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(i.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var i,o=this,e=this.player.elements.container;this.player.on("canplay",function(){o.addCuePoints()}),this.player.on("ended",function(){o.loader.contentComplete()}),this.player.on("timeupdate",function(){i=o.player.currentTime}),this.player.on("seeked",function(){var n=o.player.currentTime;S.empty(o.cuePoints)||o.cuePoints.forEach(function(e,t){i<e&&e<n&&(o.manager.discardAdBreak(),o.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){o.manager&&o.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.manager.setVolume(t.player.volume),t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e=this.events[e],S.array(e)&&e.forEach(function(e){S.function(e)&&e.apply(t,i)})}},{key:"on",value:function(e,t){return S.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout(function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){S.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!S.empty(e.publisherId)||S.url(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;return S.url(e.tagUrl)?e.tagUrl:(e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId},"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(_e(e)))}}]),at),nt=(e(ot,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)})}},{key:"getThumbnails",value:function(){var n=this;return new Promise(function(e){var t=n.player.config.previewThumbnails.src;if(S.empty(t))throw new Error("Missing previewThumbnails.src config attribute");t=(S.string(t)?[t]:t).map(function(e){return n.getThumbnail(e)}),Promise.all(t).then(function(){n.thumbnails.sort(function(e,t){return e.height-t.height}),n.player.debug.log("Preview thumbnails",n.thumbnails),e()})})}},{key:"getThumbnail",value:function(a){var r=this;return new Promise(function(o){ge(a).then(function(e){var t,n={frames:(t=[],e.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(e){var i={};e.split(/\r\n|\n|\r/).forEach(function(e){var t,n;S.number(i.startTime)?!S.empty(e.trim())&&S.empty(i.text)&&(t=d(n=e.trim().split("#xywh="),1),i.text=t[0],n[1]&&(n=d(n[1].split(","),4),i.x=n[0],i.y=n[1],i.w=n[2],i.h=n[3])):(e=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/))&&(i.startTime=60*Number(e[1]||0)*60+60*Number(e[2])+Number(e[3])+Number("0.".concat(e[4])),i.endTime=60*Number(e[6]||0)*60+60*Number(e[7])+Number(e[8])+Number("0.".concat(e[9])))}),i.text&&t.push(i)}),t),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=a.substring(0,a.lastIndexOf("/")+1));var i=new Image;i.onload=function(){n.height=i.naturalHeight,n.width=i.naturalWidth,r.thumbnails.push(n),o()},i.src=n.urlPrefix+n.frames[0].text})})}},{key:"startMove",value:function(e){var t;this.loaded&&S.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration&&("touchmove"===e.type?this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100):(t=100/(t=this.player.elements.progress.getBoundingClientRect()).width*(e.pageX-t.left),this.seekTime=this.player.media.duration*(t/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=xe(this.seekTime)),this.showImageAtCurrentTime())}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){!1!==e.button&&0!==e.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):B.call(this.player,this.player.media,"timeupdate",function(){e.mouseDown||e.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var e=this;this.player.on("play",function(){e.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){e.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){e.lastTime=e.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=U("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=U("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=U("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=U("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),S.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=U("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"showImageAtCurrentTime",value:function(){var n=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var i=this.thumbnails[0].frames.findIndex(function(e){return n.seekTime>=e.startTime&&n.seekTime<=e.endTime}),e=0<=i,o=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach(function(e,t){n.loadedImages.includes(e.frames[i].text)&&(o=t)}),i!==this.showingThumb&&(this.showingThumb=i,this.loadImage(o)))}},{key:"loadImage",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,i=this.showingThumb,o=this.thumbnails[n],a=o.urlPrefix,r=o.frames[i],s=o.frames[i].text,a=a+s;this.currentImageElement&&this.currentImageElement.dataset.filename===s?(this.showImage(this.currentImageElement,r,n,i,s,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement)):(this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null),(e=new Image).src=a,e.dataset.index=i,e.dataset.filename=s,this.showingThumbFilename=s,this.player.debug.log("Loading image: ".concat(a)),e.onload=function(){return t.showImage(e,r,n,i,s,!0)},this.loadingImage=e,this.removeOldImages(e))}},{key:"showImage",value:function(e,t,n,i,o){var a=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(o,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(a)),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,o))}},{key:"removeOldImages",value:function(i){var o=this;Array.from(this.currentImageContainer.children).forEach(function(e){var t,n;"img"===e.tagName.toLowerCase()&&(t=o.usingSprites?500:1e3,e.dataset.index===i.dataset.index||e.dataset.deleting||(e.dataset.deleting=!0,n=o.currentImageContainer,setTimeout(function(){n.removeChild(e),o.player.debug.log("Removing thumb: ".concat(e.dataset.filename))},t)))})}},{key:"preloadNearby",value:function(t){var r=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return new Promise(function(a){setTimeout(function(){var e,i,o=r.thumbnails[0].frames[t].text;r.showingThumbFilename===o&&(e=n?r.thumbnails[0].frames.slice(t):r.thumbnails[0].frames.slice(0,t).reverse(),i=!1,e.forEach(function(e){var t,n=e.text;n===o||r.loadedImages.includes(n)||(i=!0,r.player.debug.log("Preloading thumb filename: ".concat(n)),t=r.thumbnails[0].urlPrefix+n,(e=new Image).src=t,e.onload=function(){r.player.debug.log("Preloaded thumb filename: ".concat(n)),r.loadedImages.includes(n)||r.loadedImages.push(n),a()})}),i||a())},300)})}},{key:"getHigherQuality",value:function(e,t,n,i){var o=this;e<this.thumbnails.length-1&&(t=t.naturalHeight,this.usingSprites&&(t=n.h),t<this.thumbContainerHeight&&setTimeout(function(){o.showingThumbFilename===i&&(o.player.debug.log("Showing higher quality thumb for: ".concat(i)),o.loadImage(e+1))},300))}},{key:"toggleThumbContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){20<this.elements.thumb.imageContainer.clientHeight&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){var e;this.sizeSpecifiedInCSS||(e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio),this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(e,"px")),this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=t.left-e.left+10,t=t.right-e.left-n.clientWidth-10;(e=this.mousePosX-e.left-n.clientWidth/2)<i&&(e=i),t<e&&(e=t),n.style.left="".concat(e,"px")}},{key:"setScrubbingContainerSize",value:function(){this.elements.scrubbing.container.style.width="".concat(this.player.media.clientWidth,"px"),this.elements.scrubbing.container.style.height="".concat(this.player.media.clientWidth/this.thumbAspectRatio,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){var n;this.usingSprites&&(n=this.thumbContainerHeight/t.h,e.style.height="".concat(Math.floor(e.naturalHeight*n),"px"),e.style.width="".concat(Math.floor(e.naturalWidth*n),"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px"))}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Math.floor(this.player.media.clientWidth/this.thumbAspectRatio):Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),ot),it={insertElements:function(t,e){var n=this;S.string(e)?j(t,this.media,{src:e}):S.array(e)&&e.forEach(function(e){j(t,n.media,e)})},change:function(a){var r=this;R(a,"sources.length")?(re.cancelRequests.call(this),this.destroy.call(this,function(){r.options.quality=[],q(r.media),r.media=null,S.element(r.elements.container)&&r.elements.container.removeAttribute("class");var e=a.sources,t=a.type,n=void 0===(i=(o=d(e,1)[0]).provider)?Ae.html5:i,i=o.src,o="html5"===n?t:"div",i="html5"===n?{}:{src:i};Object.assign(r,{provider:n,type:t,supported:te.check(t,n,r.config.playsinline),media:U(o,i)}),r.elements.container.appendChild(r.media),S.boolean(a.autoplay)&&(r.config.autoplay=a.autoplay),r.isHTML5&&(r.config.crossorigin&&r.media.setAttribute("crossorigin",""),r.config.autoplay&&r.media.setAttribute("autoplay",""),S.empty(a.poster)||(r.poster=a.poster),r.config.loop.active&&r.media.setAttribute("loop",""),r.config.muted&&r.media.setAttribute("muted",""),r.config.playsinline&&r.media.setAttribute("playsinline","")),Fe.addStyleHook.call(r),r.isHTML5&&it.insertElements.call(r,"source",e),r.config.title=a.title,et.setup.call(r),r.isHTML5&&Object.keys(a).includes("tracks")&&it.insertElements.call(r,"track",a.tracks),(r.isHTML5||r.isEmbed&&!r.supported.ui)&&Fe.build.call(r),r.isHTML5&&r.media.load(),r.previewThumbnails&&r.previewThumbnails.load(),r.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};function ot(e){s(this,ot),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}function at(e){var n=this;s(this,at),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){n.on("loaded",e),n.on("error",t)}),this.load()}var rt=(e(st,[{key:"play",value:function(){var e=this;return S.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return e.ads.play()}).catch(function(){return e.media.play()}),this.media.play()):null}},{key:"pause",value:function(){this.playing&&S.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(S.boolean(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):S.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(S.number(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(S.number(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(S.number(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){Se.toggle.call(this,e,!1)}},{key:"airplay",value:function(){te.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(!this.supported.ui||this.isAudio)return!1;var t=Y(this.elements.container,this.config.classNames.hideControls),e=void 0===e?void 0:!e;return(e=K(this.elements.container,this.config.classNames.hideControls,e))&&this.config.controls.includes("settings")&&!S.empty(this.config.settings)&&ke.toggleMenu.call(this,!1),e!==t&&(t=e?"controlshidden":"controlsshown",N.call(this,this.media,t)),!e}},{key:"on",value:function(e,t){D.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){B.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){O(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t,n=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.ready&&(t=function(){document.body.style.overflow="",n.embed=null,i?(Object.keys(n.elements).length&&(q(n.elements.buttons.play),q(n.elements.captions),q(n.elements.controls),q(n.elements.wrapper),n.elements.buttons.play=null,n.elements.captions=null,n.elements.controls=null,n.elements.wrapper=null),S.function(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,n=e.type,i=e.callback,e=e.options;t.removeEventListener(n,i,e)}),this.eventListeners=[])}.call(n),V(n.elements.original,n.elements.container),N.call(n,n.elements.original,"destroyed",!0),S.function(e)&&e.call(n.elements.original),n.ready=!1,setTimeout(function(){n.elements=null,n.media=null},200))},this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Fe.toggleNativeControls.call(this,!0),t()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&S.function(this.embed.destroy)&&this.embed.destroy(),t()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(t),setTimeout(t,200)))}},{key:"supports",value:function(e){return te.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===Ae.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===Ae.youtube}},{key:"isVimeo",get:function(){return this.provider===Ae.vimeo}},{key:"isVideo",get:function(){return this.type===Me.video}},{key:"isAudio",get:function(){return this.type===Me.audio}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){var t;this.duration&&(t=S.number(e)&&0<e,this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds")))},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return S.number(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,t=S.number(t)&&t!==1/0?t:0;return e||t}},{key:"volume",set:function(e){var t=e;S.string(t)&&(t=Number(t)),S.number(t)||(t=this.storage.get("volume")),S.number(t)||(t=this.config.volume),1<t&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S.empty(e)&&this.muted&&0<t&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){S.boolean(e)||(e=this.storage.get("muted")),S.boolean(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;S.number(e)&&(n=e),S.number(n)||(n=this.storage.get("speed")),S.number(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,e=this.maximumSpeed,n=function(e,t,n){return e=0<arguments.length&&void 0!==e?e:0,t=1<arguments.length&&void 0!==t?t:0,n=2<arguments.length&&void 0!==n?n:255,Math.min(Math.max(e,t),n)}(n,i,e);this.config.speed.selected=n,setTimeout(function(){t.media.playbackRate=n},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,o(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,o(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t,n,i=this.config.quality,o=this.options.quality;o.length&&(t=[!S.empty(e)&&Number(e),this.storage.get("quality"),i.selected,i.default].find(S.number),e=!0,o.includes(t)||(n=t,o=S.array(o)&&o.length?o.reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}):null,this.debug.warn("Unsupported quality option: ".concat(t,", using ").concat(o," instead")),t=o,e=!1),i.selected=t,this.media.quality=t,e&&this.storage.set({quality:t}))},get:function(){return this.media.quality}},{key:"loop",set:function(e){e=S.boolean(e)?e:this.config.loop.active,this.config.loop.active=e,this.media.loop=e},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){it.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return S.url(e)?e:this.source},set:function(e){S.url(e)&&(this.config.urls.download=e,ke.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?Fe.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=ie(oe.call(this));return S.array(e)?e.join(":"):e},set:function(e){this.isVideo?S.string(e)&&ne(e)?(this.config.ratio=e,ae.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){e=S.boolean(e)?e:this.config.autoplay,this.config.autoplay=e},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){Se.set.call(this,e,!1)},get:function(){var e=(t=this.captions).toggled,t=t.currentTrack;return e?t:-1}},{key:"language",set:function(e){Se.setLanguage.call(this,e,!1)},get:function(){return(Se.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){te.pip&&(e=S.boolean(e)?e:!this.pip,S.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?Ie:"inline"),S.function(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture()))},get:function(){return te.pip?S.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ie:null}}],[{key:"supported",value:function(e,t,n){return te.check(e,t,n)}},{key:"loadSprite",value:ye},{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;return S.string(e)?n=Array.from(document.querySelectorAll(e)):S.nodeList(e)?n=Array.from(e):S.array(e)&&(n=e.filter(S.element)),S.empty(n)?null:n.map(function(e){return new st(e,t)})}}]),st);function st(e,t){var n=this;if(s(this,st),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=te.touch,this.media=e,S.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S.nodeList(this.media)||S.array(this.media))&&(this.media=this.media[0]),this.config=F({},Ee,st.defaults,t||{},function(){try{return JSON.parse(n.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Pe(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",te),!S.nullOrUndefined(this.media)&&S.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(te.check().api){(t=this.media.cloneNode(!0)).autoplay=!1,this.elements.original=t;var i=this.media.tagName.toLowerCase(),o=null,a=null;switch(i){case"div":var r,o=this.media.querySelector("iframe");if(S.element(o)?(a=Te(o.getAttribute("src")),this.provider=(r=a.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(r)?Ae.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(r)?Ae.vimeo:null),this.elements.container=this.media,this.media=o,this.elements.container.className="",a.search.length&&((r=["1","true"]).includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),r.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=r.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0)):(this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider)),S.empty(this.provider)||!Object.keys(Ae).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Me.video;break;case"video":case"audio":this.type=i,this.provider=Ae.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=te.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new He(this),this.storage=new pe(this),this.media.plyr=this,S.element(this.elements.container)||(this.elements.container=U("div",{tabindex:0}),H(this.media,this.elements.container)),Fe.addStyleHook.call(this),et.setup.call(this),this.config.debug&&D.call(this,this.elements.container,this.config.events.join(" "),function(e){n.debug.log("event: ".concat(e.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new Be(this),this.config.ads.enabled&&(this.ads=new tt(this)),this.isHTML5&&this.config.autoplay&&setTimeout(function(){return n.play()},10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new nt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return rt.defaults=JSON.parse(JSON.stringify(Ee)),rt}),function(i){"use strict";i(document).on("click",".sl-button",function(){var e=i(this),t=e.attr("data-post-id"),n=e.attr("data-nonce"),e=e.attr("data-iscomment"),o=i("1"===e?".sl-comment-button-"+t:".sl-button-"+t),a=o.next("#sl-loader");return""!==t&&i.ajax({type:"POST",url:simpleLikes.ajaxurl,data:{action:"process_simple_like",post_id:t,nonce:n,is_comment:e},beforeSend:function(){a.html("&nbsp;")},success:function(e){var t,n=e.icon,i=e.count;o.html(n+i),"unliked"===e.status?(t=simpleLikes.like,o.prop("title",t),o.removeClass("liked")):(t=simpleLikes.unlike,o.prop("title",t),o.addClass("liked")),a.empty()}}),!1})}(jQuery);
